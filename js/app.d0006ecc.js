(function(t){function e(e){for(var r,o,a=e[0],h=e[1],n=e[2],c=0,u=[];c<a.length;c++)o=a[c],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(r in h)Object.prototype.hasOwnProperty.call(h,r)&&(t[r]=h[r]);d&&d(e);while(u.length)u.shift()();return l.push.apply(l,n||[]),i()}function i(){for(var t,e=0;e<l.length;e++){for(var i=l[e],r=!0,a=1;a<i.length;a++){var h=i[a];0!==s[h]&&(r=!1)}r&&(l.splice(e--,1),t=o(o.s=i[0]))}return t}var r={},s={app:0},l=[];function o(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=r,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(i,r,function(e){return t[e]}.bind(null,r));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/canvas-spreadsheet/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],h=a.push.bind(a);a.push=e,a=a.slice();for(var n=0;n<a.length;n++)e(a[n]);var d=h;l.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"11bc":function(t,e,i){"use strict";var r=i("c478"),s=i.n(r);s.a},"22b7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAABvklEQVQ4T42Sv08UQRTHv293EbXw/gMtsNDCUk0U/QdOEoKFiVFoSUj4sR7EYn+83R0SRdyFzsZCYww2aiRXkFgpmhhKWinQv+Ao1As788yc3HlcCLmp5r03n5nvvO8jdC1mPiNeZZIgtyF04aC0LYQPVDaeMfNe+zi1N6xWrwHmrQCfRJcvmr/0pq0NnnaHyfUmCLgJOGMczHy1+RaYpiuXjSN1o/X9NK5tdKto76PkyYjjes8dQ9Uomt0iZj4Jt7ID6CkOa++PgjqqsuVRkFugbFwkVvkkBFUO/ZFeiFUhHMx1vmPrnOXrINQt+NFoXaTxfL0/8OktEM0SZ8WulM0bSfLwRz9gHD86S97gZ+qVY+NDFvVIbclVhbRe3P9jhhcXH/y0SaWWz3WDQVDb7Y7tixg4sUlxVrwjkTcc+WvHdfS/LfkEOTRKiVq5I2KmOfSv9wOyyrcg5rH10YFX+WZEXqWhv3ocHGX5jEN0D2XjasujIFsa8mjgixjkSTS3dBQcq2KBAF/2m1esAx1zLezCewngFAm9Jldv2wtEu5eE5C6A3xrluAoXdjqzeqj9/8aqCuD8Qf47RNd7x/EvLrzB/TA/EB4AAAAASUVORK5CYII="},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"data-grid-demo"}}),i("div",{staticStyle:{padding:"12px 0"}},[i("el-button",{attrs:{size:"small"},on:{click:t.getData}},[t._v("获取数据")]),i("el-button",{attrs:{size:"small"},on:{click:t.updateData}},[t._v("更新行数据")]),i("el-button",{attrs:{size:"small"},on:{click:t.getCheckedRows}},[t._v("获取选中行数据")]),i("el-button",{attrs:{size:"small"},on:{click:t.getChangedRows}},[t._v("获取已改变行数据")]),i("el-button",{attrs:{size:"small"},on:{click:t.getValidations}},[t._v("获取校验结果")]),i("el-button",{attrs:{size:"small"},on:{click:t.setValidations}},[t._v("设置校验结果")]),i("el-button",{attrs:{size:"small"},on:{click:t.clearValidations}},[t._v("清空校验结果")]),i("el-button",{attrs:{size:"small"},on:{click:t.setFullScreen}},[t._v(" "+t._s(t.isFullscreen?"退出全屏":"全屏")+" ")])],1),i("DataGrid",{ref:"datagrid",attrs:{columns:t.columns,data:t.gridData,"fixed-left":2,"fixed-right":1},on:{"after-edit-cell":t.afterEditCell,"after-autofill":t.afterAutofill,"after-paste":t.afterPaste,"after-clear":t.afterClear}})],1)},l=[],o=(i("b680"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleclickoutside,expression:"handleclickoutside"}],class:t.CSS_PREFIX,on:{paste:t.doPaste}},[i("div",{class:t.CSS_PREFIX+"-main"},[i("canvas",{class:t.CSS_PREFIX+"-table",attrs:{id:t.CSS_PREFIX+"-target"}}),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],class:t.CSS_PREFIX+"-overlayer",style:{top:t.tableHeaderHeight+1+"px"}},[i("div",{ref:"editor",class:t.CSS_PREFIX+"-editor",style:t.editorSty},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isSimple,expression:"isSimple"}],ref:"text",attrs:{contenteditable:"true"},on:{input:t.inputHandler,keydown:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;e.preventDefault()},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.preventDefault()}]}}),"month"===t.dataType?i("el-date-picker",{ref:"month",class:t.CSS_PREFIX+"-popup",style:t.popupSty,attrs:{editable:!1,type:"month",size:"medium",placeholder:"选择月份",format:"yyyy-MM","value-format":"yyyy-MM"},on:{change:t.selectChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):"date"===t.dataType?i("el-date-picker",{ref:"date",class:t.CSS_PREFIX+"-popup",style:t.popupSty,attrs:{editable:!1,type:"date",size:"medium",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:t.selectChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):"datetime"===t.dataType?i("el-date-picker",{ref:"datetime",class:t.CSS_PREFIX+"-popup",style:t.popupSty,attrs:{editable:!1,type:"datetime",size:"medium",placeholder:"选择日期时间",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm"},on:{change:t.selectChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):"select"===t.dataType?i("el-select",{ref:"select",class:t.CSS_PREFIX+"-popup",style:t.popupSty,attrs:{clearable:"",filterable:"",size:"medium","automatic-dropdown":!0},on:{change:t.selectChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.selectOptions,(function(t){return i("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1):t._e()],1)])])])}),a=[],h=(i("99af"),i("caad"),i("d81d"),i("a9e3"),i("ac1f"),i("2532"),i("1276"),"xs-data-grid"),n=36,d=36,c=36,u=36,f=100,g=16,v=8,y="#dee0e3",w="#bbbec4",x="rgb(82,146,247)",b="rgba(82,146,247,0.1)",p="rgba(82,146,247,0.1)",m="#f8f8f9",k="#80848f",C="#ED3F14",A={mini:100,small:140,medium:200,large:300},S=(i("4160"),i("159b"),i("5530")),I=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=[];return e.forEach((function(e){e.children?i=i.concat(t(e.children)):i.push(e)})),i},z=function t(e){return e?e.map((function(e){return t(e.children)+1})).sort((function(t,e){return e-t}))[0]:0},O=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(void 0===i&&(i=z(e)),e)return e.map((function(e){if(e.children){var s=0,l=t(e.children,i-1,r+1);return l.forEach((function(t){s+=t.colspan})),Object(S["a"])({level:r,rowspan:1,colspan:s},e,{children:l})}return Object(S["a"])({level:r,rowspan:i,colspan:1},e)}))},H=(i("4de4"),i("13d5"),i("fb6a"),i("a434"),i("c7cd"),i("d4ec")),R=i("bee2"),T=(i("b64b"),i("4f96")),E=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(H["a"])(this,t),"string"===typeof e?(this.el=document.createElement(e),this.el.className=i):this.el=e,this.data={}}return Object(R["a"])(t,[{key:"data",value:function(t,e){return void 0!==e?(this.data[t]=e,this):this.data[t]}},{key:"on",value:function(t,e){var i=t.split("."),r=Object(T["a"])(i),s=r[0],l=r.slice(1),o=s;return"mousewheel"===o&&/Firefox/i.test(window.navigator.userAgent)&&(o="DOMMouseScroll"),this.el.addEventListener(o,(function(t){e(t);for(var i=0;i<l.length;i+=1){var r=l[i];if("left"===r&&0!==t.button)return;if("right"===r&&2!==t.button)return;"stop"===r&&t.stopPropagation()}})),this}},{key:"offset",value:function(t){var e=this;if(void 0!==t)return Object.keys(t).forEach((function(i){e.css(i,"".concat(t[i],"px"))})),this;var i=this.el,r=i.offsetTop,s=i.offsetLeft,l=i.offsetHeight,o=i.offsetWidth;return{top:r,left:s,height:l,width:o}}},{key:"scroll",value:function(t){var e=this.el;return void 0!==t&&(void 0!==t.left&&(e.scrollLeft=t.left),void 0!==t.top&&(e.scrollTop=t.top)),{left:e.scrollLeft,top:e.scrollTop}}},{key:"box",value:function(){return this.el.getBoundingClientRect()}},{key:"parent",value:function(){return new t(this.el.parentNode)}},{key:"children",value:function(){for(var t=this,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return 0===arguments.length?this.el.childNodes:(i.forEach((function(e){return t.child(e)})),this)}},{key:"removeChild",value:function(t){this.el.removeChild(t)}},{key:"child",value:function(e){var i=e;return"string"===typeof e?i=document.createTextNode(e):e instanceof t&&(i=e.el),this.el.appendChild(i),this}},{key:"contains",value:function(t){return this.el.contains(t)}},{key:"className",value:function(t){return void 0!==t?(this.el.className=t,this):this.el.className}},{key:"addClass",value:function(t){return this.el.classList.add(t),this}},{key:"hasClass",value:function(t){return this.el.classList.contains(t)}},{key:"removeClass",value:function(t){return this.el.classList.remove(t),this}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"active";return this.toggleClass(t)}},{key:"toggleClass",value:function(t){return this.el.classList.toggle(t)}},{key:"active",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active";return t?this.addClass(e):this.removeClass(e),this}},{key:"checked",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.active(t,"checked"),this}},{key:"disabled",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?this.addClass("disabled"):this.removeClass("disabled"),this}},{key:"attr",value:function(t,e){var i=this;if(void 0!==e)this.el.setAttribute(t,e);else{if("string"===typeof t)return this.el.getAttribute(t);Object.keys(t).forEach((function(e){i.el.setAttribute(e,t[e])}))}return this}},{key:"removeAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"html",value:function(t){return void 0!==t?(this.el.innerHTML=t,this):this.el.innerHTML}},{key:"val",value:function(t){return void 0!==t?(this.el.value=t,this):this.el.value}},{key:"focus",value:function(){if(window.getSelection){this.el.focus();var t=window.getSelection();t.selectAllChildren(this.el),t.collapseToEnd()}else if(document.selection){var e=document.selection.createRange();e.moveToElementText(this.el),e.collapse(!1),e.select()}}},{key:"cssRemoveKeys",value:function(){for(var t=this,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return i.forEach((function(e){return t.el.style.removeProperty(e)})),this}},{key:"css",value:function(t,e){var i=this;return void 0===e&&"string"!==typeof t?(Object.keys(t).forEach((function(e){i.el.style[e]=t[e]})),this):void 0!==e?(this.el.style[t]=e,this):this.el.style[t]}},{key:"computedStyle",value:function(){return window.getComputedStyle(this.el,null)}},{key:"show",value:function(){return this.css("display","block"),this}},{key:"hide",value:function(){return this.css("display","none"),this}}]),t}(),W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new E(t,e)},D=(i("cb29"),i("53ca")),B={left:"right",right:"left"};function L(t,e,i,r){var s=e/2,l=this.ctx.measureText(t).width;return l>e-2*i||"left"===r?s=l/2+i:"right"===r&&(s=e-l/2-i),s}var j=function(){function t(e){Object(H["a"])(this,t),this.ctx=e.getContext("2d")}return Object(R["a"])(t,[{key:"scaleCanvas",value:function(t){this.ctx.scale(t,t)}},{key:"drawLine",value:function(t,e){if(t[0]){e=Object.assign({lineCap:"square",lineJoin:"miter",borderWidth:1,borderColor:void 0,fillColor:void 0},e),this.ctx.save(),this.ctx.beginPath(),this.ctx.moveTo(t[0][0]+.5,t[0][1]+.5);for(var i=1;i<t.length;i++)this.ctx.lineTo(t[i][0]+.5,t[i][1]+.5);this.ctx.lineWidth=e.borderWidth,this.ctx.lineCap=e.lineCap,this.ctx.lineJoin=e.lineJoin,e.lineDash&&(this.ctx.lineDashOffset=4,this.ctx.setLineDash(e.lineDash)),e.fillColor&&(this.ctx.fillStyle=e.fillColor,this.ctx.fill()),e.borderColor&&(this.ctx.strokeStyle=e.borderColor,this.ctx.stroke()),this.ctx.restore()}}},{key:"drawText",value:function(t,e,i,r){r=Object.assign({font:'normal 12px "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',color:"#495060",align:"center",baseLine:"middle"},r),this.ctx.font=r.font,this.ctx.fillStyle=r.color,this.ctx.textAlign=B[r.align]||r.align,this.ctx.textBaseline=r.baseLine,this.ctx.fillText(t,e,i)}},{key:"drawCellText",value:function(t,e,i,r,s,l,o){o=Object.assign({font:'normal 12px "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',color:"#495060",align:"left",baseLine:"middle",icon:null,iconWidth:14,iconHeight:14,iconOffsetX:0,iconOffsetY:0},o),this.ctx.font=o.font,this.ctx.fillStyle=o.color,this.ctx.textAlign="center",this.ctx.textBaseline=o.baseLine;var a=e,h="middle"===o.baseLine?i+s/2:i,n=L.call(this,t,r,l,o.align);o.icon&&"object"===Object(D["a"])(o.icon)&&o.icon.src&&(this.drawImage(o.icon,e+o.iconOffsetX,h-o.iconOffsetY-o.iconHeight/2,o.iconWidth,o.iconHeight),"left"===o.align&&(a+=2*o.iconWidth)),this.ctx.fillText(t,a+n,h),this.ctx.restore()}},{key:"drawCellAffixIcon",value:function(t,e,i,r,s,l){l=Object.assign({color:"#bbbec4",fillColor:"#fff"},l);var o=25;if(this.drawRect(e+r-o,i+1,o,s,{fillColor:l.fillColor}),"arrow"===t){var a=[[e+r-20,i+s/2-2],[e+r-15,i+s/2+3],[e+r-10,i+s/2-2]];this.drawLine(a,{borderColor:l.color,borderWidth:1})}}},{key:"drawIcon",value:function(t,e,i,r,s,l,o,a,h){h=Object.assign({font:'normal 12px "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',color:"#495060",align:"center",baseLine:"middle"},h);var n=this.ctx.measureText(e).width,d=L.call(this,e,s,l,h.align);this.ctx.font=h.font,this.ctx.fillStyle=h.color,this.ctx.textAlign="center",this.ctx.textBaseline=h.baseLine,this.ctx.fillText(t,i+d-n/2-o,r+a),this.ctx.restore()}},{key:"drawRect",value:function(t,e,i,r,s){s=Object.assign({borderWidth:1,borderColor:void 0,fillColor:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,shadowBlur:0,shadowColor:void 0},s),this.ctx.save(),this.ctx.beginPath(),s.shadowOffsetX&&(this.ctx.shadowOffsetX=s.shadowOffsetX),s.shadowOffsetY&&(this.ctx.shadowOffsetY=s.shadowOffsetY),s.shadowBlur&&(this.ctx.shadowBlur=s.shadowBlur),s.shadowColor&&(this.ctx.shadowColor=s.shadowColor),s.fillColor&&(this.ctx.fillStyle=s.fillColor),s.borderColor&&(this.ctx.lineWidth=s.borderWidth,this.ctx.strokeStyle=s.borderColor),this.ctx.rect(t+.5,e+.5,i,r),s.fillColor&&this.ctx.fill(),s.borderColor&&this.ctx.stroke(),this.ctx.restore()}},{key:"drawRoundRect",value:function(t,e,i,r,s,l){l=Object.assign({borderWidth:1,borderColor:void 0,fillColor:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,shadowBlur:0,shadowColor:void 0},l),this.ctx.save(),this.ctx.beginPath(),l.shadowOffsetX&&(this.ctx.shadowOffsetX=l.shadowOffsetX),l.shadowOffsetY&&(this.ctx.shadowOffsetY=l.shadowOffsetY),l.shadowBlur&&(this.ctx.shadowBlur=l.shadowBlur),l.shadowColor&&(this.ctx.shadowColor=l.shadowColor),l.fillColor&&(this.ctx.fillStyle=l.fillColor),l.borderColor&&(this.ctx.lineWidth=l.borderWidth,this.ctx.strokeStyle=l.borderColor),this.ctx.moveTo(t+s,e),this.ctx.arcTo(t+i,e,t+i,e+s,s),this.ctx.arcTo(t+i,e+r,t+i-s,e+r,s),this.ctx.arcTo(t,e+r,t,e+r-s,s),this.ctx.arcTo(t,e,t+s,e,s),l.fillColor&&this.ctx.fill(),l.borderColor&&this.ctx.stroke(),this.ctx.restore()}},{key:"drawImage",value:function(t,e,i,r,s){this.ctx.drawImage(t,e,i,r,s)}},{key:"clearCanvas",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.ctx.clearRect(t,e,i||this.ctx.canvas.width,r||this.ctx.canvas.height)}},{key:"getTextWrapping",value:function(t,e,i){if(!t&&0!==t)return"";this.ctx.font='normal 12px "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif';for(var r="".concat(t).split(""),s=r[0],l=[],o=1;o<r.length;o++)this.ctx.measureText(s).width>=e-2*i&&(l.push(s),s=""),s+=r[o];return l.push(s),l}}]),t}(),X=j,V=(i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("a15b"),i("d3b7"),i("6062"),i("3ca3"),i("5319"),i("ddb0"),i("99de")),F=i("7e84"),Y=i("262e"),P=i("257e"),M=function(){function t(e,i,r,s,l,o){Object(H["a"])(this,t),this.grid=e,this.x=i,this.y=r,this.width=s,this.height=l,this.fixed=o}return Object(R["a"])(t,[{key:"isHorizontalVisibleOnBody",value:function(){return!(this.x+this.width-this.grid.fixedLeftWidth+this.grid.scrollX<=0||this.x+this.grid.scrollX>=this.grid.width-this.grid.fixedRightWidth)}},{key:"isVerticalVisibleOnBody",value:function(){return!(this.y+this.height-this.grid.tableHeaderHeight+this.grid.scrollY<=0||this.y+this.grid.scrollY>=this.grid.height-this.grid.horizontalScrollerSize)}},{key:"isInsideHorizontalBodyBoundary",value:function(t,e){return t>this.x+this.grid.scrollX&&t<this.x+this.grid.scrollX+this.width&&t>this.grid.fixedLeftWidth&&t<this.grid.width-this.grid.fixedRightWidth}},{key:"isInsideHorizontalTableBoundary",value:function(t,e){return t>this.x+this.grid.scrollX&&t<this.x+this.grid.scrollX+this.width&&t>this.grid.fixedLeftWidth}},{key:"isInsideFixedHorizontalBodyBoundary",value:function(t,e){var i=this.grid.width-(this.grid.tableWidth-this.x-this.width)-this.width-this.grid.verticalScrollerSize;return t>=i&&t<i+this.width&&"right"===this.fixed||t>this.x&&t<this.x+this.width&&"left"===this.fixed}},{key:"isInsideVerticaBodyBoundary",value:function(t,e){return e>this.y+this.grid.scrollY&&e<this.y+this.height+this.grid.scrollY&&e>this.grid.tableHeaderHeight&&e<this.grid.height-this.grid.horizontalScrollerSize}},{key:"isInsideVerticaTableBoundary",value:function(t,e){return e>this.y+this.grid.scrollY&&e<this.y+this.height+this.grid.scrollY&&e>this.grid.tableHeaderHeight}},{key:"isInsideAffixIcon",value:function(t,e){return t>this.x+this.width+this.grid.scrollX-25&&t<this.x+this.width+this.grid.scrollX&&e>this.y+this.grid.scrollY+10&&e<this.y+this.height+this.grid.scrollY-10}},{key:"isInsideHeader",value:function(t,e){return e>this.y&&e<this.y+this.grid.tableHeaderHeight}},{key:"isInsideCheckboxBoundary",value:function(t,e){return t>this.x+d&&t<this.x+this.grid.originFixedWidth}},{key:"isInsideHeaderCheckboxBoundary",value:function(t,e){return this.isInsideCheckboxBoundary(t,e)&&this.isInsideHeader(t,e)}}]),t}(),_=M,N=new Image,q=new Image;N.src=i("89b8"),q.src=i("924b");var K=function(t){function e(t,i,r,s,l,o,a){var h;return Object(H["a"])(this,e),h=Object(V["a"])(this,Object(F["a"])(e).call(this,t,r,s,l,o)),h.rowIndex=i,h.text=i+1,h.checked=!1,Object.assign(Object(P["a"])(h),a),h}return Object(Y["a"])(e,t),Object(R["a"])(e,[{key:"handleCheck",value:function(t){this.checked=t}},{key:"draw",value:function(){var t=this.y+this.grid.scrollY,e=this.grid.editor,i=this.grid.selector;if(this.grid.showCheckbox){var r=this.checked?N:q;this.grid.painter.drawRect(this.width,t,c,this.height,{borderColor:this.borderColor,fillColor:this.fillColor,borderWidth:this.borderWidth}),this.grid.painter.drawImage(r,this.width+(c-20)/2,t+(this.height-20)/2,20,20)}if(this.grid.painter.drawRect(this.x,t,this.width,this.height,{fillColor:this.fillColor,borderWidth:this.borderWidth}),this.grid.painter.drawCellText(this.text,this.x,t,this.width,this.height,10,{color:this.color,align:"center"}),i.show||e.show){var s=i.yArr[0],l=i.yArr[1];if(this.rowIndex>=s&&this.rowIndex<=l&&this.grid.painter.drawRect(this.x,t,this.width+this.grid.checkboxWidth,this.height,{fillColor:p}),this.rowIndex>=s&&this.rowIndex<=l){var o=[[this.width+this.grid.checkboxWidth,t],[this.width+this.grid.checkboxWidth,t+this.height]];this.grid.painter.drawLine(o,{borderColor:x,borderWidth:2})}}}}]),e}(_),Q=K,U=(i("96cf"),i("1da1")),G=(i("4d63"),i("25f0"),i("498a"),{number:/^(-?\d{1,11}(\.\d*)?)$/,phone:/^[1-9]\d{10}$/,email:/w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/});function $(t,e){if(this.message)return{flag:t,message:this.message};var i="";if(!t)switch(e){case"required":i="".concat(this.validateTitle,"字段必填哦！");break;case"notMatch":i="".concat(this.validateTitle,"字段不符合预期格式哦！");break;case"notIn":i="".concat(this.validateTitle,"字段是无效值哦！");break;default:i="".concat(this.validateTitle,"字段是无效值哦！")}return{flag:t,message:i}}var J=function(){function t(e){Object(H["a"])(this,t),this.validateKey=e.key,this.validateTitle=e.title,this.type=e.type,this.options=e.options,Object.assign(this,e.rule)}return Object(R["a"])(t,[{key:"validate",value:function(){var t=Object(U["a"])(regeneratorRuntime.mark((function t(e,i){var r,s,l,o,a,h,n,d,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=this,s=this.required,l=this.validator,this.operator,o=this.options,a=this.type,this.descriptor,h="string"===typeof e?!!e.trim():!!e||0===e,!s||h){t.next=5;break}return t.abrupt("return",$.call(this,!1,"required"));case 5:if(h){t.next=7;break}return t.abrupt("return",{flag:!0});case 7:if(!G[a]||G[a].test(e)){t.next=9;break}return t.abrupt("return",$.call(this,!1,"notMatch"));case 9:if("select"!==a){t.next=13;break}if(n=o.map((function(t){return t.value})).includes(e),n){t.next=13;break}return t.abrupt("return",$.call(this,n,"notMatch"));case 13:if("month"!==a&&"date"!==a&&"datetime"!==a){t.next=17;break}if(d=isNaN(e)&&!isNaN(Date.parse(e)),d){t.next=17;break}return t.abrupt("return",$.call(this,d,"notMatch"));case 17:if(!(l instanceof RegExp)){t.next=22;break}return c=new RegExp(l),t.abrupt("return",$.call(this,c.test(e),"notIn"));case 22:if("function"!==typeof l){t.next=27;break}return u=!0,t.next=26,l(e,i,(function(t){"string"===typeof t?(r.message=t,u=!t):!1===t&&(u=!1)}));case 26:return t.abrupt("return",$.call(this,u,"notIn"));case 27:return t.abrupt("return",{flag:!0});case 28:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}()}]),t}(),Z=J,tt=new Image,et=new Image;tt.src=i("572f"),et.src=i("22b7");var it=function(t){function e(t,i,r,s,l,o,a,h,n,d,c){var u;return Object(H["a"])(this,e),u=Object(V["a"])(this,Object(F["a"])(e).call(this,i,l,o,a,h,n.fixed)),u.colIndex=r,u.rowIndex=s,u.rowData=d,u.title=n.title,u.key=n.key,u.fixed=n.fixed,u.readonly=n.readonly,u.textAlign=n.align||"left",u.textBaseline=n.baseline||"middle",u.dataType=n.type||"text",u.options=n.options,u.render=n.render,u.value=null===t||void 0===t?"":t,u.originalValue=t,u.validator=new Z(n),u.valid=!0,u.message=null,Object.assign(Object(P["a"])(u),c),u.setLabel(u.value),n.rule&&!1===n.rule.immediate?Object(V["a"])(u):(u.validate(),u)}return Object(Y["a"])(e,t),Object(R["a"])(e,[{key:"isInHorizontalAutofill",value:function(t,e){return t>this.x+this.grid.scrollX+this.width-4&&t<this.x+this.grid.scrollX+this.width+4&&t>this.grid.fixedLeftWidth&&t<this.grid.width-this.grid.fixedRightWidth}},{key:"isInsideFixedHorizontalAutofill",value:function(t,e){var i=this.grid.width-(this.grid.tableWidth-this.x-this.width)-this.width-this.grid.verticalScrollerSize;return t>=i+this.width-4&&t<i+this.width+4&&"right"===this.fixed||t>this.x+this.width-4&&t<this.x+this.width+4&&"left"===this.fixed}},{key:"validate",value:function(){var t=Object(U["a"])(regeneratorRuntime.mark((function t(e){var i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.validator.validate(this.value,e||this.rowData);case 2:i=t.sent,r=i.flag,s=i.message,this.valid=r,this.message=s;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"resetValidate",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.valid=t,this.message=e}},{key:"handleNumber",value:function(t){return 0===t||t&&!isNaN(Number(t))?Number(t):t||null}},{key:"setData",value:function(t,e){if(e||!this.readonly){var i=t;if("number"===this.dataType&&(i=this.handleNumber(t)),this.grid.clipboard.isPaste||this.grid.autofill.enable){var r=this.getMapValue(i);this.label=i,this.value=r}else this.value=i,this.setLabel(i);var s=this.grid.body.getRowData(this.rowIndex);this.validate(s),this.value!==this.originalValue?this.grid.hashChange["".concat(this.colIndex,"-").concat(this.rowIndex)]=!0:delete this.grid.hashChange["".concat(this.colIndex,"-").concat(this.rowIndex)]}}},{key:"setLabel",value:function(t){var e;e="function"===typeof this.render?this.render(t):this.getMapLabel(t),this.label=null===e||void 0===e?"":e}},{key:"getMapValue",value:function(t){var e=t;if("select"===this.dataType&&Array.isArray(this.options)){var i=!0,r=!1,s=void 0;try{for(var l,o=this.options[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var a=l.value;if(t===a.label){e=a.value;break}}}catch(h){r=!0,s=h}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}}return e}},{key:"getMapLabel",value:function(t){var e=t;if("select"===this.dataType&&Array.isArray(this.options)){var i=!0,r=!1,s=void 0;try{for(var l,o=this.options[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var a=l.value;if(t===a.value){e=a.label;break}}}catch(h){r=!0,s=h}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}}return e}},{key:"draw",value:function(){var t=this.grid,e=t.painter,i=t.editor,r=t.selector,s=t.autofill,l=t.clipboard,o=t.width,a=t.tableWidth,h=t.verticalScrollerSize,n=t.scrollX,d=t.scrollY,c=t.range,u=t.fillColor,f="right"===this.fixed?o-(a-this.x-this.width)-this.width-h:"left"===this.fixed?this.x:this.x+n,g=this.y+d;if(e.ctx.save(),e.drawRect(f,g,this.width,this.height,{fillColor:this.readonly?m:u,borderColor:this.borderColor,borderWidth:1}),e.ctx.clip(),e.drawCellText(this.label,f,g,this.width,this.height,10,{color:this.readonly?k:this.color,align:this.textAlign,baseLine:this.textBaseline,iconOffsetX:12,iconOffsetY:1,iconWidth:12,iconHeight:12}),"select"===this.dataType&&e.drawCellAffixIcon("arrow",f,g,this.width,this.height,{color:"#bbbec4",fillColor:this.readonly?m:u}),!this.valid){var v=[[f+this.width-8,g],[f+this.width,g],[f+this.width,g+8]];e.drawLine(v,{fillColor:C})}if(r.show){var y=r.xArr[0],w=r.xArr[1],p=r.yArr[0],A=r.yArr[1];if(this.colIndex>=y&&this.colIndex<=w&&this.rowIndex>=p&&this.rowIndex<=A&&e.drawRect(f,g,this.width,this.height,{fillColor:b}),this.colIndex>=y&&this.colIndex<=w&&this.rowIndex+1===p){var S=[[f,g+this.height-1],[f+this.width,g+this.height-1]];e.drawLine(S,{borderColor:x,borderWidth:1})}if(this.colIndex>=y&&this.colIndex<=w&&this.rowIndex===A)if(this.rowIndex===c.maxY){var I=[[f,g+this.height],[f+this.width,g+this.height]];e.drawLine(I,{borderColor:x,borderWidth:2})}else{var z=[[f,g+this.height-1],[f+this.width,g+this.height-1]];e.drawLine(z,{borderColor:x,borderWidth:1})}if(this.colIndex>=y&&this.colIndex<=w&&this.rowIndex===p||this.colIndex>=y&&this.colIndex<=w&&this.rowIndex-1===A){var O=[[f,g],[f+this.width,g]];e.drawLine(O,{borderColor:x,borderWidth:1})}if(this.colIndex===y&&this.rowIndex>=p&&this.rowIndex<=A||this.colIndex-1===w&&this.rowIndex>=p&&this.rowIndex<=A){var H=[[f,g],[f,g+this.height]];e.drawLine(H,{borderColor:x,borderWidth:2})}if(this.colIndex+1===y&&this.rowIndex>=p&&this.rowIndex<=A||this.colIndex===w&&this.rowIndex>=p&&this.rowIndex<=A){var R=[[f+this.width,g],[f+this.width,g+this.height]];e.drawLine(R,{borderColor:x,borderWidth:2})}if(!i.show){var T=6;this.colIndex===s.xIndex&&this.rowIndex===s.yIndex&&e.drawRect(f+this.width-3,g+this.height-3,T,T,{borderColor:"#fff",borderWidth:2,fillColor:x}),this.colIndex===s.xIndex&&this.rowIndex-1===s.yIndex&&e.drawRect(f+this.width-3,g-3,T,T,{borderColor:"#fff",borderWidth:2,fillColor:x}),this.colIndex-1===s.xIndex&&this.rowIndex===s.yIndex&&e.drawRect(f-3,g+this.height-3,T,T,{borderColor:"#fff",borderWidth:2,fillColor:x}),this.colIndex-1===s.xIndex&&this.rowIndex-1===s.yIndex&&this.colIndex!==this.grid.fixedLeft&&e.drawRect(f-3,g-3,T,T,{borderColor:"#fff",borderWidth:2,fillColor:x})}if(s.enable){var E=[4,4],W=s.xArr[0],D=s.xArr[1],B=s.yArr[0],L=s.yArr[1];if(this.colIndex>=W&&this.colIndex<=D&&this.rowIndex===B){var j=[[f,g+1],[f+this.width,g+1]];e.drawLine(j,{borderColor:x,borderWidth:1,lineDash:E})}if(this.colIndex>=W&&this.colIndex<=D&&this.rowIndex===L){var X=[[f,g+this.height-1],[f+this.width,g+this.height-1]];e.drawLine(X,{borderColor:x,borderWidth:1,lineDash:E})}if(this.colIndex===W&&this.rowIndex>=B&&this.rowIndex<=L){var V=[[f+1,g],[f+1,g+this.height]];e.drawLine(V,{borderColor:x,borderWidth:1,lineDash:E})}if(this.colIndex===D&&this.rowIndex>=B&&this.rowIndex<=L){var F=[[f+this.width-1,g],[f+this.width-1,g+this.height]];e.drawLine(F,{borderColor:x,borderWidth:1,lineDash:E})}}}if(l.show){var Y=l.xArr[0],P=l.xArr[1],M=l.yArr[0],_=l.yArr[1],N=[4,4];if(this.colIndex>=Y&&this.colIndex<=P&&this.rowIndex===M){var q=[[f,g+1],[f+this.width,g+1]];e.drawLine(q,{borderColor:x,borderWidth:1,lineDash:N})}if(this.colIndex>=Y&&this.colIndex<=P&&this.rowIndex===_){var K=[[f,g+this.height-2],[f+this.width,g+this.height-2]];e.drawLine(K,{borderColor:x,borderWidth:1,lineDash:N})}if(this.colIndex===Y&&this.rowIndex>=M&&this.rowIndex<=_){var Q=[[f+1,g],[f+1,g+this.height]];e.drawLine(Q,{borderColor:x,borderWidth:1,lineDash:N})}if(this.colIndex===P&&this.rowIndex>=M&&this.rowIndex<=_){var U=[[f+this.width-1,g],[f+this.width-1,g+this.height]];e.drawLine(U,{borderColor:x,borderWidth:1,lineDash:N})}}}}]),e}(_),rt=it,st=function(t){function e(t,i,r,s,l,o){var a;Object(H["a"])(this,e),a=Object(V["a"])(this,Object(F["a"])(e).call(this,t,r,s,null,l)),a.data=o,a.rowIndex=i,a.checked=!1,a.allCells=[],a.fixedCells=[],a.cells=[];var h={color:a.grid.color,fillColor:a.grid.fillColor,borderColor:a.grid.borderColor,borderWidth:a.grid.borderWidth};a.rowHeader=new Q(t,i,r,s,d,l,h);for(var n=t.originFixedWidth,c=0;c<a.grid.columnsLength;c++){var u=a.grid.columns[c],f=A[u.size||"mini"],g="";c<a.grid.fixedLeft?g="left":c>a.grid.columnsLength-1-a.grid.fixedRight&&(g="right"),u.fixed=g;var v=new rt(o[u.key],t,c,i,n,s,f,a.height,u,o,h);a.allCells.push(v),g?a.fixedCells.push(v):a.cells.push(v),n+=f}return a}return Object(Y["a"])(e,t),Object(R["a"])(e,[{key:"isInVerticalAutofill",value:function(t,e){return this.grid.autofill.yIndex===this.rowIndex&&e>this.y+this.grid.scrollY+this.height-4&&e<this.y+this.height+this.grid.scrollY+4}},{key:"handleCheck",value:function(t){this.checked="boolean"===typeof t?t:!this.checked,this.rowHeader.handleCheck(this.checked)}},{key:"mouseDown",value:function(t,e){var i=this,r=this.allCells[this.grid.autofill.xIndex];if(!r||!r.isInHorizontalAutofill(t,e)&&!r.isInsideFixedHorizontalAutofill(t,e))for(var s=0;s<this.allCells.length;s++){var l=this.allCells[s];"select"===l.dataType&&l.isInsideAffixIcon(t,e)?(this.grid.selectCell(l),setTimeout((function(){i.grid.startEdit()}),0)):(l.isInsideHorizontalBodyBoundary(t,e)||l.isInsideFixedHorizontalBodyBoundary(t,e))&&this.grid.selectCell(l)}}},{key:"mouseMove",value:function(t,e){for(var i=0;i<this.allCells.length;i++){var r=this.allCells[i];if(r.isInsideHorizontalTableBoundary(t,e)||r.isInsideFixedHorizontalBodyBoundary(t,e)){var s=r.colIndex,l=r.rowIndex,o=r.x,a=r.y,h=r.width,n=r.height,d=r.valid,c=r.message,u=r.fixed;this.grid.multiSelectCell(s,l,t,e),this.grid.tooltip.update({valid:d,message:c,x:o,y:a,colWidth:h,colHeight:n,fixed:u}),"select"===r.dataType&&r.isInsideAffixIcon(t,e)&&(this.grid.target.style.cursor="pointer")}}}},{key:"handleAutofill",value:function(t,e){var i=this.allCells[this.grid.autofill.xIndex];i&&(i.isInHorizontalAutofill(t,e)||i.isInsideFixedHorizontalAutofill(t,e))&&(this.grid.target.style.cursor="crosshair")}},{key:"handleStartAutofill",value:function(t,e){var i=this.allCells[this.grid.autofill.xIndex];i&&(i.isInHorizontalAutofill(t,e)||i.isInsideFixedHorizontalAutofill(t,e))&&this.grid.startAutofill()}},{key:"click",value:function(t,e){this.rowHeader.isInsideCheckboxBoundary(t,e)&&this.handleCheck()}},{key:"dbClick",value:function(t,e){for(var i=0;i<this.allCells.length;i++){var r=this.allCells[i];(r.isInsideHorizontalBodyBoundary(t,e)||r.isInsideFixedHorizontalBodyBoundary(t,e))&&this.grid.startEdit()}}},{key:"resizeColumn",value:function(t,e){var i=this.grid.width-this.grid.tableWidth-this.grid.verticalScrollerSize-this.grid.scrollX,r=this.allCells[t];if(i<=e){r.width+=e;for(var s=t+1;s<this.grid.columnsLength;s++)this.allCells[s].x+=e}0===i&&e<=0&&(r.width+=e,this.allCells[t+1].width-=e,this.allCells[t+1].x+=e)}},{key:"rePaint",value:function(){for(var t=0;t<this.cells.length;t++){var e=this.cells[t];e.height=this.height,e.y=this.y}for(var i=0;i<this.fixedCells.length;i++){var r=this.fixedCells[i];r.height=this.height,r.y=this.y}this.rowHeader.height=this.height,this.rowHeader.y=this.y}},{key:"draw",value:function(){for(var t=0;t<this.cells.length;t++){var e=this.cells[t];e.isHorizontalVisibleOnBody()&&e.draw()}0!==this.grid.scrollX&&this.grid.painter.drawRect(this.x+this.grid.originFixedWidth,this.y+this.grid.scrollY,this.grid.fixedLeftWidth-this.grid.originFixedWidth,this.height,{fillColor:"#f9f9f9",shadowBlur:6,shadowColor:"rgba(28,36,56,0.2)",shadowOffsetX:2,shadowOffsetY:2}),this.grid.tableWidth+this.grid.verticalScrollerSize-this.grid.width+this.grid.scrollX>0&&this.grid.painter.drawRect(this.grid.width-this.grid.fixedRightWidth,this.y+this.grid.scrollY,this.grid.fixedRightWidth-this.grid.verticalScrollerSize,this.height,{fillColor:"#f9f9f9",shadowBlur:6,shadowColor:"rgba(28,36,56,0.2)",shadowOffsetX:-2,shadowOffsetY:2});for(var i=0;i<this.fixedCells.length;i++){var r=this.fixedCells[i];r.draw()}this.rowHeader.draw()}}]),e}(_),lt=st,ot=function(){function t(e,i){Object(H["a"])(this,t),this.grid=e,this.paint(i)}return Object(R["a"])(t,[{key:"paint",value:function(t){this.data=t,this.rows=[];for(var e=t.length,i=this.grid.tableHeaderHeight,r=0;r<e;r++){var s=t[r];this.rows.push(new lt(this.grid,r,0,i,u,s)),i+=u}this.height=this.rows.reduce((function(t,e){return t+e.height}),this.grid.tableHeaderHeight),t.length>0&&this.grid.onLoad()}},{key:"pasteData",value:function(t){for(var e=this.grid.editor,i=e.xIndex,r=e.yIndex,s=0;s<=t.length-1;s++)for(var l=t[s].length,o=0;o<=l-1;o++){var a=this.rows[s+r].allCells,h=a[o+i];h.setData(t[s][o])}for(var n=r,d=n+t.length-1,c=[],u=n;u<=d;u++)c.push(this.getRowData(u));this.grid.afterPaste(c)}},{key:"autofillData",value:function(){var t=this.getSelectedData(),e=t.value,i=e[0].length,r=e.length,s=this.grid.autofill,l=s.xArr,o=s.yArr,a=this.grid.selector.yArr;if(!(o[1]<0||l[1]<0)){for(var h=0;h<=o[1]-o[0];h++)for(var n=0;n<=l[1]-l[0];n++){var d=n+l[0],c=h+o[0],u=e[h%r][n%i],f=this.rows[c].allCells[d];f.setData(u)}var g=a[0],v=a[1],y=[];o[0]!==a[0]?g=o[0]:(g=a[1]+1,v=o[1]);for(var w=g;w<=v;w++)y.push(this.getRowData(w));this.grid.afterAutofill(y),this.grid.clearAuaofill()}}},{key:"resizeColumn",value:function(t,e){for(var i=0;i<this.rows.length;i++)this.rows[i].resizeColumn(t,e)}},{key:"resizeAllColumn",value:function(t){var e=!0,i=!1,r=void 0;try{for(var s,l=this.rows[Symbol.iterator]();!(e=(s=l.next()).done);e=!0)for(var o=s.value,a=this.grid.originFixedWidth,h=0;h<o.allCells.length;h++){var n=o.allCells[h];n.width+=t,n.x=a,a+=n.width}}catch(d){i=!0,r=d}finally{try{e||null==l.return||l.return()}finally{if(i)throw r}}}},{key:"resizeRow",value:function(t,e){if(!(e<MIN_CELL_HEIGHT))for(var i=0;i<this.rows.length;i++)this.rows[i].resizeRow(t,e)}},{key:"handleCheckRow",value:function(t){if("number"===typeof t)this.rows[t].handleCheck();else{var e=this.grid.header.checked,i=!0,r=!1,s=void 0;try{for(var l,o=this.rows[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var a=l.value;a.handleCheck(e)}}catch(h){r=!0,s=h}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}}}},{key:"mouseMove",value:function(t,e){for(var i=0;i<this.rows.length;i++)this.rows[i].isInVerticalAutofill(t,e)?this.rows[i].handleAutofill(t,e):this.rows[i].isInsideVerticaTableBoundary(t,e)&&this.rows[i].mouseMove(t,e)}},{key:"mouseDown",value:function(t,e){for(var i=0;i<this.rows.length;i++)this.rows[i].isInVerticalAutofill(t,e)?this.rows[i].handleStartAutofill(t,e):this.rows[i].isInsideVerticaBodyBoundary(t,e)&&this.rows[i].mouseDown(t,e)}},{key:"click",value:function(t,e){for(var i=0;i<this.rows.length;i++)this.rows[i].isInsideVerticaBodyBoundary(t,e)&&this.rows[i].click(t,e)}},{key:"dbClick",value:function(t,e){for(var i=0;i<this.rows.length;i++)this.rows[i].isInsideVerticaBodyBoundary(t,e)&&this.rows[i].dbClick(t,e)}},{key:"rePaintRow",value:function(t){for(var e=this.getRow(t),i=e.cells.length,r=null,s=u,l=0;l<i;l++){var o=e.cells[l],a=o.value,h=o.width;if(a||0===a){r=this.grid.painter.getTextWrapping(a,h);var n=0;r&&(n=r.length),n>1&&u+18*(n-1)>s&&(s=u+18*(n-1))}}e.height=s;for(var d=this.grid.tableHeaderHeight,c=0;c<this.rows.length;c++){var f=this.rows[c];f.y=d,d+=f.height,f.rePaint()}}},{key:"draw",value:function(){for(var t=this.data.length,e=0;e<t;e++){var i=this.rows[e];i.isVerticalVisibleOnBody()&&i.draw()}}},{key:"getRow",value:function(t){return this.rows[t]}},{key:"getCell",value:function(t,e){var i=this.rows[e];return i.allCells[t]}},{key:"getSelectedData",value:function(){for(var t=this.grid.selector,e=t.xArr,i=t.yArr,r=[],s="",l=0;l<=i[1]-i[0];l++){for(var o=[],a=0;a<=e[1]-e[0];a++)o.push(this.rows[l+i[0]].allCells[a+e[0]].label);s+=o.join("\t")+"\r",r.push(o)}return s=s?s.replace(/\r$/,""):" ",s||(s=" "),{text:s,value:r}}},{key:"clearSelectedData",value:function(){for(var t=this.grid.selector,e=t.xArr,i=t.yArr,r=0;r<=i[1]-i[0];r++)for(var s=0;s<=e[1]-e[0];s++){var l=this.rows[r+i[0]].allCells[s+e[0]];l.setData("")}for(var o=[],a=i[0];a<=i[1];a++)o.push(this.getRowData(a));this.grid.afterClear(o)}},{key:"getData",value:function(){return this.rows.map((function(t){var e=t.allCells,i={};return e.forEach((function(t){i[t.key]=t.value})),i=Object.assign({},t.data,i),i}))}},{key:"getCheckedRows",value:function(){return this.rows.filter((function(t){return t.checked})).map((function(t){var e=t.allCells,i={};return e.forEach((function(t){i[t.key]=t.value})),i=Object.assign({},t.data,i),i}))}},{key:"getChangedRows",value:function(){var t=this,e=new Set,i=[];return Object.keys(this.grid.hashChange).forEach((function(t){e.add(Number(t.split("-")[1]))})),Array.from(e).sort().forEach((function(e){i.push(t.rows[e])})),i.map((function(t){var e=t.allCells,i={};return e.forEach((function(t){i[t.key]=t.value})),i=Object.assign({},t.data,i),i}))}},{key:"validate",value:function(t){var e=this;this.rows.forEach((function(t){var i=t.allCells;i.forEach((function(t){var i=e.getRowData(t.rowIndex);t.validate(i)}))})),setTimeout((function(){var i=e.getValidations();"function"===typeof t&&t(!i.length)}),0)}},{key:"validateChanged",value:function(t){var e=this,i=new Set,r=[];Object.keys(this.grid.hashChange).forEach((function(t){i.add(Number(t.split("-")[1]))})),Array.from(i).sort().forEach((function(t){r.push(e.rows[t])})),r.map((function(t){var i=t.allCells;i.forEach((function(t){var i=e.getRowData(t.rowIndex);t.validate(i)}))})),setTimeout((function(){var i=e.getValidations();"function"===typeof t&&t(!i.length)}),0)}},{key:"validateField",value:function(t,e){if("number"===typeof e&&"number"===typeof t){var i=this.getCell(t,e);if(i){var r=this.getRowData(i.rowIndex);i.validate(r)}}}},{key:"getValidations",value:function(){var t=[];return this.rows.forEach((function(e){var i=[],r=e.allCells;r.forEach((function(t){!t.valid&&i.push({title:t.title,key:t.key,value:t.value,message:t.message})})),i.length&&t.push(i)})),t}},{key:"setValidations",value:function(t){var e=this;t&&Array.isArray(t)&&t.forEach((function(t){e.rows.forEach((function(i){if(i.data[e.grid.rowKey]===t[e.grid.rowKey]){var r=i.allCells;r.forEach((function(e){var i=!t[e.key];t.hasOwnProperty(e.key)&&e.resetValidate(i,t[e.key])}))}}))}))}},{key:"clearValidations",value:function(){this.rows.forEach((function(t){var e=t.allCells;e.forEach((function(t){t.resetValidate()}))}))}},{key:"getRowData",value:function(t){var e=this.getRow(t),i={};return e.allCells.forEach((function(t){i[t.key]=t.value})),Object.assign({},e.data,i)}},{key:"getCellData",value:function(t,e){var i=this.getCell(t,e);return{title:i.title,key:i.key,value:i.value}}},{key:"updateData",value:function(t){var e=this;t&&Array.isArray(t)&&t.forEach((function(t){e.rows.forEach((function(i){if(i.data[e.grid.rowKey]===t[e.grid.rowKey]){var r=i.allCells;r.forEach((function(e){t.hasOwnProperty(e.key)&&e.setData(t[e.key],!0)}))}}))}))}},{key:"updateCellData",value:function(t){}}]),t}(),at=ot,ht=function(t){function e(t,i,r,s,l,o,a){var h;return Object(H["a"])(this,e),h=Object(V["a"])(this,Object(F["a"])(e).call(this,t,r,s,l,o)),h.fixed=a.fixed,h.level=a.level,h.text=a.title,h.colspan=a.colspan,h.rowspan=a.rowspan,h.required=a.rule?a.rule.required:null,h.index=i,h}return Object(Y["a"])(e,t),Object(R["a"])(e,[{key:"isVisibleOnScreen",value:function(){return!(this.x+this.width-this.grid.fixedLeftWidth+this.grid.scrollX<=0||this.x+this.grid.scrollX>=this.grid.width-this.grid.fixedRightWidth)}},{key:"draw",value:function(){var t=this.grid,e=t.width,i=t.tableWidth,r=t.verticalScrollerSize,s=t.scrollX,l=t.editor,o=t.selector,a=t.painter,h=t.fillColor,n=t.borderColor,d=t.borderWidth,c="right"===this.fixed?e-(i-this.x-this.width)-this.width-r:"left"===this.fixed?this.x:this.x+s;if(a.drawRect(c,this.y,this.width,this.height,{fillColor:h,borderColor:n,borderWidth:d}),(o.show||l.show)&&this.colspan<=1){var u=o.xArr[0],f=o.xArr[1];if(this.index>=u&&this.index<=f&&this.grid.painter.drawRect(c,this.y,this.width,this.height,{fillColor:p}),this.index>=u&&this.index<=f){var g=[[c,this.y+this.height],[c+this.width,this.y+this.height]];this.grid.painter.drawLine(g,{borderColor:x,borderWidth:2})}}this.required&&this.grid.painter.drawIcon("*",this.text,c,this.y+this.height/2,this.width,10,6,4,{font:'normal 20px "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',color:C}),this.grid.painter.drawCellText(this.text,c,this.y,this.width,this.height,10,{color:this.grid.color,align:"center"})}}]),e}(_),nt=ht;function dt(t){var e=I(t),i=e.reduce((function(t,e){return t+A[e.size||"mini"]}),0);return i}var ct=new Image,ut=new Image;ct.src=i("89b8"),ut.src=i("924b");var ft=function(t){function e(t,i,r){var s;return Object(H["a"])(this,e),s=Object(V["a"])(this,Object(F["a"])(e).call(this,t,i,r,null,t.headerHeight)),s.checked=!1,s.paint(),s}return Object(Y["a"])(e,t),Object(R["a"])(e,[{key:"paint",value:function(){var t=this;this.allColumnHeaders=[],this.fixedColumnHeaders=[],this.columnHeaders=[];var e=0,i=function i(r,s,l){for(var o=r.length,a=l,h=0;h<o;h++){var n=r[h],d=t.height*(n.rowspan||1),c=t.height*n.level,u=A[n.size||"mini"],f="";n.children&&(u=dt(n.children)),s?f=s.fixed:h<t.grid.fixedLeft?f="left":h>o-1-t.grid.fixedRight&&(f="right"),n.fixed=f;var g=new nt(t.grid,e,a,c,u,d,n);t.allColumnHeaders.push(g),f?t.fixedColumnHeaders.push(g):t.columnHeaders.push(g),!n.children&&e++,n.children&&i(n.children,n,a),a+=u}};i(this.grid.headers,null,this.grid.originFixedWidth)}},{key:"mouseDown",value:function(t,e){this.resizeTarget&&(this.resizeOriginalX=t,this.resizeOriginalWidth=this.resizeTarget.width,this.isResizing=!0)}},{key:"mouseMove",value:function(t,e){if(this.isResizing){var i=this.resizeTarget.index,r=t-this.resizeOriginalX,s=this.resizeTarget.width+r;if((i===this.grid.columnsLength-this.grid.fixedRight-1||this.grid.width===this.grid.tableWidth+this.grid.verticalScrollerSize||s<f)&&s<=this.resizeOriginalWidth)return;this.grid.resizeColumn(i,r),this.resizeOriginalX=t}else{var l=!0,o=!1,a=void 0;try{for(var h,n=this.allColumnHeaders[Symbol.iterator]();!(l=(h=n.next()).done);l=!0){var d=h.value;t>d.x+this.grid.scrollX+d.width-4&&t<d.x+this.grid.scrollX+d.width+4&&t<this.grid.width-this.grid.verticalScrollerSize-4&&d.colspan<=1&&(this.grid.target.style.cursor="col-resize",this.resizeTarget=d)}}catch(c){o=!0,a=c}finally{try{l||null==n.return||n.return()}finally{if(o)throw a}}}}},{key:"mouseUp",value:function(){this.resizeTarget=null,this.isResizing=!1}},{key:"click",value:function(){this.checked=!this.checked}},{key:"resizeColumn",value:function(t,e){var i=this.grid.width-this.grid.tableWidth-this.grid.verticalScrollerSize-this.grid.scrollX,r=!0,s=!1,l=void 0;try{for(var o,a=this.allColumnHeaders[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var h=o.value;i<=e&&(t>=h.index&&t<h.index+h.colspan&&(h.width+=e),h.index>t&&!(0===i&&e<=0)&&(h.x+=e)),0===i&&e<=0&&(t>=h.index&&t<h.index+h.colspan&&(h.width+=e),h.index===t+1&&(h.width-=e,h.x+=e))}}catch(n){s=!0,l=n}finally{try{r||null==a.return||a.return()}finally{if(s)throw l}}}},{key:"resizeAllColumn",value:function(t){var e={x:this.grid.originFixedWidth,width:0,level:0},i=!0,r=!1,s=void 0;try{for(var l,o=this.allColumnHeaders[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var a=l.value;a.width+=t*a.colspan,a.level&&a.level!==e.level?a.x=e.x:a.x=e.x+e.width,e=a}}catch(h){r=!0,s=h}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}}},{key:"draw",value:function(){this.grid.painter.drawRect(this.x,this.y,this.grid.width,this.grid.tableHeaderHeight,{fillColor:"#f9f9f9",shadowBlur:6,shadowColor:"rgba(28,36,56,0.2)",shadowOffsetX:0,shadowOffsetY:2});var t=!0,e=!1,i=void 0;try{for(var r,s=this.columnHeaders[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var l=r.value;l.isVisibleOnScreen()&&l.draw()}}catch(y){e=!0,i=y}finally{try{t||null==s.return||s.return()}finally{if(e)throw i}}0!==this.grid.scrollX&&this.grid.painter.drawRect(this.x,this.y,this.grid.fixedLeftWidth,this.grid.tableHeaderHeight,{fillColor:"#f9f9f9",shadowBlur:6,shadowColor:"rgba(28,36,56,0.2)",shadowOffsetX:2,shadowOffsetY:-2}),this.grid.tableWidth+this.grid.verticalScrollerSize-this.grid.width+this.grid.scrollX>0&&this.grid.painter.drawRect(this.grid.width-this.grid.fixedRightWidth,this.y,this.grid.fixedRightWidth-this.grid.verticalScrollerSize,this.grid.tableHeaderHeight,{fillColor:"#f9f9f9",shadowBlur:6,shadowColor:"rgba(0,0,0,0.2)",shadowOffsetX:-2,shadowOffsetY:-2});var o=!0,a=!1,h=void 0;try{for(var n,u=this.fixedColumnHeaders[Symbol.iterator]();!(o=(n=u.next()).done);o=!0){var f=n.value;f.draw()}}catch(y){a=!0,h=y}finally{try{o||null==u.return||u.return()}finally{if(a)throw h}}var g={borderColor:this.grid.borderColor,borderWidth:this.grid.borderWidth,fillColor:this.grid.fillColor};if(this.grid.showCheckbox){var v=this.checked?ct:ut;this.grid.painter.drawRect(d,0,c,this.grid.tableHeaderHeight,g),this.grid.painter.drawImage(v,d+(c-20)/2,(this.grid.tableHeaderHeight-20)/2,20,20)}this.grid.painter.drawRect(0,0,d,this.grid.tableHeaderHeight,g)}}]),e}(_),gt=ft;i("841c"),i("2909");function vt(t){var e=t.target.innerHTML,i=this.suggest,r=this.validator,s=this.cell;null!==s?"editable"in s&&!0===s.editable||void 0===s.editable?(this.value=e,r&&("list"===r.type?i.search(e):i.hide())):t.target.value="":this.value=e}function yt(t){if(13===t.keyCode||27===t.keyCode)return this.grid.finishedEdit();!t.metaKey&&t.ctrlKey}var wt=function(){function t(e){var i=this;Object(H["a"])(this,t),this.grid=e,this.areaEl=W("div","".concat(h,"-editor-area")).children(this.textEl=W("div","").on("input",(function(t){return vt.call(i,t)})).on("keydown",(function(t){return yt.call(i,t)}))),this.textEl.attr("contenteditable",!0),this.el=W("div","".concat(h,"-editor")).child(this.areaEl).hide(),this.type="text",this.fixed=!1,this.selectOptions=[],this.editorXIndex=0,this.editorYIndex=0,this.show=!1,this.value=""}return Object(R["a"])(t,[{key:"fire",value:function(t){this.cell=t,this.setoffset(),this.show=!0,this.el.show(),this.textEl.focus()}},{key:"hide",value:function(){this.cell=null,this.el.hide(),this.show=!1,this.value="",this.textEl.html("")}},{key:"setData",value:function(t){this.value=t,this.textEl.html(t)}},{key:"setoffset",value:function(){if(this.cell){var t=this.cell,e=t.x,i=t.y,r=t.width,s=t.height;this.areaEl.offset({left:e+this.grid.scrollX-1,top:i+this.grid.scrollY-1}),this.textEl.offset({"min-width":r+2,"min-height":s})}}}]),t}(),xt=wt,bt=function(){function t(e){Object(H["a"])(this,t),this.grid=e,this.horizontalScroller={x:0,move:!1,focus:!1,size:0,ratio:1,has:!1},this.verticalScroller={y:0,move:!1,focus:!1,size:0,ratio:1,has:!1}}return Object(R["a"])(t,[{key:"reset",value:function(){var t=this.grid,e=t.width,i=t.height,r=t.tableWidth,s=t.tableHeight,l=t.originFixedWidth,o=t.tableHeaderHeight,a=t.verticalScrollerSize,h=t.horizontalScrollerSize,n=e-l-a,d=i-o-h,c=n/r,u=d/s;this.horizontalScroller.size=c>=1?0:parseInt(c*n),this.verticalScroller.size=u>=1?0:parseInt(u*d),this.horizontalScroller.size<30&&(this.horizontalScroller.size=30),this.verticalScroller.size<30&&(this.verticalScroller.size=30),this.horizontalScroller.has=!(r<=e-g),this.verticalScroller.has=!(s<=i-g),this.horizontalScroller.ratio=this.horizontalScroller.has?(e-l-g-this.horizontalScroller.size-v)/(r+g-e):0,this.verticalScroller.ratio=this.verticalScroller.has?(i-o-g-this.verticalScroller.size-v)/(s+g-i):0}},{key:"update",value:function(t,e){"HORIZONTAL"===e?this.grid.scrollX+=t:"VERTICAL"===e&&(this.grid.scrollY+=t),this.setPosition()}},{key:"setPosition",value:function(){this.horizontalScroller.x=-parseInt(this.grid.scrollX*this.horizontalScroller.ratio),this.verticalScroller.y=-parseInt(this.grid.scrollY*this.verticalScroller.ratio)}},{key:"isInsideHorizontalScroller",value:function(t,e){return t>=this.grid.originFixedWidth&&t<=this.grid.width-g&&e>this.grid.height-g&&e<this.grid.height-(g-v)/2}},{key:"isInsideHorizontalScrollerBar",value:function(t,e){return this.horizontalScroller.has&&t>=this.grid.originFixedWidth+this.horizontalScroller.x&&t<=this.grid.originFixedWidth+this.horizontalScroller.x+this.horizontalScroller.size+v&&e>this.grid.height-g&&e<this.grid.height}},{key:"isInsideVerticalScroller",value:function(t,e){return t>this.grid.width-g&&t<this.grid.width-(g-v)/2&&e>this.grid.tableHeaderHeight&&e<this.grid.height-g}},{key:"isInsideVerticalScrollerBar",value:function(t,e){return this.verticalScroller.has&&t>this.grid.width-g&&t<this.grid.width&&e>this.grid.tableHeaderHeight+this.verticalScroller.y&&e<this.grid.tableHeaderHeight+this.verticalScroller.y+this.verticalScroller.size+v}},{key:"mouseDown",value:function(t,e){this.isInsideHorizontalScrollerBar(t,e)?(this.mouseOriginalX=t,this.horizontalScroller.move=!0):this.isInsideVerticalScrollerBar(t,e)&&(this.mouseOriginalY=e,this.verticalScroller.move=!0)}},{key:"mouseMove",value:function(t,e){if(this.horizontalScroller.focus=!!this.isInsideHorizontalScroller(t,e),this.verticalScroller.focus=!!this.isInsideVerticalScroller(t,e),!this.grid.editor.show)if(this.horizontalScroller.move){var i=t-this.mouseOriginalX,r=this.horizontalScroller.x+i,s=this.grid.width-this.grid.originFixedWidth-this.horizontalScroller.size-g-v;r>0&&r<s?(this.horizontalScroller.x+=i,this.grid.scrollX=-this.horizontalScroller.x/this.horizontalScroller.ratio):r<=0?(this.horizontalScroller.x=0,this.grid.scrollX=0):(this.horizontalScroller.x=s,this.grid.scrollX=this.grid.width-this.grid.tableWidth-g),this.mouseOriginalX=t}else if(this.verticalScroller.move){var l=e-this.mouseOriginalY,o=this.verticalScroller.y+l,a=this.grid.height-this.grid.tableHeaderHeight-this.verticalScroller.size-g-v;o>0&&o<a?(this.verticalScroller.y=o,this.grid.scrollY=-this.verticalScroller.y/this.verticalScroller.ratio):o<=0?(this.verticalScroller.y=0,this.grid.scrollY=0):(this.verticalScroller.y=a,this.grid.scrollY=this.grid.height-this.grid.tableHeight-g),this.mouseOriginalY=e}}},{key:"mouseUp",value:function(){this.horizontalScroller.move=!1,this.verticalScroller.move=!1}},{key:"draw",value:function(){var t=this.grid.width-g,e=this.grid.height-g,i=g/2,r=v/2;this.grid.painter.drawRect(0,e,t+g,g,{fillColor:this.grid.fillColor,borderColor:this.grid.borderColor,borderWidth:this.grid.borderWidth}),this.grid.painter.drawLine([[this.grid.originFixedWidth,e],[this.grid.originFixedWidth,e+g]],{borderColor:this.grid.borderColor,borderWidth:this.grid.borderWidth}),this.grid.painter.drawLine([[t,e],[t,e+g]],{borderColor:this.grid.borderColor,borderWidth:this.grid.borderWidth}),this.horizontalScroller.has&&this.grid.painter.drawLine([[this.grid.originFixedWidth+this.horizontalScroller.x+r,e+i],[this.grid.originFixedWidth+this.horizontalScroller.x+r+this.horizontalScroller.size,e+i]],{borderColor:this.horizontalScroller.move||this.horizontalScroller.focus?w:y,borderWidth:v,lineCap:"round"}),this.grid.painter.drawRect(t,0,g,e,{fillColor:this.grid.fillColor,borderColor:this.grid.borderColor,borderWidth:this.grid.borderWidth}),this.grid.painter.drawLine([[t,this.grid.tableHeaderHeight],[t+g,this.grid.tableHeaderHeight]],{borderColor:this.grid.borderColor,borderWidth:this.grid.borderWidth}),this.verticalScroller.has&&this.grid.painter.drawLine([[t+i,this.verticalScroller.y+r+this.grid.tableHeaderHeight],[t+i,this.verticalScroller.y+r+this.grid.tableHeaderHeight+this.verticalScroller.size]],{borderColor:this.verticalScroller.move||this.verticalScroller.focus?w:y,borderWidth:v,lineCap:"round"})}}]),t}(),pt=bt;i("c975");function mt(t,e,i,r){t.addEventListener(e,i,r)}function kt(t,e,i,r){t.removeEventListener(e,i,r)}function Ct(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:17,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{leading:!0,trailing:!1,context:null},s=new Date(0).getTime(),l=function(){for(var l=arguments.length,o=new Array(l),a=0;a<l;a++)o[a]=arguments[a];var h=(new Date).getTime();if(r.leading)h-s>i?(t.apply(r.context,o),s=h):r.trailing&&(clearTimeout(e),e=setTimeout((function(){t.apply(r.context,o)}),i));else{if(e)return;e=setTimeout((function(){e=null,t.apply(r.context,o)}),i)}};return l.cancel=function(){s=0,clearTimeout(e),e=null},l}function At(t){t.preventDefault(),this.doneEdit();var e=t.target.getBoundingClientRect(),i=t.clientX-e.left,r=t.clientY-e.top;this.header.isInsideHeader(i,r)&&this.header.mouseDown(i,r),this.body.mouseDown(i,r),this.scroller.mouseDown(i,r)}function St(t){"canvas"===t.target.tagName.toLowerCase()&&t.preventDefault();var e=t.target.getBoundingClientRect(),i=t.clientX-e.left,r=t.clientY-e.top;this.target.style.cursor="default",(this.header.isInsideHeader(i,r)||this.header.isResizing)&&this.header.mouseMove(i,r),this.body.mouseMove(i,r),this.scroller.mouseMove(i,r)}function It(t){"canvas"===t.target.tagName.toLowerCase()&&t.preventDefault();var e=t.target.getBoundingClientRect(),i=t.clientX-e.left,r=t.clientY-e.top;(this.header.isInsideHeader(i,r)||this.header.isResizing)&&this.header.mouseUp(i,r),this.endMultiSelect(),this.scroller.mouseUp(i,r)}function zt(t){t.preventDefault();var e=t.target.getBoundingClientRect(),i=t.clientX-e.left,r=t.clientY-e.top;this.body.click(i,r),this.header.isInsideHeaderCheckboxBoundary(i,r)&&(this.header.click(),this.body.handleCheckRow())}function Ot(t){t.preventDefault();var e=t.target.getBoundingClientRect(),i=t.clientX-e.left,r=t.clientY-e.top;this.body.dbClick(i,r)}function Ht(){this.doneEdit()}function Rt(t){if(this.editor.show)13!==t.keyCode&&27!==t.keyCode||(t.preventDefault(),this.doneEdit());else if(this.selector.show&&((t.ctrlKey&&90===t.keyCode||t.metaKey&&!t.shiftKey&&90===t.keyCode)&&t.preventDefault(),(t.ctrlKey&&89===t.keyCode||t.metaKey&&t.shiftKey&&90===t.keyCode)&&t.preventDefault(),(t.ctrlKey&&67===t.keyCode||t.metaKey&&67===t.keyCode)&&(t.preventDefault(),this.clipboard.copy()),(t.ctrlKey&&86===t.keyCode||t.metaKey&&86===t.keyCode)&&this.clipboard.paste(),(65===(t.ctrlKey&&t.keyCode)||t.metaKey&&65===t.keyCode)&&t.preventDefault(),!t.metaKey&&!t.ctrlKey))switch(t.keyCode){case 37:this.moveFocus("LEFT");break;case 38:this.moveFocus("TOP");break;case 9:case 39:this.moveFocus("RIGHT");break;case 40:this.moveFocus("BOTTOM");break;case 8:case 46:this.clearSelectedData();break;case 13:this.startEdit();break;default:}}function Tt(t){if(t.preventDefault(),!this.editor.show){var e=t.deltaX,i=t.deltaY;if(Math.abs(e)>Math.abs(i)){if(this.scroller.horizontalScroller.has){var r=this.tableWidth;this.scrollX-e>0?this.scrollX=0:r+this.verticalScrollerSize-this.width+this.scrollX<e?this.scrollX=this.width-r-this.verticalScrollerSize:(t.preventDefault(),t.returnValue=!1,this.scrollX-=2*e)}}else this.scroller.verticalScroller.has&&(this.scrollY-i>0?this.scrollY=0:this.tableHeight+this.horizontalScrollerSize-this.height+this.scrollY<i?this.scrollY=this.height-this.tableHeight-this.horizontalScrollerSize:(t.preventDefault(),t.returnValue=!1,this.scrollY-=2*i));this.scroller.setPosition()}}function Et(){this.resize()}var Wt=function(){function t(e,i){Object(H["a"])(this,t),this.grid=e,this.el=i,this.isFirefox="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,this.init()}return Object(R["a"])(t,[{key:"init",value:function(){var t=this.el,e=this.grid,i=this.isFirefox;this.eventTasks={clickoutside:Ht.bind(e),mousedown:At.bind(e),mousemove:St.bind(e),mouseup:It.bind(e),click:zt.bind(e),dblclick:Ot.bind(e),mousewheel:Tt.bind(e),keydown:Rt.bind(e),resize:Ct(Et,100,{context:e})},mt(t,"mousedown",this.eventTasks.mousedown,!1),mt(window,"mousemove",this.eventTasks.mousemove,!1),mt(window,"mouseup",this.eventTasks.mouseup,!1),mt(t,"click",this.eventTasks.click,!1),mt(t,"dblclick",this.eventTasks.dblclick,!1),mt(t,i?"DOMMouseScroll":"mousewheel",this.eventTasks.mousewheel,!1),mt(window,"keydown",this.eventTasks.keydown,!1),mt(window,"resize",this.eventTasks.resize,!1)}},{key:"destroy",value:function(){var t=this.el,e=this.isFirefox;kt(t,"mousedown",this.eventTasks.mousedown,!1),kt(window,"mousemove",this.eventTasks.mousemove,!1),kt(window,"mouseup",this.eventTasks.mouseup,!1),kt(t,"click",this.eventTasks.click,!1),kt(t,"dblclick",this.eventTasks.dblclick,!1),kt(t,e?"DOMMouseScroll":"mousewheel",this.eventTasks.mousewheel,!1),kt(window,"keydown",this.eventTasks.keydown,!1),kt(window,"resize",this.eventTasks.resize,!1)}}]),t}(),Dt=Wt,Bt=function(){function t(e,i,r,s,l){Object(H["a"])(this,t),this.grid=e,this.x=i,this.y=r,this.width=200,this.height=90,this.valid=!0,this.message=s}return Object(R["a"])(t,[{key:"update",value:function(t){Object.assign(this,t)}},{key:"draw",value:function(){var t=this.grid,e=t.selector,i=t.scrollX,r=t.scrollY,s=t.width,l=t.height,o=t.tableWidth,a=t.verticalScrollerSize,h=t.color,n=t.painter;if(!this.valid&&!e.isSelected){var d=this.x+this.colWidth+2,c=this.y+1,u=d+this.width+i>s,f=c+this.height+r>l,g=u?"right"===this.fixed?s-(o-this.x-this.colWidth)-this.colWidth-a-this.width-1:this.x-this.width-1:d;this.fixed||(g+=i);var v=f?this.y-(this.height-this.colHeight)-1:this.y;v+=r,n.drawRoundRect(g,v,this.width,this.height,4,{shadowBlur:16,shadowColor:"rgba(28,36,56,0.16)",shadowOffsetX:0,shadowOffsetY:0,fillColor:"#fff",borderWidth:1}),n.drawCellText("数据错误",g,v+24,this.width,this.height,16,{font:'bold 14px "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',color:C,align:"left",baseLine:"bottom"});for(var y=n.getTextWrapping(this.message,this.width,16),w=v+50,x=0;x<y.length;x++)n.drawCellText(y[x],g,w+18*x,this.width,this.height,16,{color:h,align:"left",baseLine:"bottom"})}}}]),t}(),Lt=Bt,jt=function(){function t(e){Object(H["a"])(this,t),this.grid=e,this.show=!1,this.isPaste=!1,this.xArr=[-1,-1],this.yArr=[-1,-1]}return Object(R["a"])(t,[{key:"init",value:function(){var t=this,e=W("textarea","").on("paste",(function(e){return t.paste(e)}));e.css({position:"absolute",left:"-10000px",top:"-10000px"}),this.el=e.el,document.body.appendChild(this.el)}},{key:"copy",value:function(){var t=this.grid,e=t.selector,i=t.body,r=i.getSelectedData(),s=r.text,l=document.createElement("textarea");l.value=s,document.body.appendChild(l),l.select(),document.execCommand("copy",!1),document.body.removeChild(l),this.show=!0,this.xArr=e.xArr.slice(),this.yArr=e.yArr.slice()}},{key:"paste",value:function(){this.isPaste=!0}},{key:"select",value:function(t){this.isPaste=!1;var e=this.grid,i=e.editor,r=e.selector,s=e.autofill;r.xArr.splice(1,1,i.xIndex+t[0].length-1),r.yArr.splice(1,1,i.yIndex+t.length-1),s.xIndex=r.xArr[1],s.yIndex=r.yArr[1],this.clear()}},{key:"clear",value:function(){this.show=!1,this.xArr=[-1,-1],this.yArr=[-1,-1]}}]),t}(),Xt=jt,Vt=window.devicePixelRatio||1,Ft=function(){function t(e,i){Object(H["a"])(this,t),this.target=e,this.scrollY=0,this.scrollX=0,this.checkboxWidth=c,this.horizontalScrollerSize=g,this.verticalScrollerSize=g,this.tempValue="",this.focusCell=null,this.hashChange={},this.selector={show:!1,isSelected:!1,xArr:[-1,-1],yArr:[-1,-1]},this.editor={show:!1,xIndex:0,yIndex:0},this.autofill={enable:!1,xIndex:0,yIndex:0,xArr:[-1,-1],yArr:[-1,-1]},this.painter=new X(e),this.initConfig(i),this.clipboard=new Xt(this),this.header=new gt(this,0,0),this.body=new at(this,this.data),this.scroller=new pt(this),this.setLayoutSize(i),this.initTableSize(),this.tooltip=new Lt(this,0,0),this.events=new Dt(this,e),this.initPaint()}return Object(R["a"])(t,[{key:"initConfig",value:function(t){Object.assign(this,{data:[],color:"#495060",borderColor:"#e1e6eb",fillColor:"#fff",borderWidth:1,fixedLeft:0,fixedRight:0,showCheckbox:!0,headerHeight:n,beforeSelectCell:function(t){},afterSelectCell:function(t){},beforeMultiSelectCell:function(t){},afterMultiSelectCell:function(t){},beforeEditCell:function(t){},afterEditCell:function(t){},beforeSelectRow:function(t){},afterSelectRow:function(t){},beforeResizeColumn:function(){},afterResizeColumn:function(){},beforeResizeRow:function(){},afterResizeRow:function(){},beforeAutofill:function(){},afterAutofill:function(){},beforeCopy:function(){},afterCopy:function(){},beforePaste:function(){},afterPaste:function(){},afterClear:function(){},onLoad:function(){}},t);var e=z(t.columns);e>1&&(this.headerHeight=24),this.tableHeaderHeight=this.headerHeight*e,this.headers=O(t.columns,e),this.columns=I(t.columns),this.columnsLength=this.columns.length,this.range={minX:0,maxX:this.columns.length-1,minY:0,maxY:this.data.length-1},this.showCheckbox||(this.checkboxWidth=0),this.originFixedWidth=d+this.checkboxWidth}},{key:"setLayoutSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.target.parentElement,i=e.parentElement,r=i.getBoundingClientRect(),s=r.width,l=r.left,o=r.top;this.containerOriginX=l,this.containerOriginY=o,this.width=t.width||s,this.height=t.height||window.innerHeight-o,this.target.width=this.width*Vt,this.target.height=this.height*Vt,this.target.style.width=this.width+"px",this.target.style.height=this.height+"px",e.style.width=this.width+"px",e.style.height=this.height+"px",this.painter.scaleCanvas(Vt)}},{key:"getTableSize",value:function(){var t=this,e=this.originFixedWidth,i=g;this.header.fixedColumnHeaders.forEach((function(r){r.index<t.fixedLeft&&(e+=r.width),r.index>t.columnsLength-1-t.fixedRight&&(i+=r.width)})),this.fixedLeftWidth=e,this.fixedRightWidth=i,this.tableWidth=this.header.allColumnHeaders.filter((function(t){return!t.level})).reduce((function(t,e){return t+e.width}),this.originFixedWidth),this.tableHeight=this.body.height,this.scroller.reset()}},{key:"initTableSize",value:function(){this.getTableSize(),this.fillTableWidth()}},{key:"fillTableWidth",value:function(){if(this.tableWidth<=this.width-g){var t=(this.width-g-this.tableWidth)/this.columnsLength;t&&this.body.resizeAllColumn(t),t&&this.header.resizeAllColumn(t),this.tableWidth=this.width-g,this.fixedLeftWidth=0,this.fixedRightWidth=g}this.scroller.reset()}},{key:"resize",value:function(){var t=this.tableWidth-this.width+this.scrollX;this.setLayoutSize(),this.fillTableWidth(),this.tableWidth-(this.width-g)+this.scrollX<0&&(this.scrollX=this.width-this.tableWidth+t)}},{key:"createContainer",value:function(){this.rootEl=W("div","".concat(h)),this.wrapEl=W("div","".concat(h,"-main")),this.wrapEl.offset({width:this.width,height:this.height}),this.rootEl.children(this.wrapEl),this.tableEl=W("canvas","".concat(h,"-table")),this.editor=new xt(this),this.overlayerEl=W("div","".concat(h,"-overlayer")).children(this.editor.el),this.wrapEl.children(this.tableEl,this.overlayerEl),this.target.appendChild(this.rootEl.el)}},{key:"selectCell",value:function(t){var e=t.colIndex,i=t.rowIndex;this.clearMultiSelect(),this.editor.xIndex=e,this.editor.yIndex=i,this.selector.show=!0,this.selector.isSelected=!0,this.adjustBoundaryPosition(),this.putCell()}},{key:"putCell",value:function(){var t=this.focusCell,e=t.x,i=t.y,r=t.width,s=t.height,l=t.value,o=t.fixed,a=t.dataType,h=t.options,n="right"===o?this.width-(this.tableWidth-e-r)-r-g:"left"===o?e:e+this.scrollX,d=i+this.scrollY;this.afterSelectCell({value:l,x:n,y:d,width:r,height:s,dataType:a,options:h})}},{key:"multiSelectCell",value:function(t,e,i,r){var s=this.selector;if(s.isSelected){var l=t>this.editor.xIndex?this.editor.xIndex:t,o=t>this.editor.xIndex?t:this.editor.xIndex,a=e>this.editor.yIndex?this.editor.yIndex:e,h=e>this.editor.yIndex?e:this.editor.yIndex;this.autofill.xIndex=o,this.autofill.yIndex=h,s.xArr=[l,o],s.yArr=[a,h],this.adjustPosition(t,e,i,r)}this.autofill.enable&&(this.adjustPosition(t,e,i,r),this.autofill.xArr=s.xArr.slice(),this.autofill.yArr=s.yArr.slice(),e>=s.yArr[0]&&e<=s.yArr[1]?t>s.xArr[1]?this.autofill.xArr.splice(1,1,t):t<s.xArr[0]&&this.autofill.xArr.splice(0,1,t):e>s.yArr[1]?this.autofill.yArr.splice(1,1,e):e<s.yArr[0]&&this.autofill.yArr.splice(0,1,e))}},{key:"endMultiSelect",value:function(){this.selector.isSelected=!1,this.selector.show&&this.autofill.enable&&(this.body.autofillData(),this.autofill.enable=!1)}},{key:"clearMultiSelect",value:function(){this.selector.xArr=[-1,-1],this.selector.yArr=[-1,-1]}},{key:"startAutofill",value:function(){this.autofill.enable=!0}},{key:"clearAuaofill",value:function(){this.selector.xArr.splice(0,1,this.autofill.xArr[0]),this.selector.xArr.splice(1,1,this.autofill.xArr[1]),this.selector.yArr.splice(0,1,this.autofill.yArr[0]),this.selector.yArr.splice(1,1,this.autofill.yArr[1]),this.autofill.xIndex=this.selector.xArr[1],this.autofill.yIndex=this.selector.yArr[1],this.autofill.xArr=[-1,-1],this.autofill.yArr=[-1,-1]}},{key:"startEdit",value:function(){this.focusCell&&!this.focusCell.readonly&&(this.editor.show=!0,this.selector.show=!1,this.putCell(),this.beforeEditCell())}},{key:"doneEdit",value:function(){if(this.editor.show&&this.focusCell){if(this.editor.show=!1,this.selector.show=!0,this.focusCell.value!==this.tempValue){this.focusCell.setData(this.tempValue);var t=this.body.getRowData(this.focusCell.rowIndex);this.afterEditCell(t)}this.putCell(),this.clipboard.clear()}}},{key:"setData",value:function(t){this.focusCell&&this.focusCell.setData(t)}},{key:"setTempData",value:function(t){this.editor.show=!0,this.selector.show=!1,this.tempValue=t}},{key:"pasteData",value:function(t){t.length>0&&(this.body.pasteData(t),this.clipboard.select(t))}},{key:"clearSelectedData",value:function(){this.body.clearSelectedData()}},{key:"resizeColumn",value:function(t,e){this.header.resizeColumn(t,e),this.body.resizeColumn(t,e),this.getTableSize()}},{key:"resizeRow",value:function(t,e){this.body.resizeRow(t,e),this.getTableSize()}},{key:"handleCheckRow",value:function(t){this.body.handleCheckRow(t)}},{key:"moveFocus",value:function(t){switch(t){case"LEFT":this.editor.xIndex>this.range.minX&&(this.editor.xIndex--,this.adjustBoundaryPosition());break;case"TOP":this.editor.yIndex>this.range.minY&&(this.editor.yIndex--,this.adjustBoundaryPosition());break;case"RIGHT":this.editor.xIndex<this.range.maxX&&(this.editor.xIndex++,this.adjustBoundaryPosition());break;case"BOTTOM":this.editor.yIndex<this.range.maxY&&(this.editor.yIndex++,this.adjustBoundaryPosition());break;default:}this.putCell()}},{key:"adjustPosition",value:function(t,e,i,r){var s=i-this.width+g,l=r-this.height+g;s>0&&this.scroller.update(-12,"HORIZONTAL"),l>0&&this.scroller.update(-12,"VERTICAL")}},{key:"adjustBoundaryPosition",value:function(){if(this.focusCell=this.body.getCell(this.editor.xIndex,this.editor.yIndex),this.selector.xArr=[this.editor.xIndex,this.editor.xIndex],this.selector.yArr=[this.editor.yIndex,this.editor.yIndex],this.autofill.xIndex=this.editor.xIndex,this.autofill.yIndex=this.editor.yIndex,!this.focusCell.fixed){var t=this.focusCell.x+this.focusCell.width+this.scrollX,e=this.focusCell.y+this.focusCell.height+this.scrollY,i=this.width-this.fixedRightWidth,r=this.height-g,s=this.focusCell.x+this.scrollX-this.fixedLeftWidth,l=i-t,o=this.focusCell.y+this.scrollY-this.tableHeaderHeight,a=r-e;l<0?this.scroller.update(l,"HORIZONTAL"):s<0&&this.scroller.update(-s,"HORIZONTAL"),o<0?this.scroller.update(-o,"VERTICAL"):a<0&&this.scroller.update(a,"VERTICAL")}}},{key:"initPaint",value:function(){this.draw(),window.requestAnimationFrame(this.initPaint.bind(this))}},{key:"drawContainer",value:function(){this.painter.drawRect(0,0,this.width,this.height,{borderColor:this.borderColor,fillColor:"#fff",borderWidth:this.borderWidth})}},{key:"draw",value:function(){this.painter.clearCanvas(),this.drawContainer(),this.columnsLength&&(this.body.draw(),this.tooltip.draw(),this.header.draw(),this.scroller.draw())}},{key:"updateColumns",value:function(t){var e=z(t);this.tableHeaderHeight=this.headerHeight*e,this.headers=O(t,e),this.columns=I(t),this.columnsLength=this.columns.length,this.range.maxX=t.length-1,this.header.paint(),this.getTableSize()}},{key:"loadData",value:function(t){this.data=t,this.range.maxY=t.length-1,this.body.paint(t),this.initTableSize()}},{key:"getData",value:function(){return this.doneEdit(),this.body.getData()}},{key:"getRowData",value:function(t){return this.doneEdit(),this.body.getRowData(t)}},{key:"getCheckedRows",value:function(){return this.doneEdit(),this.body.getCheckedRows()}},{key:"getChangedRows",value:function(){return this.doneEdit(),this.body.getChangedRows()}},{key:"validate",value:function(t){return this.doneEdit(),this.body.validate(t)}},{key:"validateChanged",value:function(t){return this.doneEdit(),this.body.validateChanged(t)}},{key:"validateField",value:function(t,e){return this.doneEdit(),this.body.validateField(t,e)}},{key:"getValidations",value:function(){return this.doneEdit(),this.body.getValidations()}},{key:"setValidations",value:function(t){return this.body.setValidations(t)}},{key:"clearValidations",value:function(){return this.body.clearValidations()}},{key:"updateData",value:function(t){return this.body.updateData(t)}}]),t}(),Yt=Ft,Pt={bind:function(t,e,i){function r(i){if(t.contains(i.target))return!1;e.expression&&e.value(i)}t.__vueClickOutside__=r,document.addEventListener("click",r)},update:function(){},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),delete t.__vueClickOutside__}},Mt=["text","number","phone","email"],_t=["month","date","datetime","select"],Nt={name:"DDataGrid",props:{rowKey:{type:String,default:"id"},fixedLeft:{type:Number,default:0},fixedRight:{type:Number,default:0},width:Number,height:Number,columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}}},directives:{Clickoutside:Pt},data:function(){return{CSS_PREFIX:h,loading:!1,show:!1,dataType:"text",popWidth:"auto",isEditing:!1,isPaste:!1,value:"",editorSty:{borderColor:"rgb(82,146,247)"},focusCell:null,cascader_value:[],selectOptions:[]}},watch:{columns:function(t){this.grid.updateColumns(t),this.grid.loadData(this.data)},data:function(t){this.grid.updateColumns(this.columns),this.grid.loadData(t),this.loading=!1}},computed:{tableHeaderHeight:function(){var t=z(this.columns);return n*t},popupSty:function(){return{width:this.popWidth,top:"-1px"}},isSimple:function(){return Mt.includes(this.dataType)}},methods:{reload:function(){return this.grid.resize()},getData:function(){return this.grid.getData()},getCheckedRows:function(){return this.grid.getCheckedRows()},getChangedRows:function(){return this.grid.getChangedRows()},validate:function(t){return this.grid.validate(t)},validateChanged:function(t){return this.grid.validateChanged(t)},validateField:function(t,e){return this.grid.validateField(t,e)},getValidations:function(){return this.grid.getValidations()},setValidations:function(t){return this.grid.setValidations(t)},clearValidations:function(){return this.grid.clearValidations()},updateData:function(t){return this.grid.updateData(t)},setFullScreen:function(){this.grid.resize()},editCell:function(){var t=this,e=this.focusCell,i=e.dataType,r=e.options,s=e.value;this.show=!0,this.dataType=i,[].concat(Mt,_t).includes(i)||(this.dataType="text"),this.selectOptions=r,this.$refs.text.innerHTML=s,this.grid.setTempData(s),"month"===this.dataType||"date"===this.dataType||"datetime"===this.dataType?isNaN(s)&&!isNaN(Date.parse(s))?this.value=s:this.value="":this.value=s,this.showEditor(),this.$nextTick((function(){t.focus()}))},selectCell:function(t){var e=this;this.focusCell=t,this.clearEditor(),this.hideEditor(),this.$nextTick((function(){e.focus("text")}))},showEditor:function(){var t=this.focusCell,e=t.x,i=t.y,r=t.width,s=t.height;this.isEditing=!0,this.$refs.editor.style.left="".concat(e-1,"px"),this.$refs.editor.style.top="".concat(i-2-this.tableHeaderHeight,"px"),this.$refs.text.style["min-width"]="".concat(r-1,"px"),this.$refs.text.style["min-height"]="".concat(s-1,"px"),this.popWidth="".concat(r-1,"px"),_t.includes(this.dataType)&&(this.$refs.editor.style.height="38px")},hideEditor:function(){this.isEditing=!1,this.$refs.editor.style.left="-10000px",this.$refs.editor.style.top="-10000px",this.show=!1,this.dataType="text"},clearEditor:function(){this.$refs.text.innerHTML=""},focus:function(t){var e=t||this.dataType;this.isSimple&&(e="text");var i=this.$refs[e];if("function"===typeof i.focus)if(_t.includes(e))i.focus();else if(window.getSelection){i.focus();var r=window.getSelection();r.selectAllChildren(i),r.collapseToEnd()}else if(document.selection){var s=document.selection.createRange();s.moveToElementText(i),s.collapse(!1),s.select()}},doPaste:function(){this.isPaste=!0},inputHandler:function(t){var e=t.target.innerText;if(this.isPaste)if(this.isEditing)this.isPaste=!1,this.grid.setTempData(e);else{this.isPaste=!1;var i=[],r=e.split("\r");if(1===r.length){var s=r[0].split("\n");i=s.map((function(t){return t.split("\t")}))}else i=r.map((function(t){return t.split("\t")}));this.grid.pasteData(i),this.clearEditor()}else this.showEditor(),this.grid.setTempData(e)},selectChange:function(t){this.grid.setTempData(t)},handleclickoutside:function(){this.grid.doneEdit()}},created:function(){var t=this;this.loading=!(this.data.length>0),this.$nextTick((function(){var e=t,i=document.getElementById("".concat(h,"-target"));t.grid=new Yt(i,{rowKey:t.rowKey,width:t.width,height:t.height,fixedLeft:t.fixedLeft,fixedRight:t.fixedRight,columns:t.columns,data:t.data,beforeSelectCell:function(){},afterSelectCell:function(t){e.selectCell(t)},beforeMultiSelectCell:function(){},afterMultiSelectCell:function(){},beforeEditCell:function(){e.editCell()},afterEditCell:function(t){e.$emit("after-edit-cell",t)},afterAutofill:function(t){e.$emit("after-autofill",t)},afterPaste:function(t){e.$emit("after-paste",t)},afterClear:function(t){e.$emit("after-clear",t)},onLoad:function(){setTimeout((function(){e.$emit("on-load")}),0)}})}))},destroyed:function(){this.grid.events.destroy()}},qt=Nt,Kt=(i("11bc"),i("2877")),Qt=Object(Kt["a"])(qt,o,a,!1,null,null,null),Ut=Qt.exports,Gt={name:"App",components:{DataGrid:Ut},data:function(){return{isFullscreen:!1,gridData:[],columns:[]}},methods:{setFullScreen:function(){var t=document.getElementById("app");this.isFullscreen?(this.isFullscreen=!1,t.style.cssText="\n          position: relative;\n        "):(this.isFullscreen=!0,t.style.cssText="\n          position: fixed;\n          top: 0;\n          left: 0;\n          bottom: 0;\n          right: 0;\n          min-height: 100vh;\n          background: #fff;\n          z-index: 2000;\n          overflow: hidden;\n        "),this.$refs.datagrid.setFullScreen()},getData:function(){var t=this.$refs.datagrid.getData();console.log(t),alert("获取成功，请查看控制台")},updateData:function(){var t=[{id:1,emp_name:"数据111",emp_no:"数据222"},{id:3,job_name:"数据333",emp_no:"数据444"}];this.$refs.datagrid.updateData(t)},afterEditCell:function(t){console.log(t)},afterAutofill:function(t){console.log(t)},afterPaste:function(t){console.log(t)},afterClear:function(t){console.log(t)},getCheckedRows:function(){var t=this.$refs.datagrid.getCheckedRows();console.log(t),alert("获取成功，请查看控制台")},getChangedRows:function(){var t=this.$refs.datagrid.getChangedRows();console.log(t),alert("获取成功，请查看控制台")},getValidations:function(){var t=this.$refs.datagrid.getValidations();console.log(t),alert("获取成功，请查看控制台")},setValidations:function(){var t=[{id:1,emp_name:"错误111",emp_no:"错误222"},{id:3,job_name:"错误333",emp_no:"错误444"}];this.$refs.datagrid.setValidations(t)},clearValidations:function(){this.$refs.datagrid.clearValidations()}},created:function(){for(var t=[{title:"姓名",key:"emp_name"},{title:"工号",key:"emp_no",type:"number"},{title:"部门",key:"dep_name",size:"small",align:"left",readonly:!0},{title:"岗位",key:"job_name",size:"small",align:"left",rule:{required:!0,validator:function(t,e,i){t.length>10?i("岗位字段长度必须小于10个字符哦！"):t.length<1?i("岗位字段长度必须填哦！"):i()},immediate:!1}},{title:"手机号",key:"phone",type:"phone"},{title:"配送信息",key:"delivery_info"},{title:"性别",key:"sex",type:"select",options:[{value:1,label:"男"},{value:2,label:"女"}],rule:{required:!0}},{title:"计薪月份",size:"small",key:"salary_month",type:"month",align:"center"},{title:"出生日期",size:"small",key:"birthday",type:"date"},{title:"家庭地址",key:"address",size:"medium",align:"left",rule:{required:!0,message:"该项必填哦！"}},{title:"请假开始时间",size:"small",key:"start_dt",type:"datetime"},{title:"物料编码",key:"materialNo",align:"right",render:function(t){var e=parseFloat(t);return e.toFixed(2)}},{title:"数量",key:"requiredQuantity",type:"number",align:"right",rule:{message:"请输入数字，且不能超过2为小数！"}},{title:"单位",key:"unit"},{title:"工作性质",key:"work_type"},{title:"工作状态",key:"work_status"},{title:"户籍城市",key:"household_city"},{title:"户籍地址",key:"household_address"},{title:"民族",key:"nation"},{title:"工作地址",size:"small",key:"work_address"},{title:"工作邮箱",size:"small",key:"work_email"},{title:"个人邮箱",size:"small",key:"email"},{title:"工龄",key:"work_age"},{title:"司龄",key:"company_age"},{title:"合同公司",size:"small",key:"contract_company"},{title:"qq号",key:"qq"},{title:"年龄",key:"age"},{title:"品牌",key:"brandName"},{title:"商品名称",key:"goodsName"},{title:"规格型号",key:"sn"},{title:"客户备注",key:"customerRemarks",size:"small"},{title:"采购价(元)",key:"purchasePrice",type:"number"},{title:"销售价(元)",key:"salePrice",type:"number",size:"small"}],e=(document.getElementById("data-grid-demo"),[]),i=0;i<100;i+=1)e.push({id:i,emp_name:"张三".concat(i),emp_no:10+i,dep_name:4===i?null:"研发部".concat(i),job_name:5===i?"产品经理测试很长的名字":"产品经理".concat(i),phone:4===i?"13159645561a":"".concat(13159645561+i),sex:i%4===0?1:3===i?null:2,address:1===i?"海淀区北京路海淀区北京路十分地".concat(i,"号"):4===i?"":"海淀区北京路".concat(i,"号"),work_type:"兼职".concat(i),work_status:"在职".concat(i),household_city:"深圳".concat(i),household_address:"深南大道".concat(i,"号"),nation:"汉".concat(i),work_address:"南京路".concat(i,"号"),work_email:"".concat(28976633+i,"@qq.com"),email:"".concat(4465566+i,"@qq.com"),work_age:2+i,company_age:1+i,contract_company:"飞鸟物流公司".concat(i),qq:35860567+i,salary_month:"".concat(1996+i,"-09"),birthday:"".concat(1996+i,"-09-21"),age:1+i,hobby:"水果/苹果",brandName:"博世".concat(i),goodsName:"电钻".concat(i),sn:"SDFSD".concat(i),materialNo:"1231".concat(i),unit:"个",requiredQuantity:10,customerRemarks:"测试测试".concat(i),purchasePrice:10.2+i,salePrice:12.3+i,delivery_name:"王麻子".concat(i),delivery_address:"民族大道".concat(i,"号"),province:"湖北省".concat(i)});this.columns=t,this.gridData=e}},$t=Gt,Jt=(i("5c0b"),Object(Kt["a"])($t,s,l,!1,null,null,null)),Zt=Jt.exports,te=(i("be4f"),i("450d"),i("896a")),ee=i.n(te),ie=(i("28b2"),i("c7ad")),re=i.n(ie),se=(i("6611"),i("e772")),le=i.n(se),oe=(i("1f1a"),i("4e4b")),ae=i.n(oe),he=(i("826b"),i("c263")),ne=i.n(he),de=(i("1951"),i("eedf")),ce=i.n(de);r["default"].use(ce.a),r["default"].use(ne.a),r["default"].use(ae.a),r["default"].use(le.a),r["default"].use(re.a),r["default"].use(ee.a),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(Zt)}}).$mount("#app")},"572f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAALCAYAAABLcGxfAAAAOElEQVQoU2NkQAINLf3/G2oKGfGJMYIUISsgxEbRADId3QB0MfJsQHc3LmeBbAfbMCI1EIosZHkAeThBwJAJ9eAAAAAASUVORK5CYII="},"5c0b":function(t,e,i){"use strict";var r=i("9c0c"),s=i.n(r);s.a},"89b8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB7klEQVRoQ+2ZQVLCMBSG/+foiszoDYQTyA1ELqLcANdlwULWjiegXqRwBU8gnEAc6gqG50TpDNQEG/pagpYlTZPve38mTRvCkf/oyPlRCRw6wSoBrxNo9fni5CweMqNFRBdlwjIwIWC8WtTux32a2ca2TiENT6fxa9ngaVBmnvFSNWwSVoGbhzgkwm2ZVbeNxYznUU/dma7vEJi/Hbr6CbCeTqNANZwE2oOYfah+whAFylhsawKVgHB83ifAjBcCQhAeTe5eC2h4XtZaeqm0rX7eCmzCJ5U3SXgpYILXEu1BPASwte57J+ACr6W8EnCF90pgH3hvBPaFFxXQGysATSJcuTyr8sCLCSS7wu+t9sc4q0ReeBGB9JY2q4QEvIgAgDAKVGdz2vwmIQUvJaD7ySwhCS8poPt6igLV3ZWENLy0gO6vEwUqNEno/5KN2eZ10/bAZRUr4klslNBQ6RfwvPBFJJAU74dEuqoS8EUKGKdTIiEFX7SAUUISvgyBLQlp+LIEviQAXKdfRlxWG1vbIlYhCa7MfVQCmUtVUMP/mMB8BtB5QQV165YxjXqqbrrp735eX5/OTA6fAr+vFqrufMCh41qf0oQEaoJw6ZZ7ztaMKQNjXta6ex0x5Ry+tNurY9bSSm0ZqEqgSiBnBT4BkfqPQMORwUwAAAAASUVORK5CYII="},"924b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABXUlEQVRoQ+2ZwVEDMQxFJTdACYQOQgWkA9KFvSeSTrh51QVUACVsCUkHoQGL2SMzMfMVYrOZUc5//PXft3JYM934j298fvIA/92gN7DoBkRkq6ovzLzpPaiqHph5KqXsh2E41PyrVyjnvAkhfPQe/IzfqZTyWAtRDSAin0T0tIAApKrvKaXtuVl+C6BLGH6eYb5OKaWHPwWIMXb9xxKRHwBr/nADHsB4H70BlIARLCxH/X0HYKRGoTeAEjCCheWov+8AjNQo9AZQAkawsBz19x2AkRqF3gBKwAgWlqP+vgMwUqPQG0AJGMHCctTfdwBGahR6AygBI1hYjvr7DsBIjUJvQERORHRnBNdKfowxrkwfd8dxfGPm51YTWc696PN6znkVQpgW0MJXKWVtfuCYCc0hmPmVmddEdG+hdgXtUVUnVd1d9MR0hQG6HNH10aJFIg/QgqrlTG/AQquF9huB5SxAQNMDWAAAAABJRU5ErkJggg=="},"9c0c":function(t,e,i){},c478:function(t,e,i){}});
//# sourceMappingURL=app.d0006ecc.js.map