{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/index.scss?469a","webpack:///./src/core/images/time.png","webpack:///./src/App.vue?f5ac","webpack:///./src/components/index.vue?3ed3","webpack:///./src/core/constants.js","webpack:///./src/core/util.js","webpack:///./src/core/element.js","webpack:///./src/core/Paint.js","webpack:///./src/core/Context.js","webpack:///./src/core/RowHeader.js","webpack:///./src/core/Validator.js","webpack:///./src/core/Cell.js","webpack:///./src/core/Row.js","webpack:///./src/core/Body.js","webpack:///./src/core/ColumnHeader.js","webpack:///./src/core/Header.js","webpack:///./src/core/Editor.js","webpack:///./src/core/Scroller.js","webpack:///./src/core/Events.js","webpack:///./src/core/Tooltip.js","webpack:///./src/core/Clipboard.js","webpack:///./src/core/config.js","webpack:///./src/core/DataGrid.js","webpack:///./src/components/clickoutside.js","webpack:///src/components/index.vue","webpack:///./src/components/index.vue?004c","webpack:///./src/components/index.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/plugins/element.js","webpack:///./src/main.js","webpack:///./src/core/images/date.png","webpack:///./src/App.vue?f446","webpack:///./src/core/images/oncheck.png","webpack:///./src/core/images/offcheck.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","on","getData","_v","updateData","getCheckedRows","getChangedRows","getValidations","setValidations","clearValidations","setFullScreen","_s","isFullscreen","ref","columns","gridData","afterEditCell","afterAutofill","afterPaste","afterClear","staticRenderFns","directives","rawName","expression","class","CSS_PREFIX","doPaste","style","top","tableHeaderHeight","inputHandler","$event","type","indexOf","_k","keyCode","preventDefault","dataType","selectChange","model","callback","$$v","_l","item","label","_e","HEADER_HEIGHT","ROW_INDEX_WIDTH","CHECK_BOX_WIDTH","CELL_HEIGHT","MIN_CELL_WIDTH","SCROLLER_TRACK_SIZE","SCROLLER_SIZE","SCROLLER_COLOR","SCROLLER_FOCUS_COLOR","SELECT_BORDER_COLOR","SELECT_AREA_COLOR","SELECT_BG_COLOR","READONLY_COLOR","READONLY_TEXT_COLOR","ERROR_TIP_COLOR","SIZE_MAP","mini","small","medium","large","toLeaf","arr","tmp","forEach","children","concat","getMaxRow","config","map","sort","a","b","calCrossSpan","maxRow","level","undefined","colspan","rowspan","Element","tag","className","el","document","createElement","eventNames","handler","split","fen","oen","eventName","test","navigator","userAgent","addEventListener","evt","k","button","stopPropagation","keys","css","offsetTop","offsetLeft","offsetHeight","offsetWidth","left","height","width","v","scrollLeft","scrollTop","getBoundingClientRect","parentNode","eles","arguments","childNodes","ele","child","removeChild","arg","createTextNode","appendChild","contains","classList","add","remove","cls","toggleClass","toggle","flag","addClass","removeClass","active","setAttribute","getAttribute","removeAttribute","content","innerHTML","getSelection","focus","range","selectAllChildren","collapseToEnd","selection","createRange","moveToElementText","collapse","select","removeProperty","getComputedStyle","h","ALIGN_MAP","right","calucateTextAlign","padding","align","x","textWidth","ctx","measureText","Paint","target","getContext","dpr","scale","points","options","assign","lineCap","lineJoin","borderWidth","borderColor","fillColor","save","beginPath","moveTo","lineTo","lineWidth","lineDash","lineDashOffset","setLineDash","fillStyle","fill","strokeStyle","stroke","restore","text","y","font","color","baseLine","textAlign","textBaseline","fillText","icon","iconWidth","iconHeight","iconOffsetX","iconOffsetY","posX","posY","startOffset","src","drawImage","rightIconPadding","drawRect","drawLine","offsetX","offsetY","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","rect","raidus","arcTo","img","clearRect","canvas","chr","temp","Context","grid","fixed","fixedLeftWidth","scrollX","fixedRightWidth","scrollY","horizontalScrollerSize","mouseX","mouseY","tableWidth","verticalScrollerSize","originFixedWidth","isInsideCheckboxBoundary","isInsideHeader","oncheck","Image","offcheck","require","RowHeader","rowIndex","checked","val","editor","selector","showCheckbox","checkEl","painter","drawCellText","show","minY","yArr","maxY","checkboxWidth","rules","number","phone","email","getValidation","message","validateTitle","Validator","column","validateKey","title","rule","row","self","required","validator","operator","descriptor","requiredValid","trim","includes","isNaN","Date","parse","RegExp","pattern","res","dateIcon","timeIcon","Cell","colIndex","rowData","readonly","baseline","render","originalValue","valid","setLabel","immediate","validate","Number","ignore","handleNumber","clipboard","isPaste","autofill","enable","getMapValue","body","getRowData","hashChange","getMapLabel","Array","isArray","clip","drawCellAffixIcon","minX","xArr","maxX","autofill_width","xIndex","yIndex","fixedLeft","Row","allCells","fixedCells","cells","rowHeader","everyOffsetX","columnsLength","size","fixedRight","cell","handleCheck","isInHorizontalAutofill","isInsideFixedHorizontalAutofill","isInsideAffixIcon","selectCell","setTimeout","startEdit","isInsideHorizontalBodyBoundary","isInsideFixedHorizontalBodyBoundary","isInsideHorizontalTableBoundary","multiSelectCell","tooltip","update","colWidth","colHeight","cursor","startAutofill","diffWidth","scrollDiffWidth","isHorizontalVisibleOnBody","draw","Body","paint","rows","len","everyOffsetY","reduce","sum","onLoad","ri","ci","setData","startY","endY","rowDatas","getSelectedData","xStep","yStep","syArr","clearAuaofill","resizeColumn","MIN_CELL_HEIGHT","resizeRow","isChecked","header","isInVerticalAutofill","handleAutofill","isInsideVerticaTableBoundary","mouseMove","handleStartAutofill","isInsideVerticaBodyBoundary","mouseDown","click","dbClick","getRow","textWrap","rowHeight","getTextWrapping","textWrapCount","rePaint","isVerticalVisibleOnBody","rowsData","cellsData","join","replace","_o","filter","Set","from","errors","getCell","validFaildRows","validFaildCells","rowKey","resetValidate","ColumnHeader","index","drawIcon","getLeafColumnsWidth","_arr","Header","headerHeight","allColumnHeaders","fixedColumnHeaders","columnHeaders","columnIndex","renderHeader","parent","originX","columnHeader","headers","resizeTarget","resizeOriginalX","resizeOriginalWidth","isResizing","resizeDiffWidth","newWidth","col","fellWidth","isVisibleOnScreen","inputEventHandler","suggest","editable","search","hide","keydownHander","e","finishedEdit","metaKey","ctrlKey","Editor","areaEl","textEl","attr","selectOptions","editorXIndex","editorYIndex","setoffset","html","offset","Scroller","horizontalScroller","move","ratio","has","verticalScroller","tableHeight","viewWidth","viewHeight","horizontalRatio","verticalRatio","parseInt","diff","dir","setPosition","isInsideHorizontalScrollerBar","mouseOriginalX","isInsideVerticalScrollerBar","mouseOriginalY","isInsideHorizontalScroller","isInsideVerticalScroller","diffX","movedX","trachWidth","diffY","movedY","trackHeight","scrollerWidth","scrollerHeight","trackOffset","thumbOffset","fn","useCapture","unbind","removeEventListener","throttle","func","timer","time","leading","trailing","context","previous","getTime","_throttle","args","now","clearTimeout","cancel","handleMouseDown","doneEdit","clientX","clientY","scroller","handleMouseMove","tagName","toLowerCase","handleMouseUp","mouseUp","endMultiSelect","handleClick","isInsideHeaderCheckboxBoundary","handleCheckRow","handleDbClick","handleClickoutside","handleKeydown","shiftKey","copy","paste","moveFocus","clearSelectedData","handleScroll","deltaX","deltaY","Math","abs","maxWidth","returnValue","handleResize","resize","Events","isFirefox","init","eventTasks","mousedown","mousemove","mouseup","dblclick","mousewheel","keydown","Tooltip","isSelected","poX","poY","isBeyondHorizontalView","isBeyondVerticalView","drawRoundRect","textArr","_y","Clipboard","clipboardEl","position","textArea","execCommand","clear","devicePixelRatio","DataGrid","tempValue","focusCell","initConfig","setLayoutSize","initTableSize","events","initPaint","beforeSelectCell","afterSelectCell","beforeMultiSelectCell","afterMultiSelectCell","beforeEditCell","beforeSelectRow","afterSelectRow","beforeResizeColumn","afterResizeColumn","beforeResizeRow","afterResizeRow","beforeAutofill","beforeCopy","afterCopy","beforePaste","maxHeaderRow","parentElement","rootEl","containerOriginX","containerOriginY","innerHeight","scaleCanvas","reset","getTableSize","fillTableWidth","fillCellWidth","resizeAllColumn","wrapEl","tableEl","overlayerEl","clearMultiSelect","adjustBoundaryPosition","putCell","_x","adjustPosition","autofillData","pasteData","cellTotalViewWidth","cellTotalViewHeight","diffLeft","diffRight","diffTop","diffBottom","requestAnimationFrame","clearCanvas","drawContainer","validateChanged","validateField","binding","vnode","documentHandler","__vueClickOutside__","props","String","default","Clickoutside","loading","popWidth","isEditing","editorSty","cascader_value","watch","updateColumns","loadData","computed","popupSty","isSimple","SIMPLE_DATE_TYPES","methods","reload","editCell","$refs","setTempData","showEditor","$nextTick","clearEditor","hideEditor","COMPLEX_DATE_TYPES","_type","handleclickoutside","created","$emit","destroyed","destroy","component","components","cssText","datagrid","console","log","alert","id","emp_name","emp_no","dep_name","job_name","sex","address","work_type","work_status","household_city","household_address","nation","work_address","work_email","work_age","company_age","contract_company","qq","salary_month","birthday","age","hobby","brandName","goodsName","sn","materialNo","unit","requiredQuantity","customerRemarks","purchasePrice","salePrice","delivery_name","delivery_address","province","Vue","use","productionTip","App","$mount"],"mappings":"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","file":"js/app.e084bd82.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/canvas-spreadsheet/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./index.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./index.scss?vue&type=style&index=0&lang=scss&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAABvklEQVQ4T42Sv08UQRTHv293EbXw/gMtsNDCUk0U/QdOEoKFiVFoSUj4sR7EYn+83R0SRdyFzsZCYww2aiRXkFgpmhhKWinQv+Ao1As788yc3HlcCLmp5r03n5nvvO8jdC1mPiNeZZIgtyF04aC0LYQPVDaeMfNe+zi1N6xWrwHmrQCfRJcvmr/0pq0NnnaHyfUmCLgJOGMczHy1+RaYpiuXjSN1o/X9NK5tdKto76PkyYjjes8dQ9Uomt0iZj4Jt7ID6CkOa++PgjqqsuVRkFugbFwkVvkkBFUO/ZFeiFUhHMx1vmPrnOXrINQt+NFoXaTxfL0/8OktEM0SZ8WulM0bSfLwRz9gHD86S97gZ+qVY+NDFvVIbclVhbRe3P9jhhcXH/y0SaWWz3WDQVDb7Y7tixg4sUlxVrwjkTcc+WvHdfS/LfkEOTRKiVq5I2KmOfSv9wOyyrcg5rH10YFX+WZEXqWhv3ocHGX5jEN0D2XjasujIFsa8mjgixjkSTS3dBQcq2KBAF/2m1esAx1zLezCewngFAm9Jldv2wtEu5eE5C6A3xrluAoXdjqzeqj9/8aqCuD8Qf47RNd7x/EvLrzB/TA/EB4AAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"data-grid-demo\"}}),_c('div',{staticStyle:{\"padding\":\"12px 0\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.getData}},[_vm._v(\"获取数据\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.updateData}},[_vm._v(\"更新行数据\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.getCheckedRows}},[_vm._v(\"获取选中行数据\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.getChangedRows}},[_vm._v(\"获取已改变行数据\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.getValidations}},[_vm._v(\"获取校验结果\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.setValidations}},[_vm._v(\"设置校验结果\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.clearValidations}},[_vm._v(\"清空校验结果\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.setFullScreen}},[_vm._v(\" \"+_vm._s(!_vm.isFullscreen ? \"全屏\" : \"退出全屏\")+\" \")])],1),_c('DataGrid',{ref:\"datagrid\",attrs:{\"columns\":_vm.columns,\"data\":_vm.gridData,\"fixed-left\":2,\"fixed-right\":1},on:{\"after-edit-cell\":_vm.afterEditCell,\"after-autofill\":_vm.afterAutofill,\"after-paste\":_vm.afterPaste,\"after-clear\":_vm.afterClear}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"clickoutside\",rawName:\"v-clickoutside\",value:(_vm.handleclickoutside),expression:\"handleclickoutside\"}],class:_vm.CSS_PREFIX,on:{\"paste\":_vm.doPaste}},[_c('div',{class:(_vm.CSS_PREFIX + \"-main\")},[_c('canvas',{class:(_vm.CSS_PREFIX + \"-table\"),attrs:{\"id\":(_vm.CSS_PREFIX + \"-target\")}}),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],class:(_vm.CSS_PREFIX + \"-overlayer\"),style:({ top: ((_vm.tableHeaderHeight+1) + \"px\") })},[_c('div',{ref:\"editor\",class:(_vm.CSS_PREFIX + \"-editor\"),style:(_vm.editorSty)},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSimple),expression:\"isSimple\"}],ref:\"text\",attrs:{\"contenteditable\":\"true\"},on:{\"input\":_vm.inputHandler,\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }$event.preventDefault();}]}}),(_vm.dataType === 'month')?_c('el-date-picker',{ref:\"month\",class:(_vm.CSS_PREFIX + \"-popup\"),style:(_vm.popupSty),attrs:{\"editable\":false,\"type\":\"month\",\"size\":\"medium\",\"placeholder\":\"选择月份\",\"format\":\"yyyy-MM\",\"value-format\":\"yyyy-MM\"},on:{\"change\":_vm.selectChange},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):(_vm.dataType === 'date')?_c('el-date-picker',{ref:\"date\",class:(_vm.CSS_PREFIX + \"-popup\"),style:(_vm.popupSty),attrs:{\"editable\":false,\"type\":\"date\",\"size\":\"medium\",\"placeholder\":\"选择日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\"},on:{\"change\":_vm.selectChange},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):(_vm.dataType === 'datetime')?_c('el-date-picker',{ref:\"datetime\",class:(_vm.CSS_PREFIX + \"-popup\"),style:(_vm.popupSty),attrs:{\"editable\":false,\"type\":\"datetime\",\"size\":\"medium\",\"placeholder\":\"选择日期时间\",\"format\":\"yyyy-MM-dd HH:mm\",\"value-format\":\"yyyy-MM-dd HH:mm\"},on:{\"change\":_vm.selectChange},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):(_vm.dataType === 'select')?_c('el-select',{ref:\"select\",class:(_vm.CSS_PREFIX + \"-popup\"),style:(_vm.popupSty),attrs:{\"clearable\":\"\",\"filterable\":\"\",\"size\":\"medium\",\"automatic-dropdown\":true},on:{\"change\":_vm.selectChange},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.selectOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label}})}),1):_vm._e()],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const CSS_PREFIX = \"xs-data-grid\";\n\nexport const HEADER_HEIGHT = 36; // 表头行高\n\nexport const ROW_INDEX_WIDTH = 36; // 索引列宽\nexport const CHECK_BOX_WIDTH = 36; // 勾选框列宽\n\nexport const CELL_HEIGHT = 36; // 表格body部分的行高\nexport const MIN_CELL_WIDTH = 100; // 表格body部分的最小列宽\nexport const MIN_CELL_HEIGHT = 36; // 表格body部分的最小行高\n\nexport const SCROLLER_TRACK_SIZE = 16; // 滚动条轨道尺寸\nexport const SCROLLER_SIZE = 8; // 滚动条滑块尺寸\nexport const SCROLLER_COLOR = \"#dee0e3\"; // 滚动条滑块颜色\nexport const SCROLLER_FOCUS_COLOR = \"#bbbec4\"; // 滚动条滑块聚焦时的颜色\n\nexport const SELECT_BORDER_COLOR = \"rgb(82,146,247)\"; // 选中区域边框颜色\nexport const SELECT_AREA_COLOR = \"rgba(82,146,247,0.1)\"; // 选中区域背景颜色\nexport const SELECT_BG_COLOR = \"rgba(82,146,247,0.1)\"; // 当前焦点单元格所在行、列的背景色\n\nexport const READONLY_COLOR = \"#f8f8f9\"; // 单元格只读背景色\nexport const READONLY_TEXT_COLOR = \"#80848f\"; // 单元格只读文本颜色\nexport const ERROR_TIP_COLOR = \"#ED3F14\"; // 单元格错误提示文本颜色\n\nexport const SIZE_MAP = { // 尺寸枚举映射\n  mini: 100,\n  small: 140,\n  medium: 200,\n  large: 300\n};\n\nexport const VALIDATOR_TYPES = [ // 校验类型枚举映射\n  'month',\n  'date',\n  'datetime',\n  'number',\n  'phone',\n  'email',\n  'select'\n]","const alpha = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"; //0 = A, 25 = Z\n\nconst iToA = i => {\n  let current = i;\n\n  let a = \"\";\n\n  while (current > -1) {\n    let digit = current % 26;\n    a = alpha[digit] + \"\" + a;\n\n    //This is not a straight number base conversion, we need to\n    //treat A as\n    current = Math.floor(current / 26) - 1;\n  }\n\n  return a;\n};\n\nconst aToI = a => {\n  let index = (alpha.indexOf(a[0]) + 1) * Math.pow(26, a.length - 1) - 1;\n\n  for (let i = a.length - 1; i > 0; i--) {\n    index += (alpha.indexOf(a[i]) + 1) * Math.pow(26, a.length - i - 1);\n  }\n\n  return index;\n};\n\n/*\n ** 获取叶子节点数组\n */\nconst toLeaf = (arr = []) => {\n  let tmp = []\n  arr.forEach(item => {\n      if (item.children) {\n          tmp = tmp.concat(toLeaf(item.children))\n      } else {\n          tmp.push(item)\n      }\n  })\n  return tmp\n}\n/*\n ** 获取最大深度\n */\nconst getMaxRow = (config) => {\n  if (config) {\n      return config.map(item => {\n          return getMaxRow(item.children) + 1\n      }).sort((a, b) => b - a)[0]\n  } else {\n      return 0\n  }\n}\n/*\n ** 计算复合表头的跨行、跨列数\n */\nconst calCrossSpan = (arr = [], maxRow, level = 0) => {\n  if (maxRow === undefined) {\n    maxRow = getMaxRow(arr)\n  }\n\n  if (arr) {\n    return arr.map((config) => {\n      if (config.children) {\n        let colspan = 0\n        const children = calCrossSpan(config.children, maxRow - 1, level + 1)\n\n        children.forEach((item) => {\n          colspan += item.colspan\n        })\n\n        return {\n          level,\n          rowspan: 1,\n          colspan,\n          ...config,\n          children\n        }\n      } else {\n        return {\n          level,\n          rowspan: maxRow,\n          colspan: 1,\n          ...config\n        }\n      }\n    })\n  }\n}\n\nexport {\n  toLeaf,\n  getMaxRow,\n  calCrossSpan\n}","class Element {\n  constructor(tag, className = \"\") {\n    if (typeof tag === \"string\") {\n      this.el = document.createElement(tag);\n      this.el.className = className;\n    } else {\n      this.el = tag;\n    }\n    this.data = {};\n  }\n\n  data(key, value) {\n    if (value !== undefined) {\n      this.data[key] = value;\n      return this;\n    }\n    return this.data[key];\n  }\n\n  on(eventNames, handler) {\n    const [fen, ...oen] = eventNames.split(\".\");\n    let eventName = fen;\n    if (\n      eventName === \"mousewheel\" &&\n      /Firefox/i.test(window.navigator.userAgent)\n    ) {\n      eventName = \"DOMMouseScroll\";\n    }\n    this.el.addEventListener(eventName, evt => {\n      handler(evt);\n      for (let i = 0; i < oen.length; i += 1) {\n        const k = oen[i];\n        if (k === \"left\" && evt.button !== 0) {\n          return;\n        }\n        if (k === \"right\" && evt.button !== 2) {\n          return;\n        }\n        if (k === \"stop\") {\n          evt.stopPropagation();\n        }\n      }\n    });\n    return this;\n  }\n\n  offset(value) {\n    if (value !== undefined) {\n      Object.keys(value).forEach(k => {\n        this.css(k, `${value[k]}px`);\n      });\n      return this;\n    }\n    const { offsetTop, offsetLeft, offsetHeight, offsetWidth } = this.el;\n    return {\n      top: offsetTop,\n      left: offsetLeft,\n      height: offsetHeight,\n      width: offsetWidth\n    };\n  }\n\n  scroll(v) {\n    const { el } = this;\n    if (v !== undefined) {\n      if (v.left !== undefined) {\n        el.scrollLeft = v.left;\n      }\n      if (v.top !== undefined) {\n        el.scrollTop = v.top;\n      }\n    }\n    return { left: el.scrollLeft, top: el.scrollTop };\n  }\n\n  box() {\n    return this.el.getBoundingClientRect();\n  }\n\n  parent() {\n    return new Element(this.el.parentNode);\n  }\n\n  children(...eles) {\n    if (arguments.length === 0) {\n      return this.el.childNodes;\n    }\n    eles.forEach(ele => this.child(ele));\n    return this;\n  }\n\n  removeChild(el) {\n    this.el.removeChild(el);\n  }\n\n  child(arg) {\n    let ele = arg;\n    if (typeof arg === \"string\") {\n      ele = document.createTextNode(arg);\n    } else if (arg instanceof Element) {\n      ele = arg.el;\n    }\n    this.el.appendChild(ele);\n    return this;\n  }\n\n  contains(ele) {\n    return this.el.contains(ele);\n  }\n\n  className(v) {\n    if (v !== undefined) {\n      this.el.className = v;\n      return this;\n    }\n    return this.el.className;\n  }\n\n  addClass(name) {\n    this.el.classList.add(name);\n    return this;\n  }\n\n  hasClass(name) {\n    return this.el.classList.contains(name);\n  }\n\n  removeClass(name) {\n    this.el.classList.remove(name);\n    return this;\n  }\n\n  toggle(cls = \"active\") {\n    return this.toggleClass(cls);\n  }\n\n  toggleClass(name) {\n    return this.el.classList.toggle(name);\n  }\n\n  active(flag = true, cls = \"active\") {\n    if (flag) this.addClass(cls);\n    else this.removeClass(cls);\n    return this;\n  }\n\n  checked(flag = true) {\n    this.active(flag, \"checked\");\n    return this;\n  }\n\n  disabled(flag = true) {\n    if (flag) this.addClass(\"disabled\");\n    else this.removeClass(\"disabled\");\n    return this;\n  }\n\n  // key, value\n  // key\n  // {k, v}...\n  attr(key, value) {\n    if (value !== undefined) {\n      this.el.setAttribute(key, value);\n    } else {\n      if (typeof key === \"string\") {\n        return this.el.getAttribute(key);\n      }\n      Object.keys(key).forEach(k => {\n        this.el.setAttribute(k, key[k]);\n      });\n    }\n    return this;\n  }\n\n  removeAttr(key) {\n    this.el.removeAttribute(key);\n    return this;\n  }\n\n  html(content) {\n    if (content !== undefined) {\n      this.el.innerHTML = content;\n      return this;\n    }\n    return this.el.innerHTML;\n  }\n\n  val(v) {\n    if (v !== undefined) {\n      this.el.value = v;\n      return this;\n    }\n    return this.el.value;\n  }\n\n  focus() {\n    if (window.getSelection) {\n      // ie11 10 9 ff safari\n      this.el.focus(); // 解决ff不获取焦点无法定位问题\n      const range = window.getSelection(); // 创建range\n      range.selectAllChildren(this.el); // range 选择obj下所有子内容\n      range.collapseToEnd(); // 光标移至最后\n    } else if (document.selection) {\n      // ie10以下\n      const range = document.selection.createRange(); // 创建选择对象\n      // var range = document.body.createTextRange();\n      range.moveToElementText(this.el); // range定位到obj\n      range.collapse(false); // 光标移至最后\n      range.select();\n    }\n  }\n\n  cssRemoveKeys(...keys) {\n    keys.forEach(k => this.el.style.removeProperty(k));\n    return this;\n  }\n\n  // css( propertyName )\n  // css( propertyName, value )\n  // css( properties )\n  css(name, value) {\n    if (value === undefined && typeof name !== \"string\") {\n      Object.keys(name).forEach(k => {\n        this.el.style[k] = name[k];\n      });\n      return this;\n    }\n    if (value !== undefined) {\n      this.el.style[name] = value;\n      return this;\n    }\n    return this.el.style[name];\n  }\n\n  computedStyle() {\n    return window.getComputedStyle(this.el, null);\n  }\n\n  show() {\n    this.css(\"display\", \"block\");\n    return this;\n  }\n\n  hide() {\n    this.css(\"display\", \"none\");\n    return this;\n  }\n}\n\nconst h = (tag, className = \"\") => new Element(tag, className);\n\nexport { Element, h };\n","/**\n * 画笔\n */\nconst ALIGN_MAP = {\n  left: \"right\",\n  right: \"left\"\n};\n\n// 计算文本各种对齐方式下的绘制x轴起始坐标\nfunction calucateTextAlign(value, width, padding, align) {\n  let x = width / 2;\n  const textWidth = this.ctx.measureText(value).width;\n  if (textWidth > width - padding * 2 || align === \"left\") {\n    x = textWidth / 2 + padding;\n  } else if (align === \"right\") {\n    x = width - textWidth / 2 - padding;\n  }\n  return x;\n}\n\nclass Paint {\n  constructor(target) {\n    this.ctx = target.getContext(\"2d\");\n  }\n  scaleCanvas(dpr) {\n    this.ctx.scale(dpr, dpr); // 解决高清屏canvas绘制模糊的问题\n  }\n  drawLine(points, options) {\n    if (!points[0]) return;\n    options = Object.assign(\n      {\n        lineCap: \"square\",\n        lineJoin: \"miter\",\n        borderWidth: 1,\n        borderColor: undefined,\n        fillColor: undefined\n      },\n      options\n    );\n\n    this.ctx.save();\n    this.ctx.beginPath();\n    this.ctx.moveTo(points[0][0] + 0.5, points[0][1] + 0.5); // + 0.5解决1px模糊的问题\n    for (let i = 1; i < points.length; i++) {\n      this.ctx.lineTo(points[i][0] + 0.5, points[i][1] + 0.5);\n    }\n    this.ctx.lineWidth = options.borderWidth;\n    this.ctx.lineCap = options.lineCap;\n    this.ctx.lineJoin = options.lineJoin;\n    if (options.lineDash) {\n      this.ctx.lineDashOffset = 4;\n      this.ctx.setLineDash(options.lineDash);\n    }\n\n    if (options.fillColor) {\n      this.ctx.fillStyle = options.fillColor;\n      this.ctx.fill();\n    }\n    if (options.borderColor) {\n      this.ctx.strokeStyle = options.borderColor;\n      this.ctx.stroke();\n    }\n    this.ctx.restore();\n  }\n  /**\n   * 在指定位置渲染文本\n   * @param {String} text 渲染的文本\n   * @param {Number} x 渲染的x轴位置\n   * @param {Number} y 渲染的y轴位置\n   * @param {Object} options \n   */\n  drawText(text, x, y, options) {\n    options = Object.assign(\n      {\n        font:\n          'normal 12px \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif',\n        color: \"#495060\",\n        align: \"center\",\n        baseLine: \"middle\"\n      },\n      options\n    );\n\n    this.ctx.font = options.font;\n    this.ctx.fillStyle = options.color;\n    this.ctx.textAlign = ALIGN_MAP[options.align] || options.align;\n    this.ctx.textBaseline = options.baseLine;\n    this.ctx.fillText(text, x, y);\n  }\n  /**\n   * 在指定宽高的盒子里渲染文本，会结合文本的长度和盒子的宽来决定对齐方式\n   * @param {String} text 渲染的文本\n   * @param {Number} x 渲染的初始x轴位置\n   * @param {Number} y 渲染的初始y轴位置\n   * @param {Number} width 盒子的宽\n   * @param {Number} height 盒子的高\n   * @param {Number} padding 左右边距\n   * @param {Object} options color, font, align...\n   */\n  drawCellText(text, x, y, width, height, padding, options) {\n    options = Object.assign(\n      {\n        font:\n          'normal 12px \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif',\n        color: \"#495060\",\n        align: \"left\",\n        baseLine: \"middle\",\n        icon: null,\n        iconWidth: 14,\n        iconHeight: 14,\n        iconOffsetX: 0, \n        iconOffsetY: 0\n      },\n      options\n    );\n    \n    this.ctx.font = options.font;\n    this.ctx.fillStyle = options.color;\n    this.ctx.textAlign = \"center\";\n    this.ctx.textBaseline = options.baseLine;\n    // font会影响measureText获取的值\n    let posX = x\n    const posY = options.baseLine === 'middle' ? y + height / 2 : y\n    const startOffset = calucateTextAlign.call(\n      this,\n      text,\n      width,\n      padding,\n      options.align\n    );\n    if (options.icon && typeof options.icon === 'object' && options.icon.src) {\n      // 绘制日历控件小图标，固定在单元格左侧\n      this.drawImage(\n        options.icon,\n        x + options.iconOffsetX,\n        posY - options.iconOffsetY - options.iconHeight / 2,\n        options.iconWidth,\n        options.iconHeight\n      );\n      // 如果有图标而且是左对齐，那么渲染文本x轴坐标需要增加，给左侧图标留空间\n      if (options.align === 'left') {\n        posX += 2 * options.iconWidth\n      }\n    }\n    this.ctx.fillText(text, posX + startOffset, posY);\n    this.ctx.restore()\n  }\n  // 在指定宽度的单元格尾部渲染一个图标\n  drawCellAffixIcon(icon, x, y, width, height, options) {\n    options = Object.assign(\n      {\n        color: '#bbbec4',\n        fillColor: '#fff'\n      },\n      options\n    );\n    const rightIconPadding = 25\n    this.drawRect(x + width - rightIconPadding, y + 1, rightIconPadding, height, {\n      fillColor: options.fillColor\n    })\n    if (icon === 'arrow') {\n      const points = [\n        [x + width - 20, y + height / 2 - 2],\n        [x + width - 15, y + height / 2 + 3],\n        [x + width - 10, y + height / 2 - 2]\n      ];\n      this.drawLine(points, {\n        borderColor: options.color,\n        borderWidth: 1\n      });\n    }\n  }\n  /**\n   * 在文本前指定距离的位置渲染一个图标\n   * @param {String} label 支持字符串图标或者实体字符\n   * @param {String} text 指定文本\n   * @param {Number} x \n   * @param {Number} y \n   * @param {Number} width \n   * @param {Number} padding \n   * @param {Number} offsetX 横坐标位移\n   * @param {Number} offsetY 纵坐标位移\n   * @param {Object} options \n   */\n  drawIcon(label, text, x, y, width, padding, offsetX, offsetY, options) {\n    options = Object.assign(\n      {\n        font:\n          'normal 12px \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif',\n        color: \"#495060\",\n        align: \"center\",\n        baseLine: \"middle\"\n      },\n      options\n    );\n    const textWidth = this.ctx.measureText(text).width;\n    const startOffset = calucateTextAlign.call(\n      this,\n      text,\n      width,\n      padding,\n      options.align\n    );\n    \n    this.ctx.font = options.font;\n    this.ctx.fillStyle = options.color;\n    this.ctx.textAlign = \"center\";\n    this.ctx.textBaseline = options.baseLine;\n    this.ctx.fillText(label, x + startOffset - textWidth / 2 - offsetX, y + offsetY);\n    this.ctx.restore()\n  }\n  drawRect(x, y, width, height, options) {\n    options = Object.assign(\n      {\n        borderWidth: 1,\n        borderColor: undefined,\n        fillColor: undefined,\n        shadowOffsetX: undefined,\n        shadowOffsetY: undefined,\n        shadowBlur: 0,\n        shadowColor: undefined\n      },\n      options\n    );\n    this.ctx.save();\n    this.ctx.beginPath();\n\n    if (options.shadowOffsetX) {\n      this.ctx.shadowOffsetX = options.shadowOffsetX;\n    }\n    if (options.shadowOffsetY) {\n      this.ctx.shadowOffsetY = options.shadowOffsetY;\n    }\n    if (options.shadowBlur) {\n      this.ctx.shadowBlur = options.shadowBlur;\n    }\n    if (options.shadowColor) {\n      this.ctx.shadowColor = options.shadowColor;\n    }\n\n    // 填充颜色\n    if (options.fillColor) {\n      this.ctx.fillStyle = options.fillColor;\n    }\n\n    // 线条宽度及绘制颜色\n    if (options.borderColor) {\n      this.ctx.lineWidth = options.borderWidth;\n      this.ctx.strokeStyle = options.borderColor;\n    }\n\n    // 绘制矩形路径，+ 0.5解决1px模糊的问题\n    this.ctx.rect(x + 0.5, y + 0.5, width, height);\n\n    // 如果有填充色，则填充\n    if (options.fillColor) {\n      this.ctx.fill();\n    }\n\n    // 如果有绘制色，则绘制\n    if (options.borderColor) {\n      this.ctx.stroke();\n    }\n    this.ctx.restore();\n  }\n  // 绘制圆角矩形路径\n  drawRoundRect(x, y, width, height, raidus, options) {\n    options = Object.assign(\n      {\n        borderWidth: 1,\n        borderColor: undefined,\n        fillColor: undefined,\n        shadowOffsetX: undefined,\n        shadowOffsetY: undefined,\n        shadowBlur: 0,\n        shadowColor: undefined\n      },\n      options\n    );\n    this.ctx.save();\n    this.ctx.beginPath();\n\n    if (options.shadowOffsetX) {\n      this.ctx.shadowOffsetX = options.shadowOffsetX;\n    }\n    if (options.shadowOffsetY) {\n      this.ctx.shadowOffsetY = options.shadowOffsetY;\n    }\n    if (options.shadowBlur) {\n      this.ctx.shadowBlur = options.shadowBlur;\n    }\n    if (options.shadowColor) {\n      this.ctx.shadowColor = options.shadowColor;\n    }\n\n    // 填充颜色\n    if (options.fillColor) {\n      this.ctx.fillStyle = options.fillColor;\n    }\n\n    // 线条宽度及绘制颜色\n    if (options.borderColor) {\n      this.ctx.lineWidth = options.borderWidth;\n      this.ctx.strokeStyle = options.borderColor;\n    }\n\n    this.ctx.moveTo(x + raidus, y);\n    this.ctx.arcTo(x + width, y, x + width, y + raidus, raidus); // draw right side and bottom right corner\n    this.ctx.arcTo(\n      x + width,\n      y + height,\n      x + width - raidus,\n      y + height,\n      raidus\n    ); // draw bottom and bottom left corner\n    this.ctx.arcTo(x, y + height, x, y + height - raidus, raidus); // draw left and top left corner\n    this.ctx.arcTo(x, y, x + raidus, y, raidus);\n\n    // this.ctx.moveTo(x+raidus, y);\n    // this.ctx.arcTo(x+width, y, x+width, y+height, raidus);\n    // this.ctx.arcTo(x+width, y+height, x, y+height, raidus);\n    // this.ctx.arcTo(x, y+height, x, y, raidus);\n    // this.ctx.arcTo(x, y, x+width, y, raidus);\n\n    // 如果有填充色，则填充\n    if (options.fillColor) {\n      this.ctx.fill();\n    }\n\n    // 如果有绘制色，则绘制\n    if (options.borderColor) {\n      this.ctx.stroke();\n    }\n    this.ctx.restore();\n  }\n  drawImage(img, x, y, width, height) {\n    this.ctx.drawImage(img, x, y, width, height);\n  }\n  clearCanvas(x = 0, y = 0, width, height) {\n    this.ctx.clearRect(\n      x,\n      y,\n      width || this.ctx.canvas.width,\n      height || this.ctx.canvas.height\n    );\n  }\n  getTextWrapping(text, width, padding) {\n    if (!text && text !== 0) {\n      return '';\n    }\n    this.ctx.font =\n      'normal 12px \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif';\n    const chr = `${text}`.split(\"\");\n    let temp = chr[0];\n    const arr = [];\n\n    for (let i = 1; i < chr.length; i++) {\n      if (this.ctx.measureText(temp).width >= width - padding * 2) {\n        arr.push(temp);\n        temp = \"\";\n      }\n      temp += chr[i];\n    }\n    arr.push(temp);\n\n    return arr;\n  }\n}\n\nexport default Paint;\n","import { ROW_INDEX_WIDTH } from \"./constants.js\";\n\nclass Context {\n  constructor(grid, x, y, width, height, fixed) {\n    this.grid = grid;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.fixed = fixed;\n  }\n  isHorizontalVisibleOnBody() {\n    return !(\n      this.x + this.width - this.grid.fixedLeftWidth + this.grid.scrollX <= 0 ||\n      this.x + this.grid.scrollX >= this.grid.width - this.grid.fixedRightWidth\n    );\n  }\n  isVerticalVisibleOnBody() {\n    return !(\n      this.y + this.height - this.grid.tableHeaderHeight + this.grid.scrollY <= 0 ||\n      this.y + this.grid.scrollY >=\n        this.grid.height - this.grid.horizontalScrollerSize\n    );\n  }\n  // 鼠标坐标是否在body内\n  isInsideHorizontalBodyBoundary(mouseX, mouseY) {\n    return (\n      mouseX > this.x + this.grid.scrollX &&\n      mouseX < this.x + this.grid.scrollX + this.width &&\n      mouseX > this.grid.fixedLeftWidth && // 避免冻结列点击穿透了\n      mouseX < this.grid.width - this.grid.fixedRightWidth\n    ); // 避免冻结列点击穿透了\n  }\n  isInsideHorizontalTableBoundary(mouseX, mouseY) {\n    return (\n      mouseX > this.x + this.grid.scrollX &&\n      mouseX < this.x + this.grid.scrollX + this.width &&\n      mouseX > this.grid.fixedLeftWidth\n    );\n  }\n  isInsideFixedHorizontalBodyBoundary(mouseX, mouseY) {\n    const x =\n      this.grid.width -\n      (this.grid.tableWidth - this.x - this.width) -\n      this.width -\n      this.grid.verticalScrollerSize;\n    return (\n      (mouseX >= x && mouseX < x + this.width && this.fixed === \"right\") ||\n      (mouseX > this.x && mouseX < this.x + this.width && this.fixed === \"left\")\n    );\n  }\n  isInsideVerticaBodyBoundary(mouseX, mouseY) {\n    return (\n      mouseY > this.y + this.grid.scrollY &&\n      mouseY < this.y + this.height + this.grid.scrollY &&\n      mouseY > this.grid.tableHeaderHeight &&\n      mouseY < this.grid.height - this.grid.horizontalScrollerSize\n    );\n  }\n  isInsideVerticaTableBoundary(mouseX, mouseY) {\n    return (\n      mouseY > this.y + this.grid.scrollY &&\n      mouseY < this.y + this.height + this.grid.scrollY &&\n      mouseY > this.grid.tableHeaderHeight\n    );\n  }\n  // 鼠标坐标是否在单元格后缀图标区域内\n  isInsideAffixIcon(mouseX, mouseY) {\n    return (\n      mouseX > this.x + this.width + this.grid.scrollX - 25 &&\n      mouseX < this.x + this.width + this.grid.scrollX &&\n      mouseY > this.y + this.grid.scrollY + 10 &&\n      mouseY < this.y + this.height + this.grid.scrollY - 10\n    )\n  }\n  // 鼠标坐标是否在表头范围内\n  isInsideHeader(mouseX, mouseY) {\n    return mouseY > this.y && mouseY < this.y + this.grid.tableHeaderHeight;\n  }\n  // 鼠标坐标是否在checkbox部分内\n  isInsideCheckboxBoundary(mouseX, mouseY) {\n    return (\n      mouseX > this.x + ROW_INDEX_WIDTH &&\n      mouseX < this.x + this.grid.originFixedWidth\n    );\n  }\n  isInsideHeaderCheckboxBoundary(mouseX, mouseY) {\n    return (\n      this.isInsideCheckboxBoundary(mouseX, mouseY) &&\n      this.isInsideHeader(mouseX, mouseY)\n    );\n  }\n}\n\nexport default Context;\n","import Context from \"./Context.js\";\nimport {\n  CHECK_BOX_WIDTH,\n  SELECT_BORDER_COLOR,\n  SELECT_BG_COLOR\n} from \"./constants.js\";\n\nconst oncheck = new Image();\nconst offcheck = new Image();\noncheck.src = require(\"./images/oncheck.png\");\noffcheck.src = require(\"./images/offcheck.png\");\n\nclass RowHeader extends Context {\n  constructor(grid, rowIndex, x, y, width, height, options) {\n    super(grid, x, y, width, height);\n\n    this.rowIndex = rowIndex;\n    this.text = rowIndex + 1;\n    this.checked = false;\n\n    Object.assign(this, options);\n  }\n  handleCheck(val) {\n    this.checked = val;\n  }\n  draw() {\n    const y = this.y + this.grid.scrollY;\n    const editor = this.grid.editor;\n    const selector = this.grid.selector;\n\n    // 绘制checkbox\n    if (this.grid.showCheckbox) {\n      const checkEl = this.checked ? oncheck : offcheck;\n      this.grid.painter.drawRect(this.width, y, CHECK_BOX_WIDTH, this.height, {\n        borderColor: this.borderColor,\n        fillColor: this.fillColor,\n        borderWidth: this.borderWidth\n      });\n      this.grid.painter.drawImage(\n        checkEl,\n        this.width + (CHECK_BOX_WIDTH - 20) / 2,\n        y + (this.height - 20) / 2,\n        20,\n        20\n      );\n    }\n\n    // 绘制每行的索引的边框\n    this.grid.painter.drawRect(this.x, y, this.width, this.height, {\n      fillColor: this.fillColor,\n      // borderColor: this.borderColor,\n      borderWidth: this.borderWidth\n    });\n    // 绘制每行的索引\n    this.grid.painter.drawCellText(\n      this.text,\n      this.x,\n      y,\n      this.width,\n      this.height,\n      10,\n      {\n        color: this.color,\n        align: 'center'\n      }\n    );\n\n    /**\n     * 焦点高亮\n     */\n    if (selector.show || editor.show) {\n      const minY = selector.yArr[0];\n      const maxY = selector.yArr[1];\n\n      if (this.rowIndex >= minY && this.rowIndex <= maxY) {\n        this.grid.painter.drawRect(\n          this.x,\n          y,\n          this.width + this.grid.checkboxWidth,\n          this.height,\n          {\n            fillColor: SELECT_BG_COLOR\n          }\n        );\n      }\n\n      if (this.rowIndex >= minY && this.rowIndex <= maxY) {\n        const points = [\n          [this.width + this.grid.checkboxWidth, y],\n          [this.width + this.grid.checkboxWidth, y + this.height]\n        ];\n        this.grid.painter.drawLine(points, {\n          borderColor: SELECT_BORDER_COLOR,\n          borderWidth: 2\n        });\n      }\n    }\n  }\n}\n\nexport default RowHeader;\n","const rules = {\n  number: /^(-?\\d{1,11}(\\.\\d*)?)$/,\n  phone: /^[1-9]\\d{10}$/,\n  email: /w+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*/\n};\nfunction parseValue(v) {\n  const { type } = this;\n  if (type === \"date\") {\n    return new Date(v);\n  }\n  if (type === \"number\") {\n    return Number(v);\n  }\n  return v;\n}\nfunction getValidation(flag, key) {\n  if (this.message) {\n    return { flag, message: this.message };\n  }\n  let message = \"\";\n  if (!flag) {\n    switch (key) {\n      case \"required\":\n        message = `${this.validateTitle}字段必填哦！`;\n        break;\n      case \"notMatch\":\n        message = `${this.validateTitle}字段不符合预期格式哦！`;\n        break;\n      case \"notIn\":\n        message = `${this.validateTitle}字段是无效值哦！`;\n        break;\n      default:\n        message = `${this.validateTitle}字段是无效值哦！`;\n    }\n  }\n  return { flag, message };\n}\n\nclass Validator {\n  constructor(column) {\n    /**\n     * type: month|date|datetime|number|phone|email|select 数据格式类型\n     * required 是否必填\n     * validator: RegExp|Function 校验器\n     * message 校验失败提示文案\n     * validateKey 单元格key\n     * validateTitle 单元格title\n     * options 数据格式为type时的枚举数据\n     */\n    this.validateKey = column.key;\n    this.validateTitle = column.title;\n    this.type = column.type;\n    this.options = column.options;\n    Object.assign(this, column.rule);\n  }\n  async validate(v, row) {\n    const self = this\n    const { required, validator, operator, options, type, descriptor } = this;\n\n    // 必填校验不通过，不再进行后续的校验\n    let requiredValid = typeof v === 'string' ? !!v.trim() : !!v || v === 0\n    if (required && !requiredValid) {\n      return getValidation.call(this, false, \"required\");\n    }\n    // 空值不参与下面的校验\n    if (!requiredValid) return { flag: true };\n\n    if (rules[type] && !rules[type].test(v)) {\n      return getValidation.call(this, false, \"notMatch\");\n    }\n    // 下拉校验值必须存在于枚举中\n    if (type === \"select\") {\n      const flag = options.map(item => item.value).includes(v);\n      if (!flag) return getValidation.call(this, flag, \"notMatch\");\n    }\n    if (type === \"month\" || type === \"date\" || type === \"datetime\") {\n      const flag = isNaN(v) && !isNaN(Date.parse(v));\n      if (!flag) return getValidation.call(this, flag, \"notMatch\");\n    }\n\n    if (validator instanceof RegExp) {\n      const pattern = new RegExp(validator);\n      return getValidation.call(this, pattern.test(v), \"notIn\");\n    } else if (typeof validator === \"function\") {\n      let flag = true\n      // 这里处理异步校验函数\n      await validator(v, row, (res) => {\n        if (typeof res === 'string') {\n          self.message = res\n          flag = !res\n        } else if (res === false) {\n          flag = false\n        }\n      })\n      return getValidation.call(this, flag, \"notIn\");\n    }\n\n    // if (operator) {\n    //     const v1 = parseValue.call(this, v);\n    //     if (operator === 'be') {\n    //         const [min, max] = value;\n    //         return getValidation.call(this,\n    //             v1 >= parseValue.call(this, min) && v1 <= parseValue.call(this, max),\n    //             'between',\n    //             min,\n    //             max,\n    //         );\n    //     }\n    //     if (operator === 'nbe') {\n    //         const [min, max] = value;\n    //         return getValidation.call(this,\n    //             v1 < parseValue.call(this, min) || v1 > parseValue.call(this, max),\n    //             'notBetween',\n    //             min,\n    //             max,\n    //         );\n    //     }\n    //     if (operator === 'eq') {\n    //         return getValidation.call(this,\n    //             v1 === parseValue.call(this, value),\n    //             'equal',\n    //             value,\n    //         );\n    //     }\n    //     if (operator === 'neq') {\n    //         return getValidation.call(this,\n    //             v1 !== parseValue.call(this, value),\n    //             'notEqual',\n    //             value,\n    //         );\n    //     }\n    //     if (operator === 'lt') {\n    //         return getValidation.call(this,\n    //             v1 < parseValue.call(this, value),\n    //             'lessThan',\n    //             value,\n    //         );\n    //     }\n    //     if (operator === 'lte') {\n    //         return getValidation.call(this,\n    //             v1 <= parseValue.call(this, value),\n    //             'lessThanEqual',\n    //             value,\n    //         );\n    //     }\n    //     if (operator === 'gt') {\n    //         return getValidation.call(this,\n    //             v1 > parseValue.call(this, value),\n    //             'greaterThan',\n    //             value,\n    //         );\n    //     }\n    //     if (operator === 'gte') {\n    //         return getValidation.call(this,\n    //             v1 >= parseValue.call(this, value),\n    //             'greaterThanEqual',\n    //             value,\n    //         );\n    //     }\n    // }\n    return { flag: true };\n  }\n}\n\nexport default Validator;\n","import Context from \"./Context.js\";\nimport Validator from \"./Validator.js\";\nimport {\n  SELECT_BORDER_COLOR,\n  SELECT_AREA_COLOR,\n  READONLY_COLOR,\n  READONLY_TEXT_COLOR,\n  ERROR_TIP_COLOR\n} from \"./constants.js\";\nconst dateIcon = new Image();\nconst timeIcon = new Image();\ndateIcon.src = require(\"./images/date.png\");\ntimeIcon.src = require(\"./images/time.png\");\n\nclass Cell extends Context {\n  constructor(\n    value,\n    grid,\n    colIndex,\n    rowIndex,\n    x,\n    y,\n    width,\n    height,\n    column,\n    rowData,\n    options\n  ) {\n    super(grid, x, y, width, height, column.fixed);\n    this.colIndex = colIndex;\n    this.rowIndex = rowIndex;\n    this.rowData = rowData\n\n    this.title = column.title;\n    this.key = column.key;\n    this.fixed = column.fixed;\n    this.readonly = column.readonly;\n    this.textAlign = column.align || \"left\";\n    this.textBaseline = column.baseline || \"middle\";\n    this.dataType = column.type || \"text\";\n    this.options = column.options;\n    this.render = column.render;\n\n    this.value = value === null || value === undefined ? \"\" : value;\n    this.originalValue = value;\n\n    this.validator = new Validator(column);\n    this.valid = true;\n    this.message = null;\n\n    Object.assign(this, options);\n    this.setLabel(this.value);\n    if (column.rule && column.rule.immediate === false) return; // 编辑器初始化不需要校验\n    this.validate();\n  }\n  // 鼠标横坐标是否位于【焦点单元格】所在的autofill触点范围内\n  isInHorizontalAutofill(mouseX, mouseY) {\n    return (\n      mouseX > this.x + this.grid.scrollX + this.width - 4 &&\n      mouseX < this.x + this.grid.scrollX + this.width + 4 &&\n      mouseX > this.grid.fixedLeftWidth &&\n      mouseX < this.grid.width - this.grid.fixedRightWidth\n    );\n  }\n  // 鼠标横坐标是否位于处于【冻结列中焦点单元格】所在的autofill触点范围内\n  isInsideFixedHorizontalAutofill(mouseX, mouseY) {\n    const x =\n      this.grid.width -\n      (this.grid.tableWidth - this.x - this.width) -\n      this.width -\n      this.grid.verticalScrollerSize;\n    return (\n      (mouseX >= x + this.width - 4 &&\n        mouseX < x + this.width + 4 &&\n        this.fixed === \"right\") ||\n      (mouseX > this.x + this.width - 4 &&\n        mouseX < this.x + this.width + 4 &&\n        this.fixed === \"left\")\n    );\n  }\n  async validate(data) {\n    const { flag, message } = await this.validator.validate(this.value, data || this.rowData);\n    this.valid = flag;\n    this.message = message;\n  }\n  resetValidate(flag = true, message = null) {\n    this.valid = flag;\n    this.message = message;\n  }\n  handleNumber(val) {\n    if (val === 0 || (val && !isNaN(Number(val)))) {\n      return Number(val)\n    } else {\n      return val || null // number类型的空字符串处理为null\n    }\n  }\n  /**\n   * @param {String|Number} val 需要设置的值\n   * @param {Boolean} ignore 是否忽略readonly属性可以修改\n   */\n  setData(val, ignore) {\n    if (!ignore && this.readonly) return;\n    let v = val\n    if (this.dataType === 'number') {\n      v = this.handleNumber(val)\n    }\n    if (this.grid.clipboard.isPaste || this.grid.autofill.enable) {\n      const value = this.getMapValue(v)\n      this.label = v\n      this.value = value\n    } else {\n      this.value = v;\n      this.setLabel(v);\n    }\n    \n    const rowData = this.grid.body.getRowData(this.rowIndex)\n    this.validate(rowData)\n\n    // changed diff\n    if (this.value !== this.originalValue) {\n      this.grid.hashChange[`${this.colIndex}-${this.rowIndex}`] = true;\n    } else {\n      delete this.grid.hashChange[`${this.colIndex}-${this.rowIndex}`];\n    }\n  }\n  setLabel(val) {\n    let label;\n    if (typeof this.render === \"function\") {\n      label = this.render(val);\n    } else {\n      label = this.getMapLabel(val);\n    }\n    this.label = label === null || label === undefined ? \"\" : label;\n  }\n  // 对于下拉类型的数据，对外展示的是label，实际存的是value，所以在更新这类数据的时候需要做一个转换\n  getMapValue(label) { // label => value\n    let value = label;\n    if (this.dataType === \"select\" && Array.isArray(this.options)) {\n      for (let item of this.options) {\n        if (label === item.label) {\n          value = item.value;\n          break;\n        }\n      }\n    }\n    return value;\n  }\n  getMapLabel(value) { // value => label\n    let label = value;\n    if (this.dataType === \"select\" && Array.isArray(this.options)) {\n      for (let item of this.options) {\n        if (value === item.value) {\n          label = item.label;\n          break;\n        }\n      }\n    }\n    return label;\n  }\n  draw() {\n    const {\n      painter,\n      editor,\n      selector,\n      autofill,\n      clipboard,\n      width,\n      tableWidth,\n      verticalScrollerSize,\n      scrollX,\n      scrollY,\n      range,\n      fillColor\n    } = this.grid;\n    const x =\n      this.fixed === \"right\"\n        ? width -\n          (tableWidth - this.x - this.width) -\n          this.width -\n          verticalScrollerSize\n        : this.fixed === \"left\"\n        ? this.x\n        : this.x + scrollX;\n    const y = this.y + scrollY;\n\n    /**\n     * 绘制单元格边框\n     */\n    painter.ctx.save()\n    painter.drawRect(x, y, this.width, this.height, {\n      fillColor: this.readonly ? READONLY_COLOR : fillColor,\n      borderColor: this.borderColor,\n      borderWidth: 1\n    });\n    painter.ctx.clip()\n\n    /**\n     * 绘制单元格内容\n     */\n    // const iconEl = this.dataType === 'datetime' ? timeIcon : (['month', 'date'].includes(this.dataType) ? dateIcon : null)\n    painter.drawCellText(this.label, x, y, this.width, this.height, 10, {\n      color: this.readonly ? READONLY_TEXT_COLOR : this.color,\n      align: this.textAlign,\n      baseLine: this.textBaseline,\n      // icon: iconEl,\n      iconOffsetX: 12,\n      iconOffsetY: 1,\n      iconWidth: 12,\n      iconHeight: 12\n    });\n    if (this.dataType === 'select') {\n      painter.drawCellAffixIcon('arrow', x, y, this.width, this.height, {\n        color: '#bbbec4',\n        fillColor: this.readonly ? READONLY_COLOR : fillColor\n      })\n    }\n\n    /**\n     * 绘制错误提示\n     */\n    if (!this.valid) {\n      const points = [\n        [x + this.width - 8, y],\n        [x + this.width, y],\n        [x + this.width, y + 8]\n      ];\n      painter.drawLine(points, {\n        fillColor: ERROR_TIP_COLOR\n      });\n    }\n\n    /**\n     * 绘制选区\n     */\n    if (selector.show) {\n      const minX = selector.xArr[0];\n      const maxX = selector.xArr[1];\n      const minY = selector.yArr[0];\n      const maxY = selector.yArr[1];\n\n      // background color\n      if (\n        this.colIndex >= minX &&\n        this.colIndex <= maxX &&\n        this.rowIndex >= minY &&\n        this.rowIndex <= maxY\n      ) {\n        painter.drawRect(x, y, this.width, this.height, {\n          fillColor: SELECT_AREA_COLOR\n        });\n      }\n      // top／bottom border\n      if (this.colIndex >= minX &&\n        this.colIndex <= maxX &&\n        this.rowIndex + 1 === minY) {\n          const points = [\n            [x, y + this.height - 1],\n            [x + this.width, y + this.height - 1]\n          ];\n          painter.drawLine(points, {\n            borderColor: SELECT_BORDER_COLOR,\n            borderWidth: 1\n          });\n      }\n      if (this.colIndex >= minX &&\n        this.colIndex <= maxX &&\n        this.rowIndex === maxY) {\n          if (this.rowIndex === range.maxY) {\n            const points = [\n              [x, y + this.height],\n              [x + this.width, y + this.height]\n            ];\n            painter.drawLine(points, {\n              borderColor: SELECT_BORDER_COLOR,\n              borderWidth: 2\n            });\n          } else {\n            const points = [\n              [x, y + this.height - 1],\n              [x + this.width, y + this.height - 1]\n            ];\n            painter.drawLine(points, {\n              borderColor: SELECT_BORDER_COLOR,\n              borderWidth: 1\n            });\n          }\n      }\n      if (\n        (this.colIndex >= minX &&\n          this.colIndex <= maxX &&\n          this.rowIndex === minY) ||\n        (this.colIndex >= minX &&\n          this.colIndex <= maxX &&\n          this.rowIndex - 1 === maxY)\n      ) {\n        const points = [\n          [x, y],\n          [x + this.width, y]\n        ];\n        painter.drawLine(points, {\n          borderColor: SELECT_BORDER_COLOR,\n          borderWidth: 1\n        });\n      }\n      // left／right border\n      if (\n        (this.colIndex === minX &&\n          this.rowIndex >= minY &&\n          this.rowIndex <= maxY) ||\n        (this.colIndex - 1 === maxX &&\n          this.rowIndex >= minY &&\n          this.rowIndex <= maxY)\n      ) {\n        const points = [\n          [x, y],\n          [x, y + this.height]\n        ];\n        painter.drawLine(points, {\n          borderColor: SELECT_BORDER_COLOR,\n          borderWidth: 2\n        });\n      }\n      if (\n        (this.colIndex + 1 === minX &&\n          this.rowIndex >= minY &&\n          this.rowIndex <= maxY) ||\n        (this.colIndex === maxX &&\n          this.rowIndex >= minY &&\n          this.rowIndex <= maxY)\n      ) {\n        const points = [\n          [x + this.width, y],\n          [x + this.width, y + this.height]\n        ];\n        painter.drawLine(points, {\n          borderColor: SELECT_BORDER_COLOR,\n          borderWidth: 2\n        });\n      }\n      // autofill\n      // autofill触点\n      if (!editor.show) {\n        const autofill_width = 6;\n        if (\n          this.colIndex === autofill.xIndex &&\n          this.rowIndex === autofill.yIndex\n        ) {\n          // -2让触点覆盖于边框之上\n          painter.drawRect(\n            x + this.width - 3,\n            y + this.height - 3,\n            autofill_width,\n            autofill_width,\n            {\n              borderColor: \"#fff\",\n              borderWidth: 2,\n              fillColor: SELECT_BORDER_COLOR\n            }\n          );\n        }\n        if (\n          this.colIndex === autofill.xIndex &&\n          this.rowIndex - 1 === autofill.yIndex\n        ) {\n          painter.drawRect(\n            x + this.width - 3,\n            y - 3,\n            autofill_width,\n            autofill_width,\n            {\n              borderColor: \"#fff\",\n              borderWidth: 2,\n              fillColor: SELECT_BORDER_COLOR\n            }\n          );\n        }\n        if (\n          this.colIndex - 1 === autofill.xIndex &&\n          this.rowIndex === autofill.yIndex\n        ) {\n          painter.drawRect(\n            x - 3,\n            y + this.height - 3,\n            autofill_width,\n            autofill_width,\n            {\n              borderColor: \"#fff\",\n              borderWidth: 2,\n              fillColor: SELECT_BORDER_COLOR\n            }\n          );\n        }\n        if (\n          this.colIndex - 1 === autofill.xIndex &&\n          this.rowIndex - 1 === autofill.yIndex &&\n          this.colIndex !== this.grid.fixedLeft\n        ) {\n          // -2让触点覆盖于边框之上\n          painter.drawRect(x - 3, y - 3, autofill_width, autofill_width, {\n            borderColor: \"#fff\",\n            borderWidth: 2,\n            fillColor: SELECT_BORDER_COLOR\n          });\n        }\n      }\n      // autofill选区\n      if (autofill.enable) {\n        const lineDash = [4, 4];\n        const minX = autofill.xArr[0];\n        const maxX = autofill.xArr[1];\n        const minY = autofill.yArr[0];\n        const maxY = autofill.yArr[1];\n\n        // top／bottom border\n        if (\n          this.colIndex >= minX &&\n          this.colIndex <= maxX &&\n          this.rowIndex === minY\n        ) {\n          const points = [\n            [x, y + 1],\n            [x + this.width, y + 1]\n          ];\n          painter.drawLine(points, {\n            borderColor: SELECT_BORDER_COLOR,\n            borderWidth: 1,\n            lineDash\n          });\n        }\n        if (\n          this.colIndex >= minX &&\n          this.colIndex <= maxX &&\n          this.rowIndex === maxY\n        ) {\n          const points = [\n            [x, y + this.height - 1],\n            [x + this.width, y + this.height - 1]\n          ];\n          painter.drawLine(points, {\n            borderColor: SELECT_BORDER_COLOR,\n            borderWidth: 1,\n            lineDash\n          });\n        }\n        // left／right border\n        if (\n          this.colIndex === minX &&\n          this.rowIndex >= minY &&\n          this.rowIndex <= maxY\n        ) {\n          const points = [\n            [x + 1, y],\n            [x + 1, y + this.height]\n          ];\n          painter.drawLine(points, {\n            borderColor: SELECT_BORDER_COLOR,\n            borderWidth: 1,\n            lineDash\n          });\n        }\n        if (\n          this.colIndex === maxX &&\n          this.rowIndex >= minY &&\n          this.rowIndex <= maxY\n        ) {\n          const points = [\n            [x + this.width - 1, y],\n            [x + this.width - 1, y + this.height]\n          ];\n          painter.drawLine(points, {\n            borderColor: SELECT_BORDER_COLOR,\n            borderWidth: 1,\n            lineDash\n          });\n        }\n      }\n    }\n    // copy line\n    if (clipboard.show) {\n      const minX = clipboard.xArr[0];\n      const maxX = clipboard.xArr[1];\n      const minY = clipboard.yArr[0];\n      const maxY = clipboard.yArr[1];\n      // top／bottom border\n      const lineDash = [4, 4];\n      if (\n        this.colIndex >= minX &&\n        this.colIndex <= maxX &&\n        this.rowIndex === minY\n      ) {\n        const points = [\n          [x, y + 1],\n          [x + this.width, y + 1]\n        ];\n        painter.drawLine(points, {\n          borderColor: SELECT_BORDER_COLOR,\n          borderWidth: 1,\n          lineDash\n        });\n      }\n      if (\n        this.colIndex >= minX &&\n        this.colIndex <= maxX &&\n        this.rowIndex === maxY\n      ) {\n        const points = [\n          [x, y + this.height - 2],\n          [x + this.width, y + this.height - 2]\n        ];\n        painter.drawLine(points, {\n          borderColor: SELECT_BORDER_COLOR,\n          borderWidth: 1,\n          lineDash\n        });\n      }\n      // left／right border\n      if (\n        this.colIndex === minX &&\n        this.rowIndex >= minY &&\n        this.rowIndex <= maxY\n      ) {\n        const points = [\n          [x + 1, y],\n          [x + 1, y + this.height]\n        ];\n        painter.drawLine(points, {\n          borderColor: SELECT_BORDER_COLOR,\n          borderWidth: 1,\n          lineDash\n        });\n      }\n      if (\n        this.colIndex === maxX &&\n        this.rowIndex >= minY &&\n        this.rowIndex <= maxY\n      ) {\n        const points = [\n          [x + this.width - 1, y],\n          [x + this.width - 1, y + this.height]\n        ];\n        painter.drawLine(points, {\n          borderColor: SELECT_BORDER_COLOR,\n          borderWidth: 1,\n          lineDash\n        });\n      }\n    }\n  }\n}\n\nexport default Cell;\n","import RowHeader from \"./RowHeader.js\";\nimport Cell from \"./Cell.js\";\nimport Context from \"./Context.js\";\nimport { \n  ROW_INDEX_WIDTH,\n  SIZE_MAP\n} from \"./constants\";\n\nclass Row extends Context {\n  constructor(grid, rowIndex, x, y, height, data) {\n    super(grid, x, y, null, height);\n\n    this.data = data;\n    this.rowIndex = rowIndex;\n    this.checked = false;\n\n    this.allCells = [];\n    this.fixedCells = [];\n    this.cells = [];\n\n    const style = {\n      color: this.grid.color,\n      fillColor: this.grid.fillColor,\n      borderColor: this.grid.borderColor,\n      borderWidth: this.grid.borderWidth\n    };\n    this.rowHeader = new RowHeader(\n      grid,\n      rowIndex,\n      x,\n      y,\n      ROW_INDEX_WIDTH,\n      height,\n      style\n    );\n\n    // cells对象集合\n    let everyOffsetX = grid.originFixedWidth;\n\n    for (let i = 0; i < this.grid.columnsLength; i++) {\n      const column = this.grid.columns[i];\n      const width = SIZE_MAP[column.size || \"mini\"];\n      let fixed = \"\";\n      \n      if (i < this.grid.fixedLeft) {\n        fixed = \"left\";\n      } else if (i > this.grid.columnsLength - 1 - this.grid.fixedRight) {\n        fixed = \"right\";\n      }\n      column.fixed = fixed\n\n      const cell = new Cell(\n        data[column.key],\n        grid,\n        i,\n        rowIndex,\n        everyOffsetX,\n        y,\n        width,\n        this.height,\n        column,\n        data,\n        style\n      );\n\n      this.allCells.push(cell);\n      if (fixed) {\n        this.fixedCells.push(cell);\n      } else {\n        this.cells.push(cell);\n      }\n\n      everyOffsetX += width;\n    }\n  }\n  // 鼠标枞坐标是否位于焦点单元格所在的autofill触点范围内\n  isInVerticalAutofill(mouseX, mouseY) {\n    return (\n      this.grid.autofill.yIndex === this.rowIndex &&\n      mouseY > this.y + this.grid.scrollY + this.height - 4 &&\n      mouseY < this.y + this.height + this.grid.scrollY + 4\n    );\n  }\n  handleCheck(checked) {\n    this.checked = typeof checked === 'boolean' ? checked : !this.checked;\n    this.rowHeader.handleCheck(this.checked);\n  }\n  // 选中单个单元格\n  mouseDown(x, y) {\n    // 如果位于autofill触点上则不执行发选择单元格\n    const cell = this.allCells[this.grid.autofill.xIndex];\n    if (cell && (\n      cell.isInHorizontalAutofill(x, y) ||\n      cell.isInsideFixedHorizontalAutofill(x, y)\n    )) {\n      return\n    }\n\n    for (let i = 0; i < this.allCells.length; i++) {\n      const cell = this.allCells[i];\n      if (cell.dataType === 'select' && cell.isInsideAffixIcon(x, y)) {\n        this.grid.selectCell(cell);\n        // 选择和编辑同时触发会导致切换单元格的时候下拉浮层延迟消失\n        setTimeout(() => {\n          this.grid.startEdit();\n        }, 0)\n      } else if (\n        cell.isInsideHorizontalBodyBoundary(x, y) ||\n        cell.isInsideFixedHorizontalBodyBoundary(x, y)\n      ) {\n        this.grid.selectCell(cell);\n      }\n    }\n  }\n  // 批量选中单元格时移动批量选取\n  mouseMove(mouseX, mouseY) {\n    for (let i = 0; i < this.allCells.length; i++) {\n      const cell = this.allCells[i];\n      if (\n        cell.isInsideHorizontalTableBoundary(mouseX, mouseY) ||\n        cell.isInsideFixedHorizontalBodyBoundary(mouseX, mouseY)\n      ) {\n        const { colIndex, rowIndex, x, y, width, height, valid, message, fixed } = cell;\n        this.grid.multiSelectCell(colIndex, rowIndex, mouseX, mouseY);\n\n        // 显示单元格tooltip校验失败提示文案\n        this.grid.tooltip.update({\n          valid,\n          message,\n          x,\n          y,\n          colWidth: width,\n          colHeight: height,\n          fixed\n        });\n\n        if (cell.dataType === 'select' && cell.isInsideAffixIcon(mouseX, mouseY)) {\n          this.grid.target.style.cursor = \"pointer\";\n        }\n      }\n    }\n  }\n  // 寻找autofill触点\n  handleAutofill(x, y) {\n    const cell = this.allCells[this.grid.autofill.xIndex];\n    if (!cell) return;\n    if (\n      cell.isInHorizontalAutofill(x, y) ||\n      cell.isInsideFixedHorizontalAutofill(x, y)\n    ) {\n      this.grid.target.style.cursor = \"crosshair\";\n    }\n  }\n  // 单击autofill触点开始拖拽\n  handleStartAutofill(x, y) {\n    const cell = this.allCells[this.grid.autofill.xIndex];\n    if (!cell) return;\n    if (\n      cell.isInHorizontalAutofill(x, y) ||\n      cell.isInsideFixedHorizontalAutofill(x, y)\n    ) {\n      this.grid.startAutofill();\n    }\n  }\n  click(x, y) {\n    if (this.rowHeader.isInsideCheckboxBoundary(x, y)) {\n      this.handleCheck();\n    }\n  }\n  dbClick(x, y) {\n    for (let i = 0; i < this.allCells.length; i++) {\n      const cell = this.allCells[i];\n      // 仅当鼠标坐标位于body内的单元格之内时才会触发编辑模式\n      if (\n        cell.isInsideHorizontalBodyBoundary(x, y) ||\n        cell.isInsideFixedHorizontalBodyBoundary(x, y)\n      ) {\n        this.grid.startEdit();\n      }\n    }\n  }\n  resizeColumn(colIndex, diffWidth) {\n    const scrollDiffWidth =\n      this.grid.width -\n      this.grid.tableWidth -\n      this.grid.verticalScrollerSize -\n      this.grid.scrollX;\n\n    const cell = this.allCells[colIndex];\n    if (scrollDiffWidth <= diffWidth) {\n      cell.width += diffWidth;\n\n      // 避免操作过快是出现断层\n      for (let i = colIndex + 1; i < this.grid.columnsLength; i++) {\n        this.allCells[i].x += diffWidth;\n      }\n    }\n    \n    // 滚动到最右侧，调小列宽时只更新目标列宽和相邻下一列的x轴坐标\n    if (scrollDiffWidth === 0 && diffWidth <= 0) {\n      cell.width += diffWidth;\n      this.allCells[colIndex + 1].width -= diffWidth;\n      this.allCells[colIndex + 1].x += diffWidth;\n    }\n  }\n  rePaint() {\n    for (let i = 0; i < this.cells.length; i++) {\n      const cell = this.cells[i];\n      cell.height = this.height;\n      cell.y = this.y;\n    }\n    for (let i = 0; i < this.fixedCells.length; i++) {\n      const cell = this.fixedCells[i];\n      cell.height = this.height;\n      cell.y = this.y;\n    }\n\n    this.rowHeader.height = this.height;\n    this.rowHeader.y = this.y;\n  }\n  draw() {\n    // 绘制主体body部分\n    for (let i = 0; i < this.cells.length; i++) {\n      const cell = this.cells[i];\n      if (cell.isHorizontalVisibleOnBody()) {\n        cell.draw();\n      }\n    }\n    // 固定列阴影\n    if (this.grid.scrollX !== 0) {\n      this.grid.painter.drawRect(\n        this.x + this.grid.originFixedWidth,\n        this.y + this.grid.scrollY,\n        this.grid.fixedLeftWidth - this.grid.originFixedWidth,\n        this.height,\n        {\n          fillColor: \"#f9f9f9\",\n          shadowBlur: 6,\n          shadowColor: \"rgba(28,36,56,0.2)\",\n          shadowOffsetX: 2,\n          shadowOffsetY: 2\n        }\n      );\n    }\n    if (\n      this.grid.tableWidth +\n        this.grid.verticalScrollerSize -\n        this.grid.width +\n        this.grid.scrollX >\n      0\n    ) {\n      this.grid.painter.drawRect(\n        this.grid.width - this.grid.fixedRightWidth,\n        this.y + this.grid.scrollY,\n        this.grid.fixedRightWidth - this.grid.verticalScrollerSize,\n        this.height,\n        {\n          fillColor: \"#f9f9f9\",\n          shadowBlur: 6,\n          shadowColor: \"rgba(28,36,56,0.2)\",\n          shadowOffsetX: -2,\n          shadowOffsetY: 2\n        }\n      );\n    }\n\n    // 左右冻结列\n    for (let i = 0; i < this.fixedCells.length; i++) {\n      const cell = this.fixedCells[i];\n      cell.draw();\n    }\n\n    // 绘制每行索引及勾选框\n    this.rowHeader.draw();\n  }\n}\n\nexport default Row;\n","import { CELL_HEIGHT } from \"./constants.js\";\nimport Row from \"./Row.js\";\n\nclass Body {\n  constructor(grid, data) {\n    this.grid = grid;\n\n    this.paint(data);\n  }\n  paint(data) {\n    this.data = data;\n    this.rows = [];\n    const len = data.length;\n    let everyOffsetY = this.grid.tableHeaderHeight;\n    for (let i = 0; i < len; i++) {\n      const rowData = data[i];\n\n      this.rows.push(\n        new Row(this.grid, i, 0, everyOffsetY, CELL_HEIGHT, rowData)\n      );\n      everyOffsetY += CELL_HEIGHT;\n    }\n\n    this.height = this.rows.reduce((sum, item) => {\n      return sum + item.height;\n    }, this.grid.tableHeaderHeight);\n    data.length > 0 && this.grid.onLoad()\n  }\n  /**\n   * CTRL+V 粘贴\n   * @param {Array} data 粘贴板中的数据\n   */\n  pasteData(data) {\n    const { xIndex, yIndex } = this.grid.editor;\n    for (let ri = 0; ri <= data.length - 1; ri++) {\n      const len = data[ri].length;\n      for (let ci = 0; ci <= len - 1; ci++) {\n        const cells = this.rows[ri + yIndex].allCells;\n        const cell = cells[ci + xIndex];\n        cell.setData(data[ri][ci]);\n      }\n    }\n    // 粘贴后事件派发\n    const startY = yIndex\n    const endY = startY + data.length - 1\n    let rowDatas = []\n    for (let i = startY; i <= endY; i++) {\n      rowDatas.push(this.getRowData(i))\n    }\n    this.grid.afterPaste(rowDatas)\n  }\n  /**\n   * autofull自动填充\n   */\n  autofillData() {\n    const { value } = this.getSelectedData();\n    const xStep = value[0].length;\n    const yStep = value.length;\n    const { xArr, yArr } = this.grid.autofill;\n    const { yArr: syArr } = this.grid.selector\n    \n    if (yArr[1] < 0 || xArr[1] < 0) return;\n\n    for (let ri = 0; ri <= yArr[1] - yArr[0]; ri++) {\n      for (let ci = 0; ci <= xArr[1] - xArr[0]; ci++) {\n        const colIndex = ci + xArr[0];\n        const rowIndex = ri + yArr[0];\n        const val = value[ri % yStep][ci % xStep];\n        const cell = this.rows[rowIndex].allCells[colIndex];\n        cell.setData(val);\n      }\n    }\n\n    // 自动填充后事件派发\n    let startY = syArr[0]\n    let endY = syArr[1]\n    let rowDatas = []\n    if (yArr[0] !== syArr[0]) { // 纵方向向上\n      startY = yArr[0]\n    } else {\n      startY = syArr[1] + 1\n      endY = yArr[1]\n    }\n    for (let i = startY; i <= endY; i++) {\n      rowDatas.push(this.getRowData(i))\n    }\n    this.grid.afterAutofill(rowDatas)\n\n    this.grid.clearAuaofill();\n  }\n  resizeColumn(colIndex, width) {\n    for (let i = 0; i < this.rows.length; i++) {\n      this.rows[i].resizeColumn(colIndex, width);\n    }\n  }\n  resizeAllColumn(width) {\n    for (let row of this.rows) {\n      let everyOffsetX = this.grid.originFixedWidth;\n      for (let i = 0; i < row.allCells.length; i++) {\n        const cell = row.allCells[i];\n        cell.width += width;\n        cell.x = everyOffsetX;\n        everyOffsetX += cell.width;\n      }\n    }\n  }\n  resizeRow(rowIndex, height) {\n    if (height < MIN_CELL_HEIGHT) return;\n\n    for (let i = 0; i < this.rows.length; i++) {\n      this.rows[i].resizeRow(rowIndex, height);\n    }\n  }\n  handleCheckRow(y) {\n    if (typeof y === \"number\") {\n      this.rows[y].handleCheck();\n    } else {\n      const isChecked = this.grid.header.checked\n      for (let row of this.rows) {\n        row.handleCheck(isChecked);\n      }\n    }\n  }\n  mouseMove(x, y) {\n    for (let i = 0; i < this.rows.length; i++) {\n      if (this.rows[i].isInVerticalAutofill(x, y)) {\n        this.rows[i].handleAutofill(x, y);\n      } else if (this.rows[i].isInsideVerticaTableBoundary(x, y)) {\n        this.rows[i].mouseMove(x, y);\n      }\n    }\n  }\n  mouseDown(x, y) {\n    for (let i = 0; i < this.rows.length; i++) {\n      if (this.rows[i].isInVerticalAutofill(x, y)) {\n        this.rows[i].handleStartAutofill(x, y);\n      } else if (this.rows[i].isInsideVerticaBodyBoundary(x, y)) {\n        this.rows[i].mouseDown(x, y);\n      }\n    }\n  }\n  click(x, y) {\n    for (let i = 0; i < this.rows.length; i++) {\n      if (this.rows[i].isInsideVerticaBodyBoundary(x, y)) {\n        this.rows[i].click(x, y);\n      }\n    }\n  }\n  dbClick(x, y) {\n    for (let i = 0; i < this.rows.length; i++) {\n      if (this.rows[i].isInsideVerticaBodyBoundary(x, y)) {\n        this.rows[i].dbClick(x, y);\n      }\n    }\n  }\n  rePaintRow(rowIndex) {\n    // 计算该行中所有单元格内容所需要的最大高度\n    // const rowData = this.data[rowIndex]\n    const row = this.getRow(rowIndex);\n    const len = row.cells.length;\n    let textWrap = null;\n    let rowHeight = CELL_HEIGHT;\n    for (let i = 0; i < len; i++) {\n      const { value, width } = row.cells[i];\n      if (value || value === 0) {\n        textWrap = this.grid.painter.getTextWrapping(value, width);\n        let textWrapCount = 0;\n        if (textWrap) {\n          textWrapCount = textWrap.length;\n        }\n        if (textWrapCount > 1) {\n          if (CELL_HEIGHT + (textWrapCount - 1) * 18 > rowHeight) {\n            rowHeight = CELL_HEIGHT + (textWrapCount - 1) * 18;\n          }\n        }\n      }\n    }\n\n    row.height = rowHeight;\n\n    let everyOffsetY = this.grid.tableHeaderHeight;\n    for (let j = 0; j < this.rows.length; j++) {\n      const row = this.rows[j];\n      row.y = everyOffsetY;\n      everyOffsetY += row.height;\n      row.rePaint();\n    }\n  }\n  draw() {\n    const len = this.data.length;\n    for (let i = 0; i < len; i++) {\n      const row = this.rows[i];\n\n      if (row.isVerticalVisibleOnBody()) {\n        row.draw();\n      }\n    }\n  }\n  getRow(y) {\n    return this.rows[y];\n  }\n  // 根据坐标获取cell对象\n  getCell(x, y) {\n    const row = this.rows[y];\n    return row.allCells[x];\n  }\n  getSelectedData() {\n    const { xArr, yArr } = this.grid.selector;\n    const rowsData = [];\n    let text = \"\";\n    for (let ri = 0; ri <= yArr[1] - yArr[0]; ri++) {\n      const cellsData = [];\n      for (let ci = 0; ci <= xArr[1] - xArr[0]; ci++) {\n        cellsData.push(this.rows[ri + yArr[0]].allCells[ci + xArr[0]].label);\n      }\n      text += cellsData.join(\"\\t\") + \"\\r\";\n      rowsData.push(cellsData);\n    }\n    text = text ? text.replace(/\\r$/, \"\") : \" \"; // 去掉最后一个\\n，否则会导致复制到excel里多一行空白\n    if (!text) {\n      text = \" \"; // 替换为' '，是为了防止复制空的内容导致document.execCommand命令无效\n    }\n    return {\n      text,\n      value: rowsData\n    };\n  }\n  clearSelectedData() {\n    const { xArr, yArr } = this.grid.selector;\n    for (let ri = 0; ri <= yArr[1] - yArr[0]; ri++) {\n      for (let ci = 0; ci <= xArr[1] - xArr[0]; ci++) {\n        const cell = this.rows[ri + yArr[0]].allCells[ci + xArr[0]]\n        cell.setData(\"\")\n      }\n    }\n    let rowDatas = []\n    for (let i = yArr[0]; i <= yArr[1]; i++) {\n      rowDatas.push(this.getRowData(i))\n    }\n    this.grid.afterClear(rowDatas)\n  }\n  getData() {\n    return this.rows.map(row => {\n      const cells = row.allCells;\n      let _o = {};\n      cells.forEach(cell => {\n        _o[cell.key] = cell.value;\n      });\n      _o = Object.assign({}, row.data, _o)\n      return _o;\n    });\n  }\n  getCheckedRows() {\n    return this.rows\n      .filter(item => item.checked)\n      .map(row => {\n        const cells = row.allCells;\n        let _o = {};\n        cells.forEach(cell => {\n          _o[cell.key] = cell.value;\n        });\n        _o = Object.assign({}, row.data, _o)\n        return _o;\n      });\n  }\n  getChangedRows() {\n    let arr = new Set();\n    let rows = [];\n    Object.keys(this.grid.hashChange).forEach(key => {\n      arr.add(Number(key.split(\"-\")[1]));\n    });\n    Array.from(arr).sort().forEach(item => {\n      rows.push(this.rows[item]);\n    });\n    return rows.map(row => {\n      const cells = row.allCells;\n      let _o = {};\n      cells.forEach(cell => {\n        _o[cell.key] = cell.value;\n      });\n      _o = Object.assign({}, row.data, _o)\n      return _o;\n    });\n  }\n  validate(callback) {\n    this.rows.forEach(row => {\n      const cells = row.allCells;\n      cells.forEach(cell => {\n        const rowData = this.getRowData(cell.rowIndex)\n        cell.validate(rowData)\n      });\n    })\n    setTimeout(() => {\n      const errors = this.getValidations()\n      typeof callback === 'function' && callback(!errors.length)\n    }, 0)\n  }\n  validateChanged(callback) {\n    let arr = new Set();\n    let rows = [];\n    Object.keys(this.grid.hashChange).forEach(key => {\n      arr.add(Number(key.split(\"-\")[1]));\n    });\n    Array.from(arr).sort().forEach(item => {\n      rows.push(this.rows[item]);\n    });\n    rows.map(row => {\n      const cells = row.allCells;\n      cells.forEach(cell => {\n        const rowData = this.getRowData(cell.rowIndex)\n        cell.validate(rowData)\n      });\n    });\n    setTimeout(() => {\n      const errors = this.getValidations()\n      typeof callback === 'function' && callback(!errors.length)\n    }, 0)\n  }\n  validateField(ci, ri) {\n    if (typeof ri === 'number' && typeof ci === 'number') { // 校验指定某个数据单元格\n      const cell = this.getCell(ci, ri)\n      if (cell) {\n        const rowData = this.getRowData(cell.rowIndex)\n        cell.validate(rowData)\n      }      \n    }\n  }\n  getValidations() {\n    const validFaildRows = []\n    this.rows.forEach(row => {\n      const validFaildCells = []\n      const cells = row.allCells;\n      cells.forEach(cell => {\n        !cell.valid && validFaildCells.push({\n          title: cell.title,\n          key: cell.key,\n          value: cell.value,\n          message: cell.message\n        })\n      });\n      validFaildCells.length && validFaildRows.push(validFaildCells)\n    })\n    return validFaildRows\n  }\n  setValidations(errors) {\n    if (errors && Array.isArray(errors)) {\n      errors.forEach(item => {\n        this.rows.forEach(row => {\n          if (row.data[this.grid.rowKey] === item[this.grid.rowKey]) {\n            const cells = row.allCells;\n            cells.forEach(cell => {\n              const valid = !item[cell.key]\n              if (item.hasOwnProperty(cell.key)) {\n                cell.resetValidate(valid, item[cell.key])\n              }\n            });\n          }\n        });\n      })\n    }\n  }\n  clearValidations() {\n    this.rows.forEach(row => {\n      const cells = row.allCells;\n      cells.forEach(cell => {\n        cell.resetValidate()\n      });\n    })\n  }\n  getRowData(y) {\n    const row = this.getRow(y);\n    let _o = {};\n    row.allCells.forEach(cell => {\n      _o[cell.key] = cell.value;\n    });\n    return Object.assign({}, row.data, _o)\n  }\n  getCellData(x, y) {\n    const cell = this.getCell(x, y)\n    return {\n      title: cell.title,\n      key: cell.key,\n      value: cell.value\n    }\n  }\n  // 批量更新表格数据\n  updateData(data) {\n    if (data && Array.isArray(data)) {\n      data.forEach(item => {\n        this.rows.forEach(row => {\n          if (row.data[this.grid.rowKey] === item[this.grid.rowKey]) {\n            const cells = row.allCells;\n            cells.forEach(cell => {\n              if (item.hasOwnProperty(cell.key)) {\n                cell.setData(item[cell.key], true)\n              }\n            });\n          }\n        });\n      })\n    }\n  }\n  updateCellData(colIndex) {}\n}\n\nexport default Body;\n","import Context from \"./Context.js\";\nimport {\n  SELECT_BORDER_COLOR,\n  SELECT_BG_COLOR,\n  ERROR_TIP_COLOR\n} from \"./constants.js\";\n\nclass ColumnHeader extends Context {\n  constructor(grid, index, x, y, width, height, column) {\n    super(grid, x, y, width, height);\n\n    this.fixed = column.fixed;\n    this.level = column.level\n    this.text = column.title;\n    this.colspan = column.colspan\n    this.rowspan = column.rowspan\n    this.required = column.rule ? column.rule.required : null\n    this.index = index;\n  }\n  // 表头是否超过了右侧可视区的边界\n  isVisibleOnScreen() {\n    return !(\n      this.x + this.width - this.grid.fixedLeftWidth + this.grid.scrollX <= 0 ||\n      this.x + this.grid.scrollX >= this.grid.width - this.grid.fixedRightWidth\n    );\n  }\n  draw() {\n    // 绘制表头每个单元格框\n    const {\n      width,\n      tableWidth,\n      verticalScrollerSize,\n      scrollX,\n      editor,\n      selector,\n      painter,\n      fillColor,\n      borderColor,\n      borderWidth\n    } = this.grid\n    const x =\n      this.fixed === \"right\"\n        ? width -\n          (tableWidth - this.x - this.width) -\n          this.width -\n          verticalScrollerSize\n        : this.fixed === \"left\"\n        ? this.x\n        : this.x + scrollX;\n    painter.drawRect(x, this.y, this.width, this.height, {\n      fillColor,\n      borderColor,\n      borderWidth\n    });\n\n    /**\n     * 焦点高亮，colspan>=2表示复合表头，不需要高亮\n     */\n    if ((selector.show || editor.show ) && this.colspan <= 1) {\n      const minX = selector.xArr[0];\n      const maxX = selector.xArr[1];\n\n      // 背景\n      if (this.index >= minX && this.index <= maxX) {\n        this.grid.painter.drawRect(x, this.y, this.width, this.height, {\n          fillColor: SELECT_BG_COLOR\n        });\n      }\n\n      // 线\n      if (this.index >= minX && this.index <= maxX) {\n        const points = [\n          [x, this.y + this.height],\n          [x + this.width, this.y + this.height]\n        ];\n        this.grid.painter.drawLine(points, {\n          borderColor: SELECT_BORDER_COLOR,\n          borderWidth: 2\n        });\n      }\n      \n      // 弥补相邻单元格线条覆盖的问题\n      // if (this.index - 1 === maxX) {\n      //   const points = [\n      //     [x - 1, this.y + this.height],\n      //     [x, this.y + this.height]\n      //   ];\n      //   this.grid.painter.drawLine(points, {\n      //     borderColor: SELECT_BORDER_COLOR,\n      //     borderWidth: 2\n      //   });\n      // }\n    }\n\n    // required必填星号标识\n    if (this.required) {\n      this.grid.painter.drawIcon(\n        '*',\n        this.text,\n        x,\n        this.y + this.height / 2,\n        this.width,\n        10,\n        6,\n        4,\n        {\n          font:\n          'normal 20px \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif',\n          color: ERROR_TIP_COLOR\n        }\n      );\n    }\n    // 绘制表头每个单元格文本\n    this.grid.painter.drawCellText(\n      this.text,\n      x,\n      this.y,\n      this.width,\n      this.height,\n      10,\n      {\n        color: this.grid.color,\n        align: 'center'\n      }\n    );\n  }\n}\n\nexport default ColumnHeader;\n","function getLeafColumnsWidth(arr) {\n  const _arr = toLeaf(arr)\n  const width = _arr.reduce((sum, item) => {\n    return sum + SIZE_MAP[item.size || \"mini\"]\n  }, 0)\n\n  return width\n}\n/**\n * 根据列的索引获取列的宽度\n * @param {Number} index \n */\nfunction getColWidthByIndex(index) {\n  let width\n  for (let col of this.allColumnHeaders) {\n    if (col.index === index && col.colspan <= 1) {\n      width = col.width\n      break\n    }\n  }\n  return width\n}\n\nimport Context from \"./Context.js\";\nimport ColumnHeader from \"./ColumnHeader.js\";\nimport {\n  toLeaf,\n} from './util.js'\nimport {\n  ROW_INDEX_WIDTH,\n  MIN_CELL_WIDTH,\n  CHECK_BOX_WIDTH,\n  SIZE_MAP\n} from \"./constants.js\";\n\nconst oncheck = new Image();\nconst offcheck = new Image();\noncheck.src = require(\"./images/oncheck.png\");\noffcheck.src = require(\"./images/offcheck.png\");\n\nclass Header extends Context {\n  constructor(grid, x, y) {\n    super(grid, x, y, null, grid.headerHeight);\n    this.checked = false;\n    this.paint()\n  }\n  paint() {\n    this.allColumnHeaders = []; // 所有列\n    this.fixedColumnHeaders = []; // 冻结列\n    this.columnHeaders = []; // 非冻结列\n\n    let columnIndex = 0\n    const renderHeader = (arr, parent, originX) => {\n      const len = arr.length\n      let everyOffsetX = originX\n      \n      for (let i = 0; i < len; i++) {\n        const item = arr[i];\n        const height = this.height * (item.rowspan || 1)\n        const y = this.height * item.level\n        let width = SIZE_MAP[item.size || \"mini\"]; // 读取映射宽度\n        let fixed = ''\n        \n        if (item.children) {\n          // 父级表头的宽度是叶子节点表头的宽度总和\n          width = getLeafColumnsWidth(item.children)\n        }\n        if (parent) {\n          fixed = parent.fixed\n        } else if (i < this.grid.fixedLeft) {\n          fixed = \"left\";\n        } else if (i > len - 1 - this.grid.fixedRight) {\n          fixed = \"right\";\n        }\n        item.fixed = fixed;\n        \n        const columnHeader = new ColumnHeader(\n          this.grid,\n          columnIndex,\n          everyOffsetX,\n          y,\n          width,\n          height,\n          item\n        );\n  \n        this.allColumnHeaders.push(columnHeader);\n        if (fixed) {\n          this.fixedColumnHeaders.push(columnHeader);\n        } else {\n          this.columnHeaders.push(columnHeader);\n        }\n        !item.children && columnIndex ++\n        item.children && renderHeader(item.children, item, everyOffsetX)\n        \n        everyOffsetX += width\n      }\n    }\n    renderHeader(this.grid.headers, null, this.grid.originFixedWidth)\n  }\n  mouseDown(x, y) {\n    if (this.resizeTarget) {\n      this.resizeOriginalX = x;\n      this.resizeOriginalWidth = this.resizeTarget.width;\n      this.isResizing = true;\n    }\n  }\n  mouseMove(x, y) {\n    if (this.isResizing) {\n      const index = this.resizeTarget.index;\n      const resizeDiffWidth = x - this.resizeOriginalX;\n      const newWidth = this.resizeTarget.width + resizeDiffWidth;\n      // 滚动列最后一列或者无横向滚动，不允许调小宽度\n      if (\n        (index === this.grid.columnsLength - this.grid.fixedRight - 1 ||\n          this.grid.width === this.grid.tableWidth + this.grid.verticalScrollerSize ||\n          newWidth < MIN_CELL_WIDTH) &&\n          newWidth <= this.resizeOriginalWidth\n      ) {\n        return;\n      }\n      \n      this.grid.resizeColumn(index, resizeDiffWidth);\n      this.resizeOriginalX = x\n    } else {\n      // 鼠标移动中 -> 寻找需要调整列宽的列目标\n      for (let col of this.allColumnHeaders) {\n        if (\n          x > col.x + this.grid.scrollX + col.width - 4 &&\n          x < col.x + this.grid.scrollX + col.width + 4 &&\n          x < this.grid.width - this.grid.verticalScrollerSize - 4 && // 最后一列不允许调整宽\n          col.colspan <= 1 // 父级表头不触发\n        ) {\n          this.grid.target.style.cursor = \"col-resize\";\n          this.resizeTarget = col;\n        }\n      }\n    }\n  }\n  mouseUp() {\n    this.resizeTarget = null;\n    this.isResizing = false;\n  }\n  click() {\n    this.checked = !this.checked;\n  }\n  resizeColumn(colIndex, diffWidth) {\n    const scrollDiffWidth =\n      this.grid.width -\n      this.grid.tableWidth -\n      this.grid.verticalScrollerSize -\n      this.grid.scrollX;\n\n    for (let col of this.allColumnHeaders) {\n      // 避免操作过快是出现断层\n      if (scrollDiffWidth <= diffWidth) {\n        /**\n         * 由于存在复合表头的场景，复合表头的index和其子级表头的第一个列的index是相等的，\n         * 更新子表头的宽度时同时也要更新其所有的父表头，所以这里就不能直接取数组的下标，\n         * 而是用表头的index字段\n         */\n        if (colIndex >= col.index && colIndex < col.index + col.colspan) {\n          col.width += diffWidth;\n        }\n\n        // 该列之后的所有列的x轴位移需要更新\n        if (col.index > colIndex && !(scrollDiffWidth === 0 && diffWidth <= 0)) {\n          col.x += diffWidth;\n        }\n      }\n\n      // 滚动到最右侧，调小列宽时只更新目标列宽和相邻下一列的x轴坐标\n      if (scrollDiffWidth === 0 && diffWidth <= 0) {\n        if (colIndex >= col.index && colIndex < col.index + col.colspan) {\n          col.width += diffWidth;\n        }\n        if (col.index === colIndex + 1) {\n          col.width -= diffWidth;\n          col.x += diffWidth;\n        }\n      }\n    }\n  }\n  resizeAllColumn(fellWidth) {\n    let parent = { x: this.grid.originFixedWidth, width: 0, level: 0 }\n    for (let col of this.allColumnHeaders) {\n      col.width += fellWidth * col.colspan;\n      if (col.level && col.level !== parent.level) {\n        col.x = parent.x;\n      } else {\n        col.x = parent.x + parent.width;\n      }\n      parent = col\n    }\n  }\n  draw() {\n    // 滚动列阴影\n    this.grid.painter.drawRect(this.x, this.y, this.grid.width, this.grid.tableHeaderHeight, {\n      fillColor: \"#f9f9f9\",\n      shadowBlur: 6,\n      shadowColor: \"rgba(28,36,56,0.2)\",\n      shadowOffsetX: 0,\n      shadowOffsetY: 2\n    });\n\n    // 滚动表头\n    for (let col of this.columnHeaders) {\n      if (col.isVisibleOnScreen()) {\n        col.draw();\n      }\n    }\n\n    // 固定列阴影\n    if (this.grid.scrollX !== 0) {\n      this.grid.painter.drawRect(\n        this.x,\n        this.y,\n        this.grid.fixedLeftWidth,\n        this.grid.tableHeaderHeight,\n        {\n          fillColor: \"#f9f9f9\",\n          shadowBlur: 6,\n          shadowColor: \"rgba(28,36,56,0.2)\",\n          shadowOffsetX: 2,\n          shadowOffsetY: -2\n        }\n      );\n    }\n    if (\n      this.grid.tableWidth +\n        this.grid.verticalScrollerSize -\n        this.grid.width +\n        this.grid.scrollX >\n      0\n    ) {\n      this.grid.painter.drawRect(\n        this.grid.width - this.grid.fixedRightWidth,\n        this.y,\n        this.grid.fixedRightWidth - this.grid.verticalScrollerSize,\n        this.grid.tableHeaderHeight,\n        {\n          fillColor: \"#f9f9f9\",\n          shadowBlur: 6,\n          shadowColor: \"rgba(0,0,0,0.2)\",\n          shadowOffsetX: -2,\n          shadowOffsetY: -2\n        }\n      );\n    }\n\n    // 冻结表头\n    for (let col of this.fixedColumnHeaders) {\n      col.draw();\n    }\n\n    // 绘制checkbox\n    const style = {\n      borderColor: this.grid.borderColor,\n      borderWidth: this.grid.borderWidth,\n      fillColor: this.grid.fillColor\n    };\n    if (this.grid.showCheckbox) {\n      const checkEl = this.checked ? oncheck : offcheck;\n      this.grid.painter.drawRect(\n        ROW_INDEX_WIDTH,\n        0,\n        CHECK_BOX_WIDTH,\n        this.grid.tableHeaderHeight,\n        style\n      );\n      this.grid.painter.drawImage(\n        checkEl,\n        ROW_INDEX_WIDTH + (CHECK_BOX_WIDTH - 20) / 2,\n        (this.grid.tableHeaderHeight - 20) / 2,\n        20,\n        20\n      );\n    }\n\n    // 最左上角方格\n    this.grid.painter.drawRect(0, 0, ROW_INDEX_WIDTH, this.grid.tableHeaderHeight, style);\n  }\n}\nexport default Header;\n","import { h } from \"./element.js\";\nimport { CSS_PREFIX } from \"./constants.js\";\n\nfunction inputEventHandler(evt) {\n  const v = evt.target.innerHTML;\n  // console.log(evt, 'v:', v);\n  const { suggest, validator } = this;\n  const { cell } = this;\n  if (cell !== null) {\n    if (\n      (\"editable\" in cell && cell.editable === true) ||\n      cell.editable === undefined\n    ) {\n      this.value = v;\n      if (validator) {\n        if (validator.type === \"list\") {\n          suggest.search(v);\n        } else {\n          suggest.hide();\n        }\n      }\n    } else {\n      evt.target.value = \"\";\n    }\n  } else {\n    this.value = v;\n  }\n}\nfunction keydownHander(e) {\n  // // 撤销\n  // if ((e.ctrlKey && e.keyCode === 90) || e.metaKey && !e.shiftKey && e.keyCode === 90) {\n  //     return console.log('undo')\n  // }\n  // // 恢复\n  // if ((e.ctrlKey && e.keyCode === 89) || (e.metaKey && e.shiftKey && e.keyCode === 90)) {\n  //     return console.log('recovery')\n  // }\n  // 编辑模式下按Enter／ESC\n  if (e.keyCode === 13 || e.keyCode === 27) {\n    return this.grid.finishedEdit();\n  }\n  // // 未选中或编辑模式下可以撤销、恢复和enter/ESC退出编辑模式，除此之外阻止键盘事件\n  // if (!this.selector.show || this.editor.show) {\n  //     return\n  // }\n  // // CTRL+C／Command+C\n  // if ((e.ctrlKey && e.keyCode === 67) || (e.metaKey && e.keyCode === 67)) {\n  //     return this.copy()\n  // }\n  // // CTRL+V／Command+V\n  // if ((e.ctrlKey && e.keyCode === 86) || (e.metaKey && e.keyCode === 86)) {\n  //     return this.$emit('focus', 'clipboard')\n  // }\n  // // CTRL+A／Command+A\n  // if ((e.ctrlKey && e.keyCode) === 65 || (e.metaKey && e.keyCode === 65)) {\n  //     return this.selectAll(e)\n  // }\n  if (e.metaKey || e.ctrlKey) {\n    // 阻止CTRL+类型的事件\n    return;\n  }\n  // e.preventDefault()\n  // const keyHandler = (k) => {\n  //     if ((k >= 65 && k <= 90) || (k >= 48 && k <= 57) || (k >= 96 && k <= 107) || (k >= 109 && k <= 111) || k === 32 || (k >= 186 && k <= 222)) {\n  //         return true\n  //     } else {\n  //         return false\n  //     }\n  // }\n  // if (keyHandler(e.keyCode)) {\n  //     return this.doEdit(e.key)\n  // }\n  // switch (e.keyCode) {\n  //     // 左\n  //     case 37:\n  //         if (this.editor.editorXIndex > this.editor.range.minX) {\n  //             this.editor.editorXIndex--\n  //         }\n  //         this.adjustPosition()\n  //         break\n  //     // 上\n  //     case 38:\n  //         if (this.editor.editorYIndex > this.editor.range.minY) {\n  //             this.editor.editorYIndex--\n  //         }\n  //         this.adjustPosition()\n  //         break\n  //     // 右 或 Tab\n  //     case 9:\n  //     case 39:\n  //         if (this.editor.editorXIndex < this.editor.range.maxX) {\n  //             this.editor.editorXIndex++\n  //         }\n  //         this.adjustPosition()\n  //         break\n  //     // 下\n  //     case 40:\n  //         if (this.editor.editorYIndex < this.editor.range.maxY) {\n  //             this.editor.editorYIndex++\n  //         }\n  //         this.adjustPosition()\n  //         break\n  //     // BackSpace／delede\n  //     case 8:\n  //         this.clearSelected()\n  //         break\n  //     // Enter\n  //     case 13:\n  //         this.doEdit()\n  //         break\n  //     default:\n  //         console.log(e, 'event')\n  // }\n}\n// 改用div(contenteditable = true)\nfunction resetTextareaSize() {\n  const { value } = this;\n  if (!/^\\s*$/.test(value)) {\n    const { textlineEl, textEl, areaOffset } = this;\n    const txts = value.split(\"\\n\");\n    const maxTxtSize = Math.max(...txts.map(it => it.length));\n    const tlOffset = textlineEl.offset();\n    const fontWidth = tlOffset.width / value.length;\n    const tlineWidth = (maxTxtSize + 1) * fontWidth + 5;\n    const maxWidth = this.viewFn().width - areaOffset.left - fontWidth;\n    let h1 = txts.length;\n    if (tlineWidth > areaOffset.width) {\n      let twidth = tlineWidth;\n      if (tlineWidth > maxWidth) {\n        twidth = maxWidth;\n        h1 += parseInt(tlineWidth / maxWidth, 10);\n        h1 += tlineWidth % maxWidth > 0 ? 1 : 0;\n      }\n      textEl.css(\"width\", `${twidth}px`);\n    }\n    h1 *= this.rowHeight;\n    if (h1 > areaOffset.height) {\n      textEl.css(\"height\", `${h1}px`);\n    }\n  }\n}\n\nclass Editor {\n  constructor(grid) {\n    this.grid = grid;\n    this.areaEl = h(\"div\", `${CSS_PREFIX}-editor-area`).children(\n      (this.textEl = h(\"div\", \"\")\n        .on(\"input\", evt => inputEventHandler.call(this, evt))\n        .on(\"keydown\", evt => keydownHander.call(this, evt)))\n    );\n    this.textEl.attr(\"contenteditable\", true);\n    this.el = h(\"div\", `${CSS_PREFIX}-editor`)\n      .child(this.areaEl)\n      .hide();\n\n    this.type = \"text\"; // 数据类型\n    this.fixed = false; // 当前选中单元格是否属于冻结列\n    this.selectOptions = []; // 下拉数据源\n    this.editorXIndex = 0; // 编辑器所在x,y轴坐标\n    this.editorYIndex = 0;\n    this.show = false;\n    this.value = \"\";\n  }\n  fire(cell) {\n    this.cell = cell;\n    this.setoffset();\n    this.show = true;\n    this.el.show();\n    this.textEl.focus();\n  }\n  hide() {\n    this.cell = null;\n    this.el.hide();\n    this.show = false;\n    this.value = \"\";\n    this.textEl.html(\"\");\n  }\n  setData(val) {\n    this.value = val;\n    this.textEl.html(val);\n    // console.log('text>>:', text);\n    // setText.call(this, text, text.length);\n    // resetTextareaSize.call(this);\n  }\n  setoffset() {\n    if (this.cell) {\n      const { x, y, width, height } = this.cell;\n      this.areaEl.offset({\n        left: x + this.grid.scrollX - 1,\n        top: y + this.grid.scrollY - 1\n      });\n      this.textEl.offset({\n        \"min-width\": width + 2,\n        \"min-height\": height\n      });\n    }\n  }\n}\n\nexport default Editor;\n","import {\n  SCROLLER_SIZE,\n  SCROLLER_TRACK_SIZE,\n  SCROLLER_COLOR,\n  SCROLLER_FOCUS_COLOR\n} from \"./constants.js\";\n\nclass Scroller {\n  constructor(grid) {\n    this.grid = grid;\n    this.horizontalScroller = {\n      x: 0, // 滚动条位移\n      move: false, // 是否开始滚动中\n      focus: false, // 是否获得焦点\n      size: 0, // 滚动滑块的尺寸\n      ratio: 1, // 画布实际滚动的位移和滚动条实际滚动的位移之比\n      has: false // 是否有滚动条\n    };\n    this.verticalScroller = {\n      y: 0,\n      move: false,\n      focus: false, // 是否获得焦点\n      size: 0,\n      ratio: 1,\n      has: false\n    };\n  }\n  /**\n   * 初始化滚动条配置\n   */\n  reset() {\n    const {\n      width,\n      height,\n      tableWidth,\n      tableHeight,\n      originFixedWidth,\n      tableHeaderHeight,\n      verticalScrollerSize,\n      horizontalScrollerSize\n    } = this.grid;\n    const viewWidth = width - originFixedWidth - verticalScrollerSize;\n    const viewHeight = height - tableHeaderHeight - horizontalScrollerSize;\n    const horizontalRatio = viewWidth / tableWidth;\n    const verticalRatio = viewHeight / tableHeight;\n    if (horizontalRatio >= 1) {\n      this.horizontalScroller.size = 0;\n    } else {\n      this.horizontalScroller.size = parseInt(horizontalRatio * viewWidth);\n    }\n    if (verticalRatio >= 1) {\n      this.verticalScroller.size = 0;\n    } else {\n      this.verticalScroller.size = parseInt(verticalRatio * viewHeight);\n    }\n    if (this.horizontalScroller.size < 30) {\n      this.horizontalScroller.size = 30;\n    }\n    if (this.verticalScroller.size < 30) {\n      this.verticalScroller.size = 30;\n    }\n\n    this.horizontalScroller.has = !(tableWidth <= width - SCROLLER_TRACK_SIZE);\n    this.verticalScroller.has = !(tableHeight <= height - SCROLLER_TRACK_SIZE);\n\n    // 计算滚动距离的比例\n    this.horizontalScroller.ratio = this.horizontalScroller.has\n      ? (width -\n          originFixedWidth -\n          SCROLLER_TRACK_SIZE -\n          this.horizontalScroller.size -\n          SCROLLER_SIZE) /\n        (tableWidth + SCROLLER_TRACK_SIZE - width)\n      : 0;\n    this.verticalScroller.ratio = this.verticalScroller.has\n      ? (height -\n          tableHeaderHeight -\n          SCROLLER_TRACK_SIZE -\n          this.verticalScroller.size -\n          SCROLLER_SIZE) /\n        (tableHeight + SCROLLER_TRACK_SIZE - height)\n      : 0;\n  }\n  update(diff, dir) {\n    if (dir === \"HORIZONTAL\") {\n      this.grid.scrollX += diff;\n    } else if (dir === \"VERTICAL\") {\n      this.grid.scrollY += diff;\n    }\n    this.setPosition();\n  }\n  setPosition() {\n    this.horizontalScroller.x = -parseInt(\n      this.grid.scrollX * this.horizontalScroller.ratio\n    );\n    this.verticalScroller.y = -parseInt(\n      this.grid.scrollY * this.verticalScroller.ratio\n    );\n  }\n  // 鼠标位移是否在滚动轨道范围区域内\n  isInsideHorizontalScroller(mouseX, mouseY) {\n    return (\n      mouseX >= this.grid.originFixedWidth &&\n      mouseX <= this.grid.width - SCROLLER_TRACK_SIZE &&\n      mouseY > this.grid.height - SCROLLER_TRACK_SIZE &&\n      mouseY < this.grid.height - (SCROLLER_TRACK_SIZE - SCROLLER_SIZE) / 2\n    );\n  }\n  // 鼠标位移是否在滚动滑块范围区域内\n  isInsideHorizontalScrollerBar(mouseX, mouseY) {\n    return (\n      this.horizontalScroller.has &&\n      mouseX >= this.grid.originFixedWidth + this.horizontalScroller.x &&\n      mouseX <=\n        this.grid.originFixedWidth +\n          this.horizontalScroller.x +\n          this.horizontalScroller.size +\n          SCROLLER_SIZE &&\n      mouseY > this.grid.height - SCROLLER_TRACK_SIZE &&\n      mouseY < this.grid.height\n    );\n  }\n  isInsideVerticalScroller(mouseX, mouseY) {\n    return (\n      mouseX > this.grid.width - SCROLLER_TRACK_SIZE &&\n      mouseX < this.grid.width - (SCROLLER_TRACK_SIZE - SCROLLER_SIZE) / 2 &&\n      mouseY > this.grid.tableHeaderHeight &&\n      mouseY < this.grid.height - SCROLLER_TRACK_SIZE\n    );\n  }\n  isInsideVerticalScrollerBar(mouseX, mouseY) {\n    return (\n      this.verticalScroller.has &&\n      mouseX > this.grid.width - SCROLLER_TRACK_SIZE &&\n      mouseX < this.grid.width &&\n      mouseY > this.grid.tableHeaderHeight + this.verticalScroller.y &&\n      mouseY <\n      this.grid.tableHeaderHeight +\n          this.verticalScroller.y +\n          this.verticalScroller.size +\n          SCROLLER_SIZE\n    );\n  }\n  mouseDown(x, y) {\n    if (this.isInsideHorizontalScrollerBar(x, y)) {\n      this.mouseOriginalX = x;\n      this.horizontalScroller.move = true;\n    } else if (this.isInsideVerticalScrollerBar(x, y)) {\n      this.mouseOriginalY = y;\n      this.verticalScroller.move = true;\n    }\n  }\n  mouseMove(x, y) {\n    this.horizontalScroller.focus = this.isInsideHorizontalScroller(x, y)\n      ? true\n      : false;\n    this.verticalScroller.focus = this.isInsideVerticalScroller(x, y)\n      ? true\n      : false;\n    if (this.grid.editor.show) return;\n    if (this.horizontalScroller.move) {\n      const diffX = x - this.mouseOriginalX;\n      const movedX = this.horizontalScroller.x + diffX;\n      const trachWidth =\n        this.grid.width -\n        this.grid.originFixedWidth -\n        this.horizontalScroller.size -\n        SCROLLER_TRACK_SIZE -\n        SCROLLER_SIZE;\n\n      if (movedX > 0 && movedX < trachWidth) {\n        this.horizontalScroller.x += diffX;\n        this.grid.scrollX =\n          -this.horizontalScroller.x / this.horizontalScroller.ratio;\n      } else if (movedX <= 0) {\n        this.horizontalScroller.x = 0;\n        this.grid.scrollX = 0;\n      } else {\n        this.horizontalScroller.x = trachWidth;\n        this.grid.scrollX =\n          this.grid.width - this.grid.tableWidth - SCROLLER_TRACK_SIZE;\n      }\n      this.mouseOriginalX = x;\n    } else if (this.verticalScroller.move) {\n      const diffY = y - this.mouseOriginalY;\n      const movedY = this.verticalScroller.y + diffY;\n      const trackHeight =\n        this.grid.height -\n        this.grid.tableHeaderHeight -\n        this.verticalScroller.size -\n        SCROLLER_TRACK_SIZE -\n        SCROLLER_SIZE;\n      if (movedY > 0 && movedY < trackHeight) {\n        this.verticalScroller.y = movedY;\n        this.grid.scrollY =\n          -this.verticalScroller.y / this.verticalScroller.ratio;\n      } else if (movedY <= 0) {\n        this.verticalScroller.y = 0;\n        this.grid.scrollY = 0;\n      } else {\n        this.verticalScroller.y = trackHeight;\n        this.grid.scrollY =\n          this.grid.height - this.grid.tableHeight - SCROLLER_TRACK_SIZE;\n      }\n      this.mouseOriginalY = y;\n    }\n  }\n  mouseUp() {\n    this.horizontalScroller.move = false;\n    this.verticalScroller.move = false;\n  }\n  draw() {\n    const scrollerWidth = this.grid.width - SCROLLER_TRACK_SIZE;\n    const scrollerHeight = this.grid.height - SCROLLER_TRACK_SIZE;\n    const trackOffset = SCROLLER_TRACK_SIZE / 2;\n    const thumbOffset = SCROLLER_SIZE / 2;\n\n    // 横向滚动条\n    // 轨道\n    this.grid.painter.drawRect(\n      0,\n      scrollerHeight,\n      scrollerWidth + SCROLLER_TRACK_SIZE,\n      SCROLLER_TRACK_SIZE,\n      {\n        fillColor: this.grid.fillColor,\n        borderColor: this.grid.borderColor,\n        borderWidth: this.grid.borderWidth\n      }\n    );\n    // 滑块起始位置线条\n    this.grid.painter.drawLine(\n      [\n        [this.grid.originFixedWidth, scrollerHeight],\n        [this.grid.originFixedWidth, scrollerHeight + SCROLLER_TRACK_SIZE]\n      ],\n      {\n        borderColor: this.grid.borderColor,\n        borderWidth: this.grid.borderWidth\n      }\n    );\n    // 滑块结束位置线条\n    this.grid.painter.drawLine(\n      [\n        [scrollerWidth, scrollerHeight],\n        [scrollerWidth, scrollerHeight + SCROLLER_TRACK_SIZE]\n      ],\n      {\n        borderColor: this.grid.borderColor,\n        borderWidth: this.grid.borderWidth\n      }\n    );\n    // 滑块\n    if (this.horizontalScroller.has) {\n      this.grid.painter.drawLine(\n        [\n          [\n            this.grid.originFixedWidth +\n              this.horizontalScroller.x +\n              thumbOffset,\n            scrollerHeight + trackOffset\n          ],\n          [\n            this.grid.originFixedWidth +\n              this.horizontalScroller.x +\n              thumbOffset +\n              this.horizontalScroller.size,\n            scrollerHeight + trackOffset\n          ]\n        ],\n        {\n          borderColor:\n            this.horizontalScroller.move || this.horizontalScroller.focus\n              ? SCROLLER_FOCUS_COLOR\n              : SCROLLER_COLOR,\n          borderWidth: SCROLLER_SIZE,\n          lineCap: \"round\"\n        }\n      );\n    }\n\n    // 纵向滚动条\n    this.grid.painter.drawRect(\n      scrollerWidth,\n      0,\n      SCROLLER_TRACK_SIZE,\n      scrollerHeight,\n      {\n        fillColor: this.grid.fillColor,\n        borderColor: this.grid.borderColor,\n        borderWidth: this.grid.borderWidth\n      }\n    );\n    // 滑块起始位置线条\n    this.grid.painter.drawLine(\n      [\n        [scrollerWidth, this.grid.tableHeaderHeight],\n        [scrollerWidth + SCROLLER_TRACK_SIZE, this.grid.tableHeaderHeight]\n      ],\n      {\n        borderColor: this.grid.borderColor,\n        borderWidth: this.grid.borderWidth\n      }\n    );\n    // 滑块\n    if (this.verticalScroller.has) {\n      this.grid.painter.drawLine(\n        [\n          [\n            scrollerWidth + trackOffset,\n            this.verticalScroller.y + thumbOffset + this.grid.tableHeaderHeight\n          ],\n          [\n            scrollerWidth + trackOffset,\n            this.verticalScroller.y +\n              thumbOffset +\n              this.grid.tableHeaderHeight +\n              this.verticalScroller.size\n          ]\n        ],\n        {\n          borderColor:\n            this.verticalScroller.move || this.verticalScroller.focus\n              ? SCROLLER_FOCUS_COLOR\n              : SCROLLER_COLOR,\n          borderWidth: SCROLLER_SIZE,\n          lineCap: \"round\"\n        }\n      );\n    }\n  }\n}\n\nexport default Scroller;\n","function bind(target, name, fn, useCapture) {\n  target.addEventListener(name, fn, useCapture);\n}\nfunction unbind(target, name, fn, useCapture) {\n  target.removeEventListener(name, fn, useCapture);\n}\nfunction unbindClickoutside(el) {\n  if (el.xclickoutside) {\n    unbind(window.document.body, 'mousedown', el.xclickoutside);\n    delete el.xclickoutside;\n  }\n}\n\n// the left mouse button: mousedown → mouseup → click\n// the right mouse button: mousedown → contenxtmenu → mouseup\n// the right mouse button in firefox(>65.0): mousedown → contenxtmenu → mouseup → click on window\nfunction bindClickoutside(el, cb) {\n  const self = this\n  el.xclickoutside = (evt) => {\n    // ignore double click\n    // console.log('evt:', evt);\n    const pointX = evt.clientX - self.containerOriginX\n    const pointY = evt.clientY - self.containerOriginY\n    const isInTable = pointX > 0 && pointX < self.width && pointY > 0 && pointY < self.height\n    if (evt.detail === 2 || el.contains(evt.target) || isInTable) return;\n    if (cb) cb(el);\n    else {\n      el.style.display = 'none'\n      unbindClickoutside(el);\n    }\n  };\n  bind(window.document.body, 'mousedown', el.xclickoutside);\n}\nfunction throttle(\n  func,\n  time = 17,\n  options = {\n    // leading 和 trailing 无法同时为 false\n    leading: true,\n    trailing: false,\n    context: null\n  }\n) {\n  let previous = new Date(0).getTime();\n  let timer;\n  const _throttle = function(...args) {\n    let now = new Date().getTime();\n\n    if (!options.leading) {\n      if (timer) return;\n      timer = setTimeout(() => {\n        timer = null;\n        func.apply(options.context, args);\n      }, time);\n    } else if (now - previous > time) {\n      func.apply(options.context, args);\n      previous = now;\n    } else if (options.trailing) {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        func.apply(options.context, args);\n      }, time);\n    }\n  };\n  // 闭包返回取消函数\n  _throttle.cancel = () => {\n    previous = 0;\n    clearTimeout(timer);\n    timer = null;\n  };\n  return _throttle;\n}\nfunction handleMouseDown(e) {\n  e.preventDefault();\n  // 点击画布的任何区域都需要将编辑器变为非编辑模式\n  this.doneEdit();\n  const rect = e.target.getBoundingClientRect();\n  const x = e.clientX - rect.left;\n  const y = e.clientY - rect.top;\n  if (this.header.isInsideHeader(x, y)) {\n    this.header.mouseDown(x, y);\n  }\n  this.body.mouseDown(x, y);\n  this.scroller.mouseDown(x, y);\n}\nfunction handleMouseMove(e) {\n  if (e.target.tagName.toLowerCase() === \"canvas\") {\n    e.preventDefault();\n  }\n  const rect = e.target.getBoundingClientRect();\n  const x = e.clientX - rect.left;\n  const y = e.clientY - rect.top;\n  this.target.style.cursor = \"default\";\n  if (this.header.isInsideHeader(x, y) || this.header.isResizing) {\n    this.header.mouseMove(x, y);\n  }\n  this.body.mouseMove(x, y);\n  this.scroller.mouseMove(x, y);\n}\nfunction handleMouseUp(e) {\n  if (e.target.tagName.toLowerCase() === \"canvas\") {\n    e.preventDefault();\n  }\n  const rect = e.target.getBoundingClientRect();\n  const x = e.clientX - rect.left;\n  const y = e.clientY - rect.top;\n  if (this.header.isInsideHeader(x, y) || this.header.isResizing) {\n    this.header.mouseUp(x, y);\n  }\n  this.endMultiSelect();\n  this.scroller.mouseUp(x, y);\n}\nfunction handleClick(e) {\n  e.preventDefault();\n  const rect = e.target.getBoundingClientRect();\n  const x = e.clientX - rect.left;\n  const y = e.clientY - rect.top;\n  this.body.click(x, y);\n  if (this.header.isInsideHeaderCheckboxBoundary(x, y)) {\n    this.header.click();\n    this.body.handleCheckRow();\n  }\n}\nfunction handleDbClick(e) {\n  e.preventDefault();\n  const rect = e.target.getBoundingClientRect();\n  const x = e.clientX - rect.left;\n  const y = e.clientY - rect.top;\n  this.body.dbClick(x, y);\n}\nfunction handleClickoutside() {\n  this.doneEdit();\n}\nfunction handleKeydown(e) {\n  if (this.editor.show) {\n    // 编辑模式按下按Enter／ESC退出编辑模式\n    if (e.keyCode === 13 || e.keyCode === 27) {\n      e.preventDefault();\n      this.doneEdit();\n    }\n    return;\n  }\n  // 未选中\n  if (!this.selector.show) {\n    return;\n  }\n  // 撤销\n  if (\n    (e.ctrlKey && e.keyCode === 90) ||\n    (e.metaKey && !e.shiftKey && e.keyCode === 90)\n  ) {\n    e.preventDefault()\n    // TODO Undo\n  }\n  // 恢复\n  if (\n    (e.ctrlKey && e.keyCode === 89) ||\n    (e.metaKey && e.shiftKey && e.keyCode === 90)\n  ) {\n    e.preventDefault()\n    // TODO Recovery\n  }\n  // CTRL+C／Command+C\n  if ((e.ctrlKey && e.keyCode === 67) || (e.metaKey && e.keyCode === 67)) {\n    e.preventDefault()\n    this.clipboard.copy();\n  }\n  // CTRL+V／Command+V\n  if ((e.ctrlKey && e.keyCode === 86) || (e.metaKey && e.keyCode === 86)) {\n      // e.preventDefault() // 注意：这里一定不能阻止默认事件，因为粘贴功能依赖原生的paste事件\n      this.clipboard.paste();\n  }\n  // CTRL+A／Command+A\n  if ((e.ctrlKey && e.keyCode) === 65 || (e.metaKey && e.keyCode === 65)) {\n    e.preventDefault()\n    // TODO Select all\n  }\n  // CTRL+R／CRTRL+F等类型的事件不阻止默认事件\n  if (e.metaKey || e.ctrlKey) {\n    return;\n  }\n\n  /**\n   * 由于非编辑模式下，输入中文无法正常触发原生input可编辑元素中的中文输入法模式，\n   * 固改用利用原生的可编辑元素的input事件处理非编辑模式下直接敲击键盘可进入编辑模式，\n   * 前提是该元素必须先获取聚焦\n   */\n  // const keyHandler = k => {\n  //   if (\n  //     (k >= 65 && k <= 90) ||\n  //     (k >= 48 && k <= 57) ||\n  //     (k >= 96 && k <= 107) ||\n  //     (k >= 109 && k <= 111) ||\n  //     k === 32 ||\n  //     (k >= 186 && k <= 222)\n  //   ) {\n  //     return true;\n  //   } else {\n  //     return false;\n  //   }\n  // };\n  // if (keyHandler(e.keyCode)) {\n  //   return this.startEdit(e.key);\n  // }\n  switch (e.keyCode) {\n    // 左\n    case 37:\n      this.moveFocus(\"LEFT\");\n      break;\n    // 上\n    case 38:\n      this.moveFocus(\"TOP\");\n      break;\n    // 右 或 Tab\n    case 9:\n    case 39:\n      this.moveFocus(\"RIGHT\");\n      break;\n    // 下\n    case 40:\n      this.moveFocus(\"BOTTOM\");\n      break;\n    case 8: // BackSpace／delede\n    case 46:\n      this.clearSelectedData()\n      break;\n    case 13:\n      this.startEdit();\n      break;\n    default:\n    //\n  }\n}\nfunction handleScroll(e) {\n  e.preventDefault();\n  if (this.editor.show) return;\n  const { deltaX, deltaY } = e;\n  if (Math.abs(deltaX) > Math.abs(deltaY)) {\n    if (this.scroller.horizontalScroller.has) {\n      const maxWidth = this.tableWidth;\n      if (this.scrollX - deltaX > 0) {\n        this.scrollX = 0;\n      } else if (\n        maxWidth + this.verticalScrollerSize - this.width + this.scrollX <\n        deltaX\n      ) {\n        this.scrollX = this.width - maxWidth - this.verticalScrollerSize;\n      } else {\n        e.preventDefault();\n        e.returnValue = false;\n        this.scrollX -= 2 * deltaX;\n      }\n    }\n  } else {\n    if (this.scroller.verticalScroller.has) {\n      if (this.scrollY - deltaY > 0) {\n        this.scrollY = 0;\n      } else if (\n        this.tableHeight +\n          this.horizontalScrollerSize -\n          this.height +\n          this.scrollY <\n        deltaY\n      ) {\n        this.scrollY =\n          this.height - this.tableHeight - this.horizontalScrollerSize;\n      } else {\n        e.preventDefault();\n        e.returnValue = false;\n        this.scrollY -= 2 * deltaY;\n      }\n    }\n  }\n  this.scroller.setPosition();\n}\nfunction handleResize() {\n  this.resize();\n}\n\nclass Events {\n  constructor(grid, el) {\n    this.grid = grid;\n    this.el = el\n    this.isFirefox = typeof navigator !== 'undefined' && navigator.userAgent.toLowerCase().indexOf('firefox') > -1\n\n    this.init()\n  }\n  init() {\n    const {\n      el,\n      grid,\n      isFirefox\n    } = this\n    // const rootEl = el.parentElement;\n    this.eventTasks = {\n      'clickoutside': handleClickoutside.bind(grid),\n      'mousedown': handleMouseDown.bind(grid),\n      'mousemove': handleMouseMove.bind(grid),\n      'mouseup': handleMouseUp.bind(grid),\n      'click': handleClick.bind(grid),\n      'dblclick': handleDbClick.bind(grid),\n      'mousewheel': handleScroll.bind(grid),\n      'keydown': handleKeydown.bind(grid),\n      'resize': throttle(handleResize, 100, {\n        context: grid\n      }),\n    }\n    /**\n     * 这里用js的方案实现Clickoutside会导致一个问题，对于select／data-picker等浮层组件，\n     * 若其超过视窗之外，则会判断不准确，所以直接用v-clickoutside指令的方式完美替代；\n     * -----------------------------------------------------------------------------\n     * 再解释这里为什么有些事件绑定在canvas上而有些绑定在window上？\n     * mousemove／mouseup事件：因为存在一些拖拽的事件（比如调整列宽、拖动滚动条等）拥有“中间状态”，\n     * 需要鼠标在画布之外时也保持事件执行的能力\n     */\n    // bindClickoutside.call(grid, rootEl, handleClickoutside.bind(grid))\n    bind(el, 'mousedown', this.eventTasks.mousedown, false)\n    bind(window, 'mousemove', this.eventTasks.mousemove, false)\n    bind(window, 'mouseup', this.eventTasks.mouseup, false)\n    bind(el, 'click', this.eventTasks.click, false)\n    bind(el, 'dblclick', this.eventTasks.dblclick, false)\n    bind(el, isFirefox ? 'DOMMouseScroll' : 'mousewheel', this.eventTasks.mousewheel, false)\n    bind(window, 'keydown', this.eventTasks.keydown, false) // canvas元素不支持keydown事件\n    bind(window, 'resize', this.eventTasks.resize, false)\n  }\n  destroy() {\n    const {\n      el,\n      isFirefox\n    } = this\n    // const rootEl = el.parentElement;\n    // unbindClickoutside(rootEl)\n    unbind(el, 'mousedown', this.eventTasks.mousedown, false)\n    unbind(window, 'mousemove', this.eventTasks.mousemove, false)\n    unbind(window, 'mouseup', this.eventTasks.mouseup, false)\n    unbind(el, 'click', this.eventTasks.click, false)\n    unbind(el, 'dblclick', this.eventTasks.dblclick, false)\n    unbind(el, isFirefox ? 'DOMMouseScroll' : 'mousewheel', this.eventTasks.mousewheel, false)\n    unbind(window, 'keydown', this.eventTasks.keydown, false)\n    unbind(window, 'resize', this.eventTasks.resize, false)\n  }\n}\nexport default Events;\n","import { ERROR_TIP_COLOR } from \"./constants.js\";\n\nclass Tooltip {\n  constructor(grid, x, y, message, type) {\n    this.grid = grid;\n    this.x = x;\n    this.y = y;\n    this.width = 200;\n    this.height = 90;\n    this.valid = true;\n    this.message = message;\n  }\n  update(value) {\n    Object.assign(this, value);\n  }\n  draw() {\n    const {\n      selector,\n      scrollX,\n      scrollY,\n      width,\n      height,\n      tableWidth,\n      verticalScrollerSize,\n      color,\n      painter\n    } = this.grid\n    if (!this.valid && !selector.isSelected) {\n      const poX = this.x + this.colWidth + 2\n      const poY = this.y + 1\n      const isBeyondHorizontalView = poX + this.width + scrollX > width // tooltip浮层是否超过水平可视区\n      const isBeyondVerticalView = poY + this.height + scrollY > height // tooltip浮层是否超过垂直可视区\n      let x = isBeyondHorizontalView\n        ? this.fixed === 'right'\n          ? width -\n            (tableWidth - this.x - this.colWidth) -\n            this.colWidth -\n            verticalScrollerSize -\n            this.width -\n            1\n          : this.x - this.width - 1\n        : poX;\n      if (!this.fixed) {\n        x += scrollX;\n      }\n      let y = isBeyondVerticalView\n        ? this.y - (this.height - this.colHeight) - 1\n        : this.y\n      y += scrollY;\n      painter.drawRoundRect(x, y, this.width, this.height, 4, {\n        shadowBlur: 16,\n        shadowColor: \"rgba(28,36,56,0.16)\",\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        fillColor: \"#fff\",\n        borderWidth: 1\n      });\n\n      painter.drawCellText(\"数据错误\", x, y + 24, this.width, this.height, 16, {\n        font:\n          'bold 14px \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif',\n        color: ERROR_TIP_COLOR,\n        align: \"left\",\n        baseLine: \"bottom\"\n      });\n\n      const textArr = painter.getTextWrapping(\n        this.message,\n        this.width,\n        16\n      );\n      let _y = y + 50;\n      for (let i = 0; i < textArr.length; i++) {\n        painter.drawCellText(\n          textArr[i],\n          x,\n          _y + i * 18,\n          this.width,\n          this.height,\n          16,\n          {\n            color,\n            align: \"left\",\n            baseLine: \"bottom\"\n          }\n        );\n      }\n    }\n  }\n}\n\nexport default Tooltip;\n","import { h } from \"./element.js\";\n\nclass Clipboard {\n  constructor(grid) {\n    this.grid = grid;\n    this.show = false;\n    this.isPaste = false\n    this.xArr = [-1, -1];\n    this.yArr = [-1, -1];\n    // this.init();\n  }\n  init() {\n    const clipboardEl = h(\"textarea\", \"\").on(\"paste\", e => this.paste(e));\n    clipboardEl.css({\n      position: \"absolute\",\n      left: \"-10000px\",\n      top: \"-10000px\"\n    });\n    this.el = clipboardEl.el;\n    document.body.appendChild(this.el);\n  }\n  copy() {\n    const { selector, body } = this.grid;\n    const { text } = body.getSelectedData();\n    const textArea = document.createElement(\"textarea\");\n    textArea.value = text;\n    document.body.appendChild(textArea);\n    textArea.select();\n    document.execCommand(\"copy\", false); // copy到剪切板\n    document.body.removeChild(textArea);\n    this.show = true;\n    this.xArr = selector.xArr.slice();\n    this.yArr = selector.yArr.slice();\n  }\n  paste() {\n    this.isPaste = true\n  }\n  // paste2(e) {\n  //   const { editor, selector, autofill, body } = this.grid;\n  //   let textArr;\n  //   let rawText = e.clipboardData.getData(\"text/plain\");\n  //   // let arr = isMac ? rawText.split('\\r').map(item => item.split('\\t')) : rawText.split('\\r').map(item => item.split('\\t')).slice(0, -1) // windows系统截取掉最后一个空白字符\n  //   let arr = rawText.split(\"\\r\");\n  //   if (arr.length === 1) {\n  //     let _arr = arr[0].split(\"\\n\");\n  //     textArr = _arr.map(item => item.split(\"\\t\"));\n  //   } else {\n  //     textArr = arr.map(item => item.split(\"\\t\"));\n  //   }\n  //   if (textArr.length) {\n  //     body.pasteData(textArr);\n  //   }\n  // }\n  select(textArr) {\n    this.isPaste = false\n    // 复制完把被填充的区域选中，并把激活单元格定位到填充区域的第一个\n    const { editor, selector, autofill } = this.grid;\n    selector.xArr.splice(1, 1, editor.xIndex + textArr[0].length - 1);\n    selector.yArr.splice(1, 1, editor.yIndex + textArr.length - 1);\n    autofill.xIndex = selector.xArr[1];\n    autofill.yIndex = selector.yArr[1];\n    this.clear();\n  }\n  clear() {\n    this.show = false;\n    this.xArr = [-1, -1];\n    this.yArr = [-1, -1];\n  }\n}\n\nexport default Clipboard;\n","export const dpr = window.devicePixelRatio || 1;\nexport default {\n  dpr\n};\n","/**\n * 程序入口\n */\nimport { h } from \"./element.js\";\nimport Paint from \"./Paint.js\";\nimport Body from \"./Body.js\";\nimport Header from \"./Header.js\";\nimport Editor from \"./Editor.js\";\nimport Scroller from \"./Scroller.js\";\nimport Events from \"./Events.js\";\nimport Tooltip from \"./Tooltip.js\";\nimport Clipboard from \"./Clipboard.js\";\nimport { dpr } from \"./config.js\";\nimport {\n  toLeaf,\n  getMaxRow,\n  calCrossSpan\n} from './util.js'\nimport {\n  CSS_PREFIX,\n  ROW_INDEX_WIDTH,\n  CHECK_BOX_WIDTH,\n  SCROLLER_TRACK_SIZE,\n  HEADER_HEIGHT\n} from \"./constants.js\";\n\nclass DataGrid {\n  constructor(target, options) {\n    this.target = target;\n    this.scrollY = 0;\n    this.scrollX = 0;\n\n    this.checkboxWidth = CHECK_BOX_WIDTH;\n    this.horizontalScrollerSize = SCROLLER_TRACK_SIZE;\n    this.verticalScrollerSize = SCROLLER_TRACK_SIZE;\n\n    this.tempValue = ''; // 存储用户输入的临时值，当执行doneEdit后才去setData()\n    this.focusCell = null; // 当前焦点所在的cell\n\n    this.hashChange = {}; // diff changed\n\n    // 选择区域\n    this.selector = {\n      show: false, // 是否显示\n      isSelected: false, // 单击鼠标按下代表即将要开始范围选择\n      xArr: [-1, -1], // 选中区域\n      yArr: [-1, -1]\n    };\n    this.editor = {\n      show: false,\n      xIndex: 0,\n      yIndex: 0\n    };\n    // 自动填充\n    this.autofill = {\n      enable: false, // 为true代表要开始下拉数据填充\n      xIndex: 0, // 数据填充触点的坐标\n      yIndex: 0,\n      xArr: [-1, -1], // 数据填充的范围\n      yArr: [-1, -1]\n    };\n\n    // 生成主画笔\n    this.painter = new Paint(target);\n\n    this.initConfig(options);\n\n    // this.createContainer()\n\n    this.clipboard = new Clipboard(this);\n\n    // Headers 表头对象\n    this.header = new Header(this, 0, 0);\n\n    // Body 主体\n    this.body = new Body(this, this.data);\n\n    // 滚动条\n    this.scroller = new Scroller(this);\n\n    this.setLayoutSize(options); // 设置容器宽高\n\n    this.initTableSize();\n\n    this.tooltip = new Tooltip(this, 0, 0);\n\n    this.events = new Events(this, target);\n\n    this.initPaint();\n  }\n  /**\n   * 容器初始化相关\n   */\n  initConfig(options) {\n    Object.assign(\n      this,\n      {\n        data: [],\n        color: \"#495060\",\n        borderColor: \"#e1e6eb\",\n        fillColor: \"#fff\",\n        borderWidth: 1,\n        fixedLeft: 0,\n        fixedRight: 0,\n        showCheckbox: true,\n        headerHeight: HEADER_HEIGHT,\n        beforeSelectCell: cell => {}, // 选中单元格之前触发\n        afterSelectCell: cell => {},\n        beforeMultiSelectCell: cells => {}, // 批量选中单元格之前触发\n        afterMultiSelectCell: cells => {},\n        beforeEditCell: cell => {}, // 编辑单元格\n        afterEditCell: cell => {},\n        beforeSelectRow: row => {}, // 选中行触发\n        afterSelectRow: row => {},\n        beforeResizeColumn: () => {}, // 调整列宽\n        afterResizeColumn: () => {},\n        beforeResizeRow: () => {}, //调整行高\n        afterResizeRow: () => {},\n        beforeAutofill: () => {}, // 自动填充\n        afterAutofill: () => {},\n        beforeCopy: () => {}, // 复制\n        afterCopy: () => {},\n        beforePaste: () => {}, // 粘贴\n        afterPaste: () => {},\n        afterClear: () => {}, // 清空数据\n        onLoad: () => {} // 表格加载完成\n      },\n      options\n    );\n    \n    const maxHeaderRow = getMaxRow(options.columns)\n    // 有复合表头的情况下，高度强制改为24\n    if (maxHeaderRow > 1) {\n      this.headerHeight = 24\n    }\n    this.tableHeaderHeight = this.headerHeight * maxHeaderRow\n    // 计算复合表头的跨行colspan、跨列数rowspan，用作表头渲染\n    this.headers = calCrossSpan(options.columns, maxHeaderRow)\n    // 获取叶子节点表头，用作数据渲染\n    this.columns = toLeaf(options.columns)\n    this.columnsLength = this.columns.length;\n\n    // 编辑器边界范围\n    this.range = {\n      minX: 0,\n      maxX: this.columns.length - 1,\n      minY: 0,\n      maxY: this.data.length - 1\n    };\n    if (!this.showCheckbox) {\n      this.checkboxWidth = 0;\n    }\n    this.originFixedWidth = ROW_INDEX_WIDTH + this.checkboxWidth;\n  }\n  /**\n   * 获取容器可是区域宽、高，设置canvas容器样式尺寸、画布尺寸\n   */\n  setLayoutSize(options = {}) {\n    const el = this.target.parentElement;\n    const rootEl = el.parentElement;\n    const { width, left, top } = rootEl.getBoundingClientRect();\n    this.containerOriginX = left;\n    this.containerOriginY = top;\n    this.width = options.width || width; // 容器宽\n    this.height = options.height || window.innerHeight - top; // 容器高\n\n    this.target.width = this.width * dpr;\n    this.target.height = this.height * dpr;\n    this.target.style.width = this.width + \"px\";\n    this.target.style.height = this.height + \"px\";\n    el.style.width = this.width + \"px\";\n    el.style.height = this.height + \"px\";\n    this.painter.scaleCanvas(dpr);\n  }\n  /**\n   * 获取表格左、右冻结列宽，表格实际的宽、高\n   */\n  getTableSize() {\n    let fixedLeftWidth = this.originFixedWidth;\n    let fixedRightWidth = SCROLLER_TRACK_SIZE;\n    this.header.fixedColumnHeaders.forEach(item => {\n      if (item.index < this.fixedLeft) {\n        fixedLeftWidth += item.width;\n      }\n      if (item.index > this.columnsLength - 1 - this.fixedRight) {\n        fixedRightWidth += item.width;\n      }\n    });\n    this.fixedLeftWidth = fixedLeftWidth;\n    this.fixedRightWidth = fixedRightWidth;\n    this.tableWidth = this.header.allColumnHeaders.filter(item => !item.level).reduce((sum, item) => {\n      return sum + item.width;\n    }, this.originFixedWidth);\n    this.tableHeight = this.body.height;\n\n    this.scroller.reset();\n  }\n  initTableSize() {\n    this.getTableSize();\n    this.fillTableWidth();\n  }\n  /**\n   * 列总宽小于可视区域宽度时，需要补余\n   */\n  fillTableWidth() {\n    if (this.tableWidth <= this.width - SCROLLER_TRACK_SIZE) { // 没有横向滚动条\n      const fillCellWidth =\n        (this.width - SCROLLER_TRACK_SIZE - this.tableWidth) /\n        this.columnsLength;\n      fillCellWidth && this.body.resizeAllColumn(fillCellWidth);\n      fillCellWidth && this.header.resizeAllColumn(fillCellWidth);\n      this.tableWidth = this.width - SCROLLER_TRACK_SIZE;\n      this.fixedLeftWidth = 0;\n      this.fixedRightWidth = SCROLLER_TRACK_SIZE;\n    }\n    \n    this.scroller.reset();\n  }\n  resize() {\n    const diffX = this.tableWidth - this.width + this.scrollX;\n\n    this.setLayoutSize();\n    this.fillTableWidth();\n\n    if (\n      this.tableWidth - (this.width - SCROLLER_TRACK_SIZE) + this.scrollX <\n      0\n    ) {\n      // 小屏滚动到最右侧再调大屏幕断开的问题\n      this.scrollX = this.width - this.tableWidth + diffX;\n    }\n  }\n  createContainer() {\n    // 顶层容器\n    this.rootEl = h(\"div\", `${CSS_PREFIX}`);\n\n    // this.loadingEl = h('div', `${CSS_PREFIX}-loading`)\n    //     .children(\n    //         this.loadingDot = h('div', `${CSS_PREFIX}-loading-dot`)\n    //     )\n    // 画布外层容器\n    this.wrapEl = h(\"div\", `${CSS_PREFIX}-main`);\n    this.wrapEl.offset({\n      width: this.width,\n      height: this.height\n    });\n    this.rootEl.children(this.wrapEl);\n\n    // 画布\n    this.tableEl = h(\"canvas\", `${CSS_PREFIX}-table`);\n\n    // 编辑器\n    this.editor = new Editor(this);\n    // this.selector = new Selector()\n\n    // 编辑器、选区容器\n    this.overlayerEl = h(\"div\", `${CSS_PREFIX}-overlayer`).children(\n      this.editor.el\n      // this.selector.el\n    );\n\n    this.wrapEl.children(this.tableEl, this.overlayerEl);\n\n    this.target.appendChild(this.rootEl.el);\n  }\n  /**\n   * 选择、编辑相关----------------------------------------------------->\n   */\n  // mousedown事件 -> 开始拖拽批量选取\n  selectCell({ colIndex, rowIndex }) {\n    this.clearMultiSelect();\n    this.editor.xIndex = colIndex;\n    this.editor.yIndex = rowIndex;\n    this.selector.show = true;\n    this.selector.isSelected = true;\n    this.adjustBoundaryPosition();\n\n    this.putCell()\n  }\n  /**\n   * 将画布单元格中的数据传递到编辑器中\n   */\n  putCell() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      value,\n      fixed,\n      dataType,\n      options\n    } = this.focusCell;\n    const _x =\n      fixed === \"right\"\n        ? this.width -\n          (this.tableWidth - x - width) -\n          width -\n          SCROLLER_TRACK_SIZE\n        : fixed === \"left\"\n        ? x\n        : x + this.scrollX;\n    const _y = y + this.scrollY;\n    this.afterSelectCell({\n      value,\n      x: _x,\n      y: _y,\n      width,\n      height,\n      dataType,\n      options\n    });\n  }\n  // mousemove事件 -> 更新选取范围\n  multiSelectCell(x, y, mouseX, mouseY) {\n    const selector = this.selector;\n    if (selector.isSelected) {\n      const minX = x > this.editor.xIndex ? this.editor.xIndex : x;\n      const maxX = x > this.editor.xIndex ? x : this.editor.xIndex;\n      const minY = y > this.editor.yIndex ? this.editor.yIndex : y;\n      const maxY = y > this.editor.yIndex ? y : this.editor.yIndex;\n      this.autofill.xIndex = maxX;\n      this.autofill.yIndex = maxY;\n      selector.xArr = [minX, maxX];\n      selector.yArr = [minY, maxY];\n      this.adjustPosition(x, y, mouseX, mouseY)\n    }\n    // 设置autofill填充区域\n    if (this.autofill.enable) {\n      this.adjustPosition(x, y, mouseX, mouseY)\n      this.autofill.xArr = selector.xArr.slice();\n      this.autofill.yArr = selector.yArr.slice();\n      if (y >= selector.yArr[0] && y <= selector.yArr[1]) {\n        if (x > selector.xArr[1]) {\n          this.autofill.xArr.splice(1, 1, x);\n        } else if (x < selector.xArr[0]) {\n          this.autofill.xArr.splice(0, 1, x);\n        }\n      } else {\n        if (y > selector.yArr[1]) {\n          this.autofill.yArr.splice(1, 1, y);\n        } else if (y < selector.yArr[0]) {\n          this.autofill.yArr.splice(0, 1, y);\n        }\n      }\n    }\n  }\n  // mouseup事件\n  endMultiSelect() {\n    this.selector.isSelected = false;\n    if (this.selector.show && this.autofill.enable) {\n      this.body.autofillData();\n      this.autofill.enable = false;\n    }\n  }\n  // 清空批量选取\n  clearMultiSelect() {\n    this.selector.xArr = [-1, -1];\n    this.selector.yArr = [-1, -1];\n  }\n  startAutofill() {\n    this.autofill.enable = true;\n  }\n  clearAuaofill() {\n    this.selector.xArr.splice(0, 1, this.autofill.xArr[0]);\n    this.selector.xArr.splice(1, 1, this.autofill.xArr[1]);\n    this.selector.yArr.splice(0, 1, this.autofill.yArr[0]);\n    this.selector.yArr.splice(1, 1, this.autofill.yArr[1]);\n    this.autofill.xIndex = this.selector.xArr[1];\n    this.autofill.yIndex = this.selector.yArr[1];\n    // 填充完数据清空\n    this.autofill.xArr = [-1, -1];\n    this.autofill.yArr = [-1, -1];\n  }\n  // 开始编辑\n  startEdit() {\n    if (this.focusCell && !this.focusCell.readonly) {\n      this.editor.show = true;\n      this.selector.show = false;\n      this.putCell() // BackSpace／delede删除再直接enter进入编辑模式，不会再次更新编辑器的焦点cell\n      this.beforeEditCell();\n    }\n  }\n  // 完成编辑\n  doneEdit() {\n    if (this.editor.show && this.focusCell) {\n      this.editor.show = false;\n      this.selector.show = true; // 编辑完再选中该单元格\n      if (this.focusCell.value !== this.tempValue) {\n        this.focusCell.setData(this.tempValue)\n        const rowData = this.body.getRowData(this.focusCell.rowIndex)\n        this.afterEditCell(rowData)\n      }\n      this.putCell()\n      this.clipboard.clear();\n    }\n  }\n  setData(value) {\n    this.focusCell && this.focusCell.setData(value);\n  }\n  /**\n   * 将用户通过编辑器输入的值存储为一个临时变量，执行doneEdit()后再去setData()\n   */\n  setTempData(value) {\n    this.editor.show = true;\n    this.selector.show = false;\n    this.tempValue = value\n  }\n  pasteData(arr) {\n    if (arr.length > 0) {\n      this.body.pasteData(arr);\n      this.clipboard.select(arr)\n    }\n  }\n  clearSelectedData() {\n    this.body.clearSelectedData()\n  }\n  /**\n   * 调整列宽、行宽\n   */\n  resizeColumn(colIndex, newWidth) {\n    this.header.resizeColumn(colIndex, newWidth);\n\n    this.body.resizeColumn(colIndex, newWidth);\n\n    this.getTableSize();\n  }\n  resizeRow(rowIndex, height) {\n    this.body.resizeRow(rowIndex, height);\n    this.getTableSize();\n  }\n  handleCheckRow(y) {\n    this.body.handleCheckRow(y);\n  }\n  moveFocus(dir) {\n    switch (dir) {\n      case \"LEFT\":\n        if (this.editor.xIndex > this.range.minX) {\n          this.editor.xIndex--;\n          this.adjustBoundaryPosition();\n        }\n        break;\n      case \"TOP\":\n        if (this.editor.yIndex > this.range.minY) {\n          this.editor.yIndex--;\n          this.adjustBoundaryPosition();\n        }\n        break;\n      case \"RIGHT\":\n        if (this.editor.xIndex < this.range.maxX) {\n          this.editor.xIndex++;\n          this.adjustBoundaryPosition();\n        }\n        break;\n      case \"BOTTOM\":\n        if (this.editor.yIndex < this.range.maxY) {\n          this.editor.yIndex++;\n          this.adjustBoundaryPosition();\n        }\n        break;\n      default:\n      //\n    }\n    this.putCell()\n  }\n  adjustPosition(x, y, mouseX, mouseY) {\n    // const cell = this.body.getCell(x, y);\n    const diffX = mouseX - this.width + SCROLLER_TRACK_SIZE\n    const diffY = mouseY - this.height + SCROLLER_TRACK_SIZE\n    if (diffX > 0) {\n      this.scroller.update(-12, \"HORIZONTAL\");\n    }\n    if (diffY > 0) {\n      this.scroller.update(-12, \"VERTICAL\");\n    }\n  }\n  adjustBoundaryPosition() {\n    this.focusCell = this.body.getCell(this.editor.xIndex, this.editor.yIndex);\n\n    this.selector.xArr = [this.editor.xIndex, this.editor.xIndex];\n    this.selector.yArr = [this.editor.yIndex, this.editor.yIndex];\n    this.autofill.xIndex = this.editor.xIndex;\n    this.autofill.yIndex = this.editor.yIndex;\n\n    if (this.focusCell.fixed) return;\n\n    const cellTotalViewWidth =\n      this.focusCell.x + this.focusCell.width + this.scrollX;\n    const cellTotalViewHeight =\n      this.focusCell.y + this.focusCell.height + this.scrollY;\n    const viewWidth = this.width - this.fixedRightWidth;\n    const viewHeight = this.height - SCROLLER_TRACK_SIZE;\n    const diffLeft = this.focusCell.x + this.scrollX - this.fixedLeftWidth;\n    const diffRight = viewWidth - cellTotalViewWidth;\n    const diffTop = this.focusCell.y + this.scrollY - this.tableHeaderHeight;\n    const diffBottom = viewHeight - cellTotalViewHeight;\n    // const fillWidth = this.focusCell.colIndex < this.columnsLength - 1 - this.fixedRight ?\n    //     this.focusCell.x + this.scrollX - viewWidth\n    //     : 0\n    if (diffRight < 0) {\n      this.scroller.update(diffRight, \"HORIZONTAL\");\n    } else if (diffLeft < 0) {\n      this.scroller.update(-diffLeft, \"HORIZONTAL\");\n    }\n    if (diffTop < 0) {\n      this.scroller.update(-diffTop, \"VERTICAL\");\n    } else if (diffBottom < 0) {\n      this.scroller.update(diffBottom, \"VERTICAL\");\n    }\n  }\n  /**\n   * 画布绘制相关------------------------------------------------------->\n   */\n  initPaint() {\n    this.draw();\n    window.requestAnimationFrame(this.initPaint.bind(this));\n  }\n  drawContainer() {\n    this.painter.drawRect(0, 0, this.width, this.height, {\n      borderColor: this.borderColor,\n      fillColor: '#fff',\n      borderWidth: this.borderWidth\n    });\n  }\n  draw() {\n    this.painter.clearCanvas();\n\n    // 绘制外层容器\n    this.drawContainer();\n\n    if (!this.columnsLength) return;\n\n    // body\n    this.body.draw();\n\n    // 数据校验错误提示\n    this.tooltip.draw();\n\n    // 绘制表头\n    this.header.draw();\n\n    // 绘制滚动条\n    this.scroller.draw();\n  }\n  updateColumns(columns) {\n    // 代码冗余，后续优化\n    const maxHeaderRow = getMaxRow(columns)\n    this.tableHeaderHeight = this.headerHeight * maxHeaderRow\n    this.headers = calCrossSpan(columns, maxHeaderRow)\n    this.columns = toLeaf(columns)\n    this.columnsLength = this.columns.length;\n\n    this.range.maxX = columns.length - 1;\n    this.header.paint()\n    this.getTableSize()\n  }\n  loadData(data) {\n    this.data = data;\n    this.range.maxY = data.length - 1;\n    this.body.paint(data);\n    this.initTableSize();\n  }\n  getData() {\n    this.doneEdit()\n    return this.body.getData();\n  }\n  getRowData(y) {\n    this.doneEdit()\n    return this.body.getRowData(y)\n  }\n  getCheckedRows() {\n    this.doneEdit()\n    return this.body.getCheckedRows();\n  }\n  getChangedRows() {\n    this.doneEdit()\n    return this.body.getChangedRows();\n  }\n  validate(callback) {\n    this.doneEdit()\n    return this.body.validate(callback);\n  }\n  validateChanged(callback) {\n    this.doneEdit()\n    return this.body.validateChanged(callback);\n  }\n  validateField(ci, ri) {\n    this.doneEdit()\n    return this.body.validateField(ci, ri);\n  }\n  getValidations() {\n    this.doneEdit()\n    return this.body.getValidations()\n  }\n  setValidations(errors) {\n    return this.body.setValidations(errors)\n  }\n  clearValidations() {\n    return this.body.clearValidations()\n  }\n  updateData(data) {\n    return this.body.updateData(data)\n  }\n}\nexport default DataGrid;\n","export default {\n    bind (el, binding, vnode) {\n        function documentHandler (e) {\n            if (el.contains(e.target)) {\n                return false;\n            }\n            if (binding.expression) {\n                binding.value(e);\n            }\n        }\n        el.__vueClickOutside__ = documentHandler;\n        document.addEventListener('click', documentHandler);\n    },\n    update () {\n\n    },\n    unbind (el, binding) {\n        document.removeEventListener('click', el.__vueClickOutside__);\n        delete el.__vueClickOutside__;\n    }\n};","<template>\n  <div :class=\"CSS_PREFIX\" v-clickoutside=\"handleclickoutside\" @paste=\"doPaste\">\n    <div :class=\"`${CSS_PREFIX}-main`\">\n      <canvas\n        :id=\"`${CSS_PREFIX}-target`\"\n        :class=\"`${CSS_PREFIX}-table`\"\n      ></canvas>\n      <div\n        :class=\"`${CSS_PREFIX}-overlayer`\"\n        :style=\"{ top: `${tableHeaderHeight+1}px` }\"\n        v-loading=\"loading\"\n      >\n        <div :class=\"`${CSS_PREFIX}-editor`\" ref=\"editor\" :style=\"editorSty\">\n          <div\n            ref=\"text\"\n            contenteditable=\"true\"\n            v-show=\"isSimple\"\n            @input=\"inputHandler\"\n            @keydown.tab.prevent \n            @keydown.enter.prevent \n            @keydown.esc.prevent\n          ></div>\n          <el-date-picker\n            ref=\"month\"\n            v-if=\"dataType === 'month'\"\n            :class=\"`${CSS_PREFIX}-popup`\"\n            :style=\"popupSty\"\n            v-model=\"value\"\n            :editable=\"false\"\n            type=\"month\"\n            size=\"medium\"\n            placeholder=\"选择月份\"\n            format=\"yyyy-MM\"\n            value-format=\"yyyy-MM\"\n            @change=\"selectChange\"\n          >\n          </el-date-picker>\n          <el-date-picker\n            ref=\"date\"\n            v-else-if=\"dataType === 'date'\"\n            :class=\"`${CSS_PREFIX}-popup`\"\n            :style=\"popupSty\"\n            v-model=\"value\"\n            :editable=\"false\"\n            type=\"date\"\n            size=\"medium\"\n            placeholder=\"选择日期\"\n            format=\"yyyy-MM-dd\"\n            value-format=\"yyyy-MM-dd\"\n            @change=\"selectChange\"\n          >\n          </el-date-picker>\n          <el-date-picker\n            ref=\"datetime\"\n            v-else-if=\"dataType === 'datetime'\"\n            :class=\"`${CSS_PREFIX}-popup`\"\n            :style=\"popupSty\"\n            v-model=\"value\"\n            :editable=\"false\"\n            type=\"datetime\"\n            size=\"medium\"\n            placeholder=\"选择日期时间\"\n            format=\"yyyy-MM-dd HH:mm\"\n            value-format=\"yyyy-MM-dd HH:mm\"\n            @change=\"selectChange\"\n          >\n          </el-date-picker>\n          <el-select\n            ref=\"select\"\n            v-else-if=\"dataType === 'select'\"\n            :class=\"`${CSS_PREFIX}-popup`\"\n            :style=\"popupSty\"\n            v-model=\"value\"\n            clearable\n            filterable\n            size=\"medium\"\n            :automatic-dropdown=\"true\"\n            @change=\"selectChange\"\n          >\n            <el-option\n              v-for=\"item in selectOptions\"\n              :value=\"item.value\"\n              :label=\"item.label\"\n              :key=\"item.value\"\n            ></el-option>\n          </el-select>\n          <!-- <el-cascader\n            ref=\"cascader\"\n            v-else-if=\"dataType==='cascader'\"\n            :class=\"`${CSS_PREFIX}-popup`\"\n            :style=\"popupSty\"\n            v-model=\"cascader_value\"\n            size=\"medium\"\n            :options=\"selectOptions\"\n            @change=\"selectChange\">\n          </el-cascader> -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { CSS_PREFIX, HEADER_HEIGHT } from \"../core/constants.js\";\nimport { getMaxRow } from '../core/util.js'\nimport DataGrid from \"../core/DataGrid.js\";\nimport Clickoutside from './clickoutside.js'\nconst SIMPLE_DATE_TYPES = [\"text\", \"number\", \"phone\", \"email\"];\nconst COMPLEX_DATE_TYPES = [\"month\", \"date\", \"datetime\", \"select\"];\n\nexport default {\n  name: \"DDataGrid\",\n  props: {\n    rowKey: {\n      type: String,\n      default: 'id'\n    },\n    fixedLeft: {\n      type: Number,\n      default: 0\n    },\n    fixedRight: {\n      type: Number,\n      default: 0\n    },\n    width: Number,\n    height: Number,\n    columns: {\n      type: Array,\n      default() {\n        return [];\n      }\n    },\n    data: {\n      type: Array,\n      default() {\n        return [];\n      }\n    }\n  },\n  directives: {\n    Clickoutside\n  },\n  data() {\n    return {\n      CSS_PREFIX,\n      loading: false,\n      show: false,\n      dataType: \"text\",\n      popWidth: \"auto\",\n      isEditing: false,\n      isPaste: false,\n      value: \"\",\n      editorSty: {\n        borderColor: \"rgb(82,146,247)\"\n      },\n      focusCell: null,\n      cascader_value: [],\n      selectOptions: []\n    };\n  },\n  watch: {\n    columns(val) {\n      this.grid.updateColumns(val)\n      this.grid.loadData(this.data);\n    },\n    data(val) {\n      this.grid.updateColumns(this.columns)\n      this.grid.loadData(val);\n      this.loading = false;\n    }\n  },\n  computed: {\n    tableHeaderHeight() {\n      const maxHeaderRow = getMaxRow(this.columns)\n      return HEADER_HEIGHT * maxHeaderRow\n    },\n    popupSty() {\n      return {\n        width: this.popWidth,\n        top: \"-1px\"\n      };\n    },\n    isSimple() {\n      return SIMPLE_DATE_TYPES.includes(this.dataType);\n    }\n  },\n  methods: {\n    reload() {\n      return this.grid.resize()\n    },\n    getData() {\n      return this.grid.getData();\n    },\n    getCheckedRows() {\n      return this.grid.getCheckedRows();\n    },\n    getChangedRows() {\n      return this.grid.getChangedRows();\n    },\n    validate(callback) {\n      return this.grid.validate(callback);\n    },\n    validateChanged(callback) {\n      return this.grid.validateChanged(callback);\n    },\n    validateField(ci, ri) {\n      return this.grid.validateField(ci, ri);\n    },\n    getValidations() {\n      return this.grid.getValidations();\n    },\n    setValidations(errors) {\n      return this.grid.setValidations(errors);\n    },\n    clearValidations() {\n      return this.grid.clearValidations();\n    },\n    updateData(data) {\n      return this.grid.updateData(data);\n    },\n    setFullScreen() {\n      this.grid.resize();\n    },\n    editCell() {\n      const {\n        dataType,\n        options,\n        value\n      } = this.focusCell\n      this.show = true;\n      this.dataType = dataType;\n      if (![...SIMPLE_DATE_TYPES, ...COMPLEX_DATE_TYPES].includes(dataType)) {\n        this.dataType = 'text';\n      }\n      this.selectOptions = options;\n      this.$refs.text.innerHTML = value;\n      this.grid.setTempData(value)\n      if (this.dataType === \"month\" || this.dataType === \"date\" || this.dataType === \"datetime\") {\n        if (isNaN(value) && !isNaN(Date.parse(value))) {\n          this.value = value;\n        } else {\n          this.value = \"\";\n        }\n      } else {\n        this.value = value;\n      }\n      this.showEditor();\n      this.$nextTick(() => {\n        this.focus();\n      });\n    },\n    selectCell(cell) {\n      this.focusCell = cell\n      this.clearEditor()\n      this.hideEditor();\n      this.$nextTick(() => {\n        this.focus('text');\n      });\n    },\n    showEditor() {\n      const {\n        x,\n        y,\n        width,\n        height\n      } = this.focusCell\n      this.isEditing = true\n      this.$refs.editor.style.left = `${x - 1}px`;\n      this.$refs.editor.style.top = `${y - 2 - this.tableHeaderHeight}px`;\n      this.$refs.text.style[\"min-width\"] = `${width - 1}px`;\n      this.$refs.text.style[\"min-height\"] = `${height - 1}px`;\n      this.popWidth = `${width - 1}px`;\n      if (COMPLEX_DATE_TYPES.includes(this.dataType)) {\n        // 下拉，日期控件高度比输入框高\n        this.$refs.editor.style.height = \"38px\";\n      }\n    },\n    hideEditor() {\n      this.isEditing = false\n      this.$refs.editor.style.left = \"-10000px\";\n      this.$refs.editor.style.top = \"-10000px\";\n      this.show = false;\n      this.dataType = \"text\";\n    },\n    clearEditor() {\n      this.$refs.text.innerHTML = ''\n    },\n    focus(type) {\n      let _type = type || this.dataType;\n      if (this.isSimple) {\n        _type = \"text\";\n      }\n      const el = this.$refs[_type];\n      if (typeof el.focus === \"function\") {\n        if (COMPLEX_DATE_TYPES.includes(_type)) {\n          el.focus();\n        } else {\n          if (window.getSelection) {\n            // ie11 10 9 ff safari\n            el.focus(); // 解决ff不获取焦点无法定位问题\n            const selection = window.getSelection(); // 创建selection\n            selection.selectAllChildren(el); // 清除选区并选择指定节点的所有子节点\n            selection.collapseToEnd(); // 光标移至最后\n          } else if (document.selection) {\n            // ie10以下\n            const range = document.selection.createRange(); // 创建选择对象\n            // var range = document.body.createTextRange();\n            range.moveToElementText(el); // range定位到obj\n            range.collapse(false); // 光标移至最后\n            range.select();\n          }\n        }\n      }\n    },\n    doPaste() {\n      // 粘贴事件标识\n      this.isPaste = true\n    },\n    inputHandler(e) {\n      /**\n       * 复制粘贴的基本原理：直接监听可编辑元素（这里是contenteditable=true的div）的\n       * input事件，按下CTRL+V会先触发paste事件，接着会触发input事件，在paste事件中\n       * 定义一个标识，这样在input事件就可以区分内容是通过粘贴来的还是手动输入的\n       */\n      const val = e.target.innerText;\n      if (!this.isPaste) {\n        this.showEditor()\n        this.grid.setTempData(val)\n      } else if (!this.isEditing) {\n        this.isPaste = false\n\n        let textArr = [];\n        let arr = val.split(\"\\r\");\n        if (arr.length === 1) {\n          let _arr = arr[0].split(\"\\n\");\n          textArr = _arr.map(item => item.split(\"\\t\"));\n        } else {\n          textArr = arr.map(item => item.split(\"\\t\"));\n        }\n\n        // 通过table的格式进行粘贴解析\n        // const objE = document.createElement('div')\n        // objE.innerHTML = e.target.innerHTML\n        // const dom = objE.childNodes\n        // e.target.innerHTML = ''\n        // const pasteData = []\n        // const modifyData = []\n        // for (let i = 0; i < dom.length; i += 1) {\n        //     if (dom[i].tagName === 'TABLE') {\n        //         const trs = dom[i].querySelectorAll('tr')\n        //         for (const tr of trs) {\n        //             const arrTmp = []\n        //             for (const td of tr.cells) {\n        //                 let str = td.innerText\n        //                 str = str.replace(/^\\s+|\\s+$/g, '')\n        //                 arrTmp.push(str)\n        //                 const colspan = td.getAttribute('colspan')\n        //                 if (colspan) {\n        //                     for (let i = 1; i < colspan; i += 1) {\n        //                         arrTmp.push('')\n        //                     }\n        //                 }\n        //             }\n        //             pasteData.push(arrTmp)\n        //         }\n        //     } else {\n        //         pasteData.push([this.val])\n        //     }\n        // }\n\n        this.grid.pasteData(textArr)\n        this.clearEditor()\n      } else {\n        this.isPaste = false\n        this.grid.setTempData(val)\n      }\n    },\n    selectChange(val) {\n      this.grid.setTempData(val)\n    },\n    handleclickoutside() {\n      this.grid.doneEdit()\n    }\n  },\n  created() {\n    this.loading = this.data.length > 0 ? false : true;\n    this.$nextTick(() => {\n      const self = this;\n      let el = document.getElementById(`${CSS_PREFIX}-target`);\n\n      this.grid = new DataGrid(el, {\n        rowKey: this.rowKey,\n        width: this.width,\n        height: this.height,\n        fixedLeft: this.fixedLeft,\n        fixedRight: this.fixedRight,\n        columns: this.columns,\n        data: this.data,\n        beforeSelectCell: () => {},\n        afterSelectCell: (cell) => {\n          self.selectCell(cell)\n        },\n        beforeMultiSelectCell: () => {},\n        afterMultiSelectCell: () => {},\n        beforeEditCell: () => {\n          self.editCell();\n        },\n        afterEditCell: (data) => {\n          self.$emit('after-edit-cell', data)\n        },\n        afterAutofill: (data) => {\n          self.$emit('after-autofill', data)\n        },\n        afterPaste: (data) => {\n          self.$emit('after-paste', data)\n        },\n        afterClear: (data) => {\n          self.$emit('after-clear', data)\n        },\n        onLoad: () => {\n          // 推入事件队列中延迟执行\n          setTimeout(() => {\n            self.$emit('on-load')\n          }, 0)\n        }\n      });\n    });\n  },\n  destroyed() {\n    this.grid.events.destroy()\n  }\n};\n</script>\n<style lang=\"scss\" src=\"./index.scss\"></style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b3cead64&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <div id=\"data-grid-demo\"></div>\n    <div style=\"padding: 12px 0;\">\n      <el-button size=\"small\" @click=\"getData\">获取数据</el-button>\n      <el-button size=\"small\" @click=\"updateData\">更新行数据</el-button>\n      <el-button size=\"small\" @click=\"getCheckedRows\">获取选中行数据</el-button>\n      <el-button size=\"small\" @click=\"getChangedRows\"\n        >获取已改变行数据</el-button\n      >\n      <el-button size=\"small\" @click=\"getValidations\"\n        >获取校验结果</el-button\n      >\n      <el-button size=\"small\" @click=\"setValidations\"\n        >设置校验结果</el-button\n      >\n      <el-button size=\"small\" @click=\"clearValidations\"\n        >清空校验结果</el-button\n      >\n      <el-button size=\"small\" @click=\"setFullScreen\">\n        {{ !isFullscreen ? \"全屏\" : \"退出全屏\" }}\n      </el-button>\n    </div>\n    <DataGrid\n      ref=\"datagrid\"\n      :columns=\"columns\"\n      :data=\"gridData\"\n      :fixed-left=\"2\"\n      :fixed-right=\"1\"\n      @after-edit-cell=\"afterEditCell\"\n      @after-autofill=\"afterAutofill\"\n      @after-paste=\"afterPaste\"\n      @after-clear=\"afterClear\"\n    ></DataGrid>\n  </div>\n</template>\n<script>\n// import DataGrid from \"./core/DataGrid.js\";\nimport DataGrid from \"./components/index.vue\";\nexport default {\n  name: \"App\",\n  components: { DataGrid },\n  data() {\n    return {\n      isFullscreen: false,\n      gridData: [],\n      columns: []\n    };\n  },\n  methods: {\n    setFullScreen() {\n      let el = document.getElementById(\"app\");\n      if (!this.isFullscreen) {\n        this.isFullscreen = true;\n        el.style.cssText = `\n          position: fixed;\n          top: 0;\n          left: 0;\n          bottom: 0;\n          right: 0;\n          min-height: 100vh;\n          background: #fff;\n          z-index: 2000;\n          overflow: hidden;\n        `;\n      } else {\n        this.isFullscreen = false;\n        el.style.cssText = `\n          position: relative;\n        `;\n      }\n      this.$refs.datagrid.setFullScreen();\n    },\n    getData() {\n      const data = this.$refs.datagrid.getData();\n      console.log(data);\n      alert(\"获取成功，请查看控制台\");\n    },\n    updateData() {\n      const data = [\n        {\n          id: 1,\n          'emp_name': '数据111',\n          'emp_no': '数据222'\n        },\n        {\n          id: 3,\n          'job_name': '数据333',\n          'emp_no': '数据444'\n        }\n      ]\n      this.$refs.datagrid.updateData(data);\n    },\n    afterEditCell(data) {\n      console.log(data)\n    },\n    afterAutofill(data) {\n      console.log(data)\n    },\n    afterPaste(data) {\n      console.log(data)\n    },\n    afterClear(data) {\n      console.log(data)\n    },\n    getCheckedRows() {\n      const data = this.$refs.datagrid.getCheckedRows();\n      console.log(data);\n      alert(\"获取成功，请查看控制台\");\n    },\n    getChangedRows() {\n      const data = this.$refs.datagrid.getChangedRows();\n      console.log(data);\n      alert(\"获取成功，请查看控制台\");\n    },\n    getValidations() {\n      const data = this.$refs.datagrid.getValidations();\n      console.log(data);\n      alert(\"获取成功，请查看控制台\");\n    },\n    setValidations() {\n      const errors = [\n        {\n          id: 1,\n          'emp_name': '错误111',\n          'emp_no': '错误222'\n        },\n        {\n          id: 3,\n          'job_name': '错误333',\n          'emp_no': '错误444'\n        }\n      ]\n      this.$refs.datagrid.setValidations(errors);\n    },\n    clearValidations() {\n      this.$refs.datagrid.clearValidations();\n    }\n  },\n  created() {\n    const columns = [\n      { title: \"姓名\", key: \"emp_name\" },\n      { title: \"工号\", key: \"emp_no\", type: 'number' },\n      {\n        title: \"部门\",\n        key: \"dep_name\",\n        size: \"small\",\n        align: \"left\",\n        readonly: true\n      },\n      {\n        title: \"岗位\",\n        key: \"job_name\",\n        size: \"small\",\n        align: \"left\",\n        rule: {\n          required: true,\n          validator: function(value, row, callback) {\n            if (value.length > 10) {\n              callback('岗位字段长度必须小于10个字符哦！')\n            } else if (value.length < 1) {\n              callback('岗位字段长度必须填哦！')\n            } else {\n              callback()\n            }\n          },\n          immediate: false\n        }\n      },\n      { title: \"手机号\", key: \"phone\", type: \"phone\" },\n      { \n        title: \"配送信息\", \n        key: \"delivery_info\",\n        // children: [\n        //   {\n        //     title: \"寄件人\", \n        //     key: \"delivery_name\",\n        //   },\n        //   {\n        //     title: \"配送地址\", \n        //     key: \"delivery_address\",\n        //     children: [\n        //       {\n        //         title: \"省\", \n        //         key: \"province\",\n        //       },\n        //       {\n        //         title: \"市\", \n        //         key: \"city\",\n        //       },\n        //       {\n        //         title: \"区\", \n        //         key: \"region\",\n        //       }\n        //     ]\n        //   }\n        // ]\n      },\n      {\n        title: \"性别\",\n        key: \"sex\",\n        type: \"select\",\n        options: [\n          { value: 1, label: \"男\" },\n          { value: 2, label: \"女\" }\n        ],\n        rule: {\n          required: true\n        }\n      },\n      {\n        title: \"计薪月份\",\n        size: \"small\",\n        key: \"salary_month\",\n        type: \"month\",\n        align: \"center\" \n      },\n      { title: \"出生日期\", size: \"small\", key: \"birthday\", type: \"date\" },\n      // { title: \"爱好\", size: 'small', key: \"hobby\", type: 'cascader', options: [\n      //   {\n      //     value: '1',\n      //     label: '水果',\n      //     children: [\n      //       {\n      //         value: '11',\n      //         label: '苹果'\n      //       },\n      //       {\n      //         value: '12',\n      //         label: '香蕉'\n      //       }\n      //     ]\n      //   },\n      //   {\n      //     value: '2',\n      //     label: '书籍',\n      //     children: [\n      //       {\n      //         value: '21',\n      //         label: 'web前端',\n      //         children: [\n      //           {\n      //             value: '211',\n      //             label: 'Javascript程序设计',\n      //           },\n      //           {\n      //             value: '212',\n      //             label: 'NodeJs实战',\n      //           }\n      //         ]\n      //       },\n      //       {\n      //         value: '22',\n      //         label: '后端开发'\n      //       }\n      //     ]\n      //   }\n      // ] },\n      {\n        title: \"家庭地址\",\n        key: \"address\",\n        size: \"medium\",\n        align: \"left\",\n        rule: {\n          required: true,\n          message: \"该项必填哦！\"\n        }\n      },\n      {\n        title: \"请假开始时间\",\n        size: \"small\",\n        key: \"start_dt\",\n        type: \"datetime\"\n      },\n      {\n        title: \"物料编码\",\n        key: \"materialNo\",\n        align: \"right\",\n        render: function(val) {\n          const v = parseFloat(val);\n          return v.toFixed(2);\n        }\n      },\n      {\n        title: \"数量\",\n        key: \"requiredQuantity\",\n        type: \"number\",\n        align: \"right\",\n        rule: {\n          message: \"请输入数字，且不能超过2为小数！\"\n        }\n      },\n      { title: \"单位\", key: \"unit\" },\n      { title: \"工作性质\", key: \"work_type\" },\n      { title: \"工作状态\", key: \"work_status\" },\n      { title: \"户籍城市\", key: \"household_city\" },\n      { title: \"户籍地址\", key: \"household_address\" },\n      { title: \"民族\", key: \"nation\" },\n      { title: \"工作地址\", size: \"small\", key: \"work_address\" },\n      { title: \"工作邮箱\", size: \"small\", key: \"work_email\" },\n      { title: \"个人邮箱\", size: \"small\", key: \"email\" },\n      { title: \"工龄\", key: \"work_age\" },\n      { title: \"司龄\", key: \"company_age\" },\n      { title: \"合同公司\", size: \"small\", key: \"contract_company\" },\n      { title: \"qq号\", key: \"qq\" },\n      { title: \"年龄\", key: \"age\" },\n      { title: \"品牌\", key: \"brandName\" },\n      { title: \"商品名称\", key: \"goodsName\" },\n      { title: \"规格型号\", key: \"sn\" },\n      { title: \"客户备注\", key: \"customerRemarks\", size: \"small\" },\n      {\n        title: \"采购价(元)\",\n        key: \"purchasePrice\",\n        type: \"number\"\n      },\n      { title: \"销售价(元)\", key: \"salePrice\", type: \"number\", size: \"small\" }\n    ]\n    // this.$nextTick(() => {\n    let el = document.getElementById(\"data-grid-demo\");\n    let data = [];\n    for (let i = 0; i < 1000; i += 1) {\n      data.push({\n        id: i,\n        emp_name: `张三${i}`,\n        emp_no: 10 + i,\n        dep_name: i === 4 ? null : `研发部${i}`,\n        job_name: i === 5 ? \"产品经理测试很长的名字\" : `产品经理${i}`,\n        phone: i === 4 ? \"13159645561a\" : `${13159645561 + i}`,\n        sex: i % 4 === 0 ? 1 : i === 3 ? null : 2,\n        address:\n          i === 1\n            ? `海淀区北京路海淀区北京路十分地${i}号`\n            : i === 4\n            ? \"\"\n            : `海淀区北京路${i}号`,\n        work_type: `兼职${i}`,\n        work_status: `在职${i}`,\n        household_city: `深圳${i}`,\n        household_address: `深南大道${i}号`,\n        nation: `汉${i}`,\n        work_address: `南京路${i}号`,\n        work_email: `${28976633 + i}@qq.com`,\n        email: `${4465566 + i}@qq.com`,\n        work_age: 2 + i,\n        company_age: 1 + i,\n        contract_company: `飞鸟物流公司${i}`,\n        qq: 35860567 + i,\n        salary_month: `${1996 + i}-09`,\n        birthday: `${1996 + i}-09-21`,\n        age: 1 + i,\n        hobby: \"水果/苹果\",\n        brandName: `博世${i}`,\n        goodsName: `电钻${i}`,\n        sn: `SDFSD${i}`,\n        materialNo: `1231${i}`,\n        unit: \"个\",\n        requiredQuantity: 10,\n        customerRemarks: `测试测试${i}`,\n        purchasePrice: 10.2 + i,\n        salePrice: 12.3 + i,\n        delivery_name: `王麻子${i}`,\n        delivery_address: `民族大道${i}号`,\n        province: `湖北省${i}`\n      });\n    }\n    this.columns = columns;\n    // setTimeout(() => {\n      this.gridData = data;\n    // }, 2000)\n\n    // const Grid = new DataGrid(el, {\n    //   // width: 1264,\n    //   // height: 400,\n    //   fixedLeft: 1,\n    //   fixedRight: 2,\n    //   columns: this.columns,\n    //   data\n    // });\n    // });\n  }\n};\n</script>\n\n<style lang=\"scss\">\nbody {\n  margin: 0;\n}\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  padding: 0;\n  margin: 0;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=646a76c2&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport {\n  Button,\n  DatePicker,\n  Select,\n  Option,\n  Cascader,\n  loading\n} from \"element-ui\";\n\nVue.use(Button);\nVue.use(DatePicker);\nVue.use(Select);\nVue.use(Option);\nVue.use(Cascader);\nVue.use(loading);\n\n// Vue.directive('loading', loading)\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport \"./plugins/element.js\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\");\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAALCAYAAABLcGxfAAAAOElEQVQoU2NkQAINLf3/G2oKGfGJMYIUISsgxEbRADId3QB0MfJsQHc3LmeBbAfbMCI1EIosZHkAeThBwJAJ9eAAAAAASUVORK5CYII=\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB7klEQVRoQ+2ZQVLCMBSG/+foiszoDYQTyA1ELqLcANdlwULWjiegXqRwBU8gnEAc6gqG50TpDNQEG/pagpYlTZPve38mTRvCkf/oyPlRCRw6wSoBrxNo9fni5CweMqNFRBdlwjIwIWC8WtTux32a2ca2TiENT6fxa9ngaVBmnvFSNWwSVoGbhzgkwm2ZVbeNxYznUU/dma7vEJi/Hbr6CbCeTqNANZwE2oOYfah+whAFylhsawKVgHB83ifAjBcCQhAeTe5eC2h4XtZaeqm0rX7eCmzCJ5U3SXgpYILXEu1BPASwte57J+ACr6W8EnCF90pgH3hvBPaFFxXQGysATSJcuTyr8sCLCSS7wu+t9sc4q0ReeBGB9JY2q4QEvIgAgDAKVGdz2vwmIQUvJaD7ySwhCS8poPt6igLV3ZWENLy0gO6vEwUqNEno/5KN2eZ10/bAZRUr4klslNBQ6RfwvPBFJJAU74dEuqoS8EUKGKdTIiEFX7SAUUISvgyBLQlp+LIEviQAXKdfRlxWG1vbIlYhCa7MfVQCmUtVUMP/mMB8BtB5QQV165YxjXqqbrrp735eX5/OTA6fAr+vFqrufMCh41qf0oQEaoJw6ZZ7ztaMKQNjXta6ex0x5Ry+tNurY9bSSm0ZqEqgSiBnBT4BkfqPQMORwUwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABXUlEQVRoQ+2ZwVEDMQxFJTdACYQOQgWkA9KFvSeSTrh51QVUACVsCUkHoQGL2SMzMfMVYrOZUc5//PXft3JYM934j298fvIA/92gN7DoBkRkq6ovzLzpPaiqHph5KqXsh2E41PyrVyjnvAkhfPQe/IzfqZTyWAtRDSAin0T0tIAApKrvKaXtuVl+C6BLGH6eYb5OKaWHPwWIMXb9xxKRHwBr/nADHsB4H70BlIARLCxH/X0HYKRGoTeAEjCCheWov+8AjNQo9AZQAkawsBz19x2AkRqF3gBKwAgWlqP+vgMwUqPQG0AJGMHCctTfdwBGahR6AygBI1hYjvr7DsBIjUJvQERORHRnBNdKfowxrkwfd8dxfGPm51YTWc696PN6znkVQpgW0MJXKWVtfuCYCc0hmPmVmddEdG+hdgXtUVUnVd1d9MR0hQG6HNH10aJFIg/QgqrlTG/AQquF9huB5SxAQNMDWAAAAABJRU5ErkJggg==\""],"sourceRoot":""}